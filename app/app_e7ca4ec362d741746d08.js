/*! For license information please see app_e7ca4ec362d741746d08.js.LICENSE.txt */
"use strict";(self.webpackChunklibrary_watch=self.webpackChunklibrary_watch||[]).push([[143],{555:(t,e,n)=>{var o=n(745),i=n(341),r=n.n(i);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},s.apply(this,arguments)}var a,l=n(133),c=n.n(l),u="alert",p="info",d="addToWatch",h="loadWatchItem",f="editWatchGroup",v="editWatchList",m="loadFile",g="LW",x="WL",y="WL_WATCH_LIST",C="showAbout",w="initAndShowDialog",b="showDialog",j="closeCompItemList",S="showModalDialog",T=c().createActions(((a={}).showAbout={},a.initAndShowDialog={},a.showDialog={},a.closeChartContainer={},a.closeCompItemList={},a.showModalDialog={},a));T.showAlert=T.showModalDialog.bind(null,u);var _,k=T,I="loadingProgress",O="loadingProgressComplete",D="loadingProgressFailed",L=c().createActions(((_={})[I]={},_[O]={},_[D]={},_));const R=function(t){var e=t.uri,n=t.option,o=t.onFetch,i=t.onCheckResponse,r=t.onCompleted,s=t.onCatch,a=t.onFailed,l=t._crErr,c=t._nowTime,u=t._doneOk,p=t._doneFailure;return fetch(e).then((function(t){var e=t.status,o=t.headers;if(n.limitRemaining=o.get("X-RateLimit-Remaining"),e>=200&&e<=400)return t.json();throw l(t)})).then((function(t){i(t,n)&&o({json:t,option:n,onCompleted:r}),u(c)})).catch((function(t){s({error:t,option:n,onFailed:a}),p(c)}))};var N=n(460),E=n.n(N);const A=function(t){var e=t.uri,n=t.option,o=t.onFetch,i=t.onCheckResponse,r=t.onCompleted,s=t.onCatch,a=t.onFailed,l=t._crErr,c=t._crErrResp,u=t._nowTime,p=t._doneOk,d=t._doneFailure;return fetch(e).then((function(t){if(t.body)return t.body.getReader().read();throw l(t)})).then((function(t){var e=String.fromCharCode.apply(String,t.value);return E().parse(e,{header:!0})})).then((function(t){if(!i(t))throw c();o({json:t,option:n,onCompleted:r}),p(u)})).catch((function(t){s({error:t,option:n,onFailed:a}),d(u)}))};var W=3e3,M="DONE",B={errCaption:"Load Frequency",message:"Exceed item load frequency restriction of 3s"},P={errCaption:"Loading In Progress",message:"Loading data for this item in progress.\nIt seems several clicks on button Load repeatedly happend."},F=function(t){var e=void 0===t?{}:t;return{errCaption:"Request Error",message:e.status+": "+e.statusText}},V=function(){return{errCaption:"Response Error",message:"Response format is incorrect"}},U=M,G=Date.now()-W,H=G,z=function(t,e){U=t,G=e},q=function(t,e){!function(t,e){U=t,H=e}(t,e),L.loadingProgress()},K=function(t){z(M,t),L.loadingProgressComplete()},Y=function(t){z(M,t),L.loadingProgressFailed()};const J=function(t){var e=t.uri,n=t.option,o=t.onFailed,i=t.onCatch,r=Date.now();if(!(r-H<300))if(e===U)i({error:P,option:n,onFailed:o});else if(r-G<W)i({error:B,option:n,onFailed:o});else{var a=s({},t,{_crErr:F,_crErrResp:V,_nowTime:r,_doneOk:K,_doneFailure:Y});q(e,r),"csv-stream"===n.fetchType?A(a):R(a)}};var X=function(t,e){var n=e.caption,o=e.descr;t.alertCaption=n,t.alertDescr=o},Q="Watch List has been saved.",$=function(t,e){return"The "+t+" witn name "+e+" not found."},Z=function(t){return"Group with name "+t+" is already existed."},tt=function(t,e){return"List with name "+t+"\n      In Group "+e+" is already existed."},et=function(t,e){return"Item with name "+t+"\n      In List "+e+" is already existed."},nt=function(t){return t+" name can not be empty."},ot=function(t){return t+" is not selected."},it=function(t,e){return{caption:t,descr:e}},rt=(it("Loading In Progress","Loading the chart for this item-code in progress.\nIt seems several clicks on button Load repeatedly happend."),it("Drag Drop Item","Item in List already has been existed.")),st=it("Drag Drop List","List in Group already has been existed."),at=it("Load from JSON File","Can not Load Watch Items from JSON File"),lt=it("Runtime Error"),ct=it("Network Error","Network error is encountered. Failed to fetch. May be you are offline, a DNS lookup failure or a resource unreachable."),ut=it("Service Unavailable 503","Back-end server is at capacity. HTTP Code 503"),pt=function(t,e){return-1!==(t||"").indexOf(e)};const dt=function(t){var e=t.error,n=t.option,o=t.onFailed,i=e||{},r=i.errCaption,s=i.message;e instanceof TypeError?pt(s,"code 503")?X(n,ut):pt(s,"fetch")?X(n,ct):(n.alertCaption=r||lt.caption,n.alertDescr=s):(n.alertCaption=r||lt.caption,n.alertDescr=s),o(n)};var ht="https://api.github.com",ft={GH_RELEASE_RECENT:function(t){return ht+"/repos/"+t.repo+"/releases/latest"},GH_TAGS:function(t){return ht+"/repos/"+t.repo+"/tags"},GH_SEARCH_INFO:function(t){return ht+"/search/repositories?q=repo:"+t.repo},GH_COMMITS:function(t){return ht+"/repos/"+t.repo+"/commits"},GH_ISSUES:function(t){return ht+"/repos/"+t.repo+"/issues"},GH_PULL_REQUESTS:function(t){return ht+"/repos/"+t.repo+"/pulls"}},vt={getRequestUrl:function(t){return(0,ft[t.requestType])(t)},getOnCheckResponse:function(){return vt.checkResponse},crKey:function(t){return t.repo+"_"+t.requestType},checkResponse:function(){return!0}};const mt=vt;var gt=function(t){return"number"==typeof t&&t-t==0},xt=Number.isNaN,yt=Array.isArray,Ct=function(t){return"string"==typeof t},wt=function(t){return Ct(t)&&""!==t},bt=function(t){return wt(t)?t[0].toUpperCase()+t.substring(1):t},jt="https://api.npmjs.org",St=function(t){var e,n=t.repo;t.packageLink=(e=n)?"https://www.npmjs.com/package/"+e:"https://www.npmjs.com"},Tt={NPM_RECENT_VERSION:function(t){return"https://registry.npmjs.org/-/package/"+t.repo+"/dist-tags"},NPM_DOWNLOADS_RECENT_MONTH:function(t){return St(t),jt+"/downloads/range/last-month/"+t.repo},NPM_DOWNLOADS:function(t){var e=t.fromDate,n=t.toDate,o=t.repo;return St(t),jt+"/downloads/range/"+e+":"+n+"/"+o}},_t={getRequestUrl:function(t){return(0,Tt[t.requestType])(t)},getOnCheckResponse:function(){return _t.checkResponse},crKey:function(t){var e=t.repo,n=t.requestType,o=t.fromDate;return e+"_"+n+"_"+(void 0===o?"":o)},checkResponse:function(t,e){void 0===t&&(t={});var n=t.error;if(n)throw{errCaption:"Request Package",message:bt(n)};return!0}};const kt=_t;var It,Ot="https://api.stackexchange.com/2.2",Dt="SE_QUESTIONS",Lt=((It={}).SE_QUESTIONS=function(t){var e=t.repo,n=t.sort,o=void 0===n?"week":n,i=t.fromdate,r=t.todate;return Ot+"/questions?page=1&pagesize=50&order=desc&fromdate="+i+"&todate="+r+"&sort="+o+"&tagged="+(e||"css")+"&site=stackoverflow"},It.SE_SEARCH_QUESTIONS=function(t){var e=t.repo,n=void 0===e?"css":e,o=t.intitle,i=void 0===o?"":o,r=t.sort,s=void 0===r?"activity":r,a=t.fromdate,l=t.todate;return n||i||(n="css"),Ot+"/search?page=1&pagesize=50&order=desc&fromdate="+a+"&todate="+l+"&sort="+s+"&tagged="+n+"&intitle="+i+"&site=stackoverflow"},It);const Rt={getRequestUrl:function(t){var e=t||{},n=e.requestType;return Lt[n||Dt](e)},getOnCheckResponse:function(){return this.checkResponse},crKey:function(t){return t.repo+"_"+t.requestType},checkResponse:function(t,e){var n=t||{},o=n.error_message,i=n.error_name;if(o)throw{errCaption:bt((void 0===i?"":i).replace("_"," ")),message:bt(o)};return!0}};var Nt="https://gs.statcounter.com/",Et="os-version-market-share/windows/desktop/",At="os-version-market-share/macos/desktop/",Wt="os-version-market-share/android/mobile-tablet/",Mt="os-version-market-share/ios/mobile-tablet/",Bt={os:{csv:Nt+"chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&granularity=monthly&statType=Operating%20System&csv=1",link:Nt+"os-market-share/"},"win-desktop":{csv:""+Nt+Et+"chart.php?device=Desktop&device_hidden=desktop&statType_hidden=windows_version&granularity=monthly&statType=Windows%10Version&csv=1",link:""+Nt+Et},"mac-desktop":{csv:""+Nt+At+"chart.php?device=Desktop&device_hidden=desktop&statType_hidden=macos_version&granularity=monthly&statType=macOS%20Version&csv=1",link:""+Nt+At},"android-mobile":{csv:""+Nt+Wt+"chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=android_version&granularity=monthly&statType=Android%20Version&csv=1",link:""+Nt+Wt},"ios-mobile":{csv:""+Nt+Mt+"chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=ios_version&granularity=monthly&statType=iOS%20Version&csv=1",link:""+Nt+Mt},browser:{csv:Nt+"chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=browser&granularity=monthly&statType=Browser&csv=1",link:Nt+"browser-market-share/all/"}},Pt=Array.isArray,Ft=null,Vt=function(){var t=new Date,e=t.getUTCMonth(),n=e<10?"0"+e:""+e,o=t.getUTCFullYear(),i=o-2;return Ft||(Ft="fromInt="+i+n+"&toInt="+o+n+"&fromMonthYear="+i+"-"+n+"&toMonthYear="+o+"-"+n)},Ut={getRequestUrl:function(t){var e=function(t){var e=t.value,n=t.region,o=void 0===n?{}:n,i=Bt[e],r=Vt();return{csv:i.csv+"&region="+o.caption+"&region_hidden="+o.v2+"&"+r,link:""+i.link+o.value}}(t),n=e.csv,o=e.link;return t.fetchType="csv-stream",t.sourceLink=o,n},crKey:function(t){var e=t.value,n=(t.region||{}).value;return(void 0===n?"":n)+"-"+e},getOnCheckResponse:function(){return Ut.checkResponse},checkResponse:function(t,e){return t&&Pt(t.data)}};const Gt={GH:mt,NPM:kt,SE:Rt,ST:Ut};var Ht={getApi:function(t){var e=t.requestType.split("_")[0];return Gt[e]},getRequestUrl:function(t){return Ht.getApi(t).getRequestUrl(t)},getOnCheckResponse:function(t){return Ht.getApi(t).getOnCheckResponse()},crKey:function(t){return Ht.getApi(t).crKey(t)},checkResponse:function(){return!0}};const zt=Ht;var qt=function(t){var e=t.json,n=t.option;(0,t.onCompleted)(n,e)};const Kt={LW:{loadItem:function(t,e,n){J({uri:zt.getRequestUrl(t),option:t,onCheckResponse:zt.getOnCheckResponse(t),onFetch:qt,onCompleted:e,onCatch:dt,onFailed:n})},crKey:zt.crKey}};var Yt,Jt={caption:"Already loaded",descr:"This item already has been loaded\nto container, moved to top."},Xt="initAndShowChart",Qt="loadStockCompleted",$t="showChart",Zt="closeChart",te=c().createActions(((Yt={}).loadStock={children:["completed","failed"],isLoading:!1,idLoading:void 0,isShouldEmit:!0},Yt.showChart={},Yt.closeChart={},Yt.removeAll={},Yt.moveToTop={},Yt));te.loadStock.listen((function(t,e,n){var o=n.loadId,i=void 0===o?"LW":o;n.chartType=t,n.browserType=e;var r=Kt[i],s=r.crKey,a=r.loadItem,l=s(n);Qu.isKeyTop(l,n)?(k.showAlert(Jt),te.showChart(t,e)):(n.key=l,this.isLoading=!0,this.idLoading=l,a(n,this.completed,this.failed))}));var ee,ne=te,oe="showBrowser",ie="updateBrowserMenu",re="showBrowserDynamic",se="initBrowserDynamic",ae="loadBrowserDynamicCompleted",le="updateWatchBrowser",ce="toggleWatchDbBrowser",ue=c().createActions(((ee={}).showBrowser={},ee.updateBrowserMenu={},ee.showBrowserDynamic={},ee.initBrowserDynamic={},ee.loadBrowserDynamic={children:["completed","failed"]},ee.updateWatchBrowser={},ee.toggleWatchDbBrowser={},ee)),pe=function(t){var e=t.json,n=t.option;(0,t.onCompleted)({menu:e.menu,items:e.items,browserType:n.browserType})};ue.loadBrowserDynamic.listen((function(t){J({uri:t.sourceMenuUrl,option:t,onCheckResponse:function(t){return!0},onFetch:pe,onCompleted:this.completed,onCatch:dt,onFailed:this.failed})}));var de,he=ue,fe="addItem",ve="addGroup",me="renameGroup",ge="deleteGroup",xe="createList",ye="renameList",Ce="deleteList",we="editWatchCompleted",be="editWatchFailed",je="setWatchEdited",Se=c().createActions(((de={}).addItem={},de.removeItem={},de.saveWatch={},de.dragDropGroup={},de.dragDropList={},de.dragDropItem={},de.addGroup={},de.renameGroup={},de.deleteGroup={},de.createList={},de.renameList={},de.deleteList={},de.editWatchCompleted={},de.editWatchFailed={},de.backupToJson={},de.loadFromJson={},de)),Te=n(294),_e=function(t){return(t||{}).current},ke=function(t,e){t&&(t.current=e)},Ie=function(t){var e=_e(t);e&&"function"==typeof e.focus&&e.focus()},Oe=function(t){return t&&t[0]||{}},De=function(t){return Oe(t).clientX},Le=function(t){return Oe(t).clientY},Re=function(t){return t.clientX||De(t.targetTouches)||De(t.changedTouches)||0},Ne=function(t){return t.clientY||Le(t.targetTouches)||Le(t.changedTouches)||0};const Ee=function(t,e){var n=(0,Te.useState)((function(){return"function"==typeof t?t():!!t})),o=n[0],i=n[1],r=(0,Te.useCallback)((function(t){e&&t&&t.stopPropagation(),i((function(t){return!t}))}),[]);return[o,r,i]};const Ae=function(t){var e=(0,Te.useRef)(null);return null===e.current&&(e.current=t()),[e.current,e]};const We=function(t,e){var n=Ee(),o=n[0],i=n[1],r=n[2],s=(0,Te.useCallback)((function(){r(!0)}),[]);return[Ae((function(){return t(e)}))[0],o,i,s]};const Me=function(t,e,n){void 0===n&&(n="listen"),(0,Te.useLayoutEffect)((function(){return t[n](e)}),[])};var Be=Date.now||function(){return new Date.getTime};const Pe=function(t,e){void 0===e&&(e=800);var n=0;return function(){var o=Be();if(o-n>e)return n=o,t.apply(void 0,arguments)}};const Fe=function(t,e,n){return(0,Te.useCallback)(Pe(t,n),e||[])};const Ve=function(){var t=(0,Te.useRef)(!0),e=t.current;return t.current=!1,e};const Ue=function(t,e){var n=Ve();(0,Te.useEffect)((function(){n||t()}),e)};var Ge=function(t,e){_e(e)&&(document.removeEventListener("click",t,!0),e.current=null)};const He=function(t,e){var n=(0,Te.useRef)(null),o=(0,Te.useRef)(null),i=(0,Te.useCallback)((function(t){var o=_e(n);o&&o.contains&&!o.contains(t.target)&&(t.stopPropagation(),e(t))}),[]);return(0,Te.useEffect)((function(){t&&!_e(o)?(document.addEventListener("click",i,!0),o.current=!0):t||Ge(i,o)})),(0,Te.useEffect)((function(){return function(){return Ge(i,o)}}),[]),n};var ze=n(893),qe={backgroundColor:"#4d4d4d"},Ke=function(){};const Ye=function(t){var e=t.isShow,n=t.onClose,o=void 0===n?Ke:n,i=t.children,r=He(e,o);return(0,ze.jsx)("div",{ref:r,style:qe,children:i})};var Je=Array.isArray,Xe=function(t){return Je(t)?t[0]?t[1]:"":t||""};const Qe=function(t,e){var n=Xe(t),o=Xe(e);return n?o?n+" "+o:n:o||void 0};var $e={display:"block"},Ze={display:"none"};const tn=function(t){var e=t.isShow,n=t.style,o=t.className,i=t.children,r=Qe(o,[e,"show-popup"]),a=e?$e:Ze;return(0,ze.jsx)("div",{className:r,style:s({},n,a),children:i})};function en(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(i[n]=t[n]);return i}var nn=["onClick","onReg","children"],on=(0,Te.forwardRef)((function(t,e){var n=t.onClick,o=(t.onReg,t.children),i=en(t,nn);return(0,ze.jsx)("div",s({},i,{ref:e,role:"menuitem",tabIndex:"0",onClick:n,onKeyDown:function(t){13!==t.which&&32!==t.which||n()},children:o}))}));const rn=on;var sn={position:"relative"},an={position:"absolute",top:0,left:16},ln={paddingLeft:16},cn=(0,Te.forwardRef)((function(t,e){var n=t.titleCl,o=t.title,i=(t.pageNumber,t.onClick);return o?(0,ze.jsxs)(rn,{ref:e,className:n,style:sn,onClick:i,children:[(0,ze.jsx)("span",{style:an,children:"<"}),(0,ze.jsx)("span",{style:ln,children:o})]}):null}));const un=cn;var pn={position:"relative"},dn={position:"absolute",display:"inline-block",top:0,right:4,color:"inherit",padding:"1px 16px 1px 0px",fontWeight:"bold"},hn=function(t){return"sub"===t.type?(0,ze.jsx)("span",{style:dn,children:">"}):null},fn=(0,Te.forwardRef)((function(t,e){var n=t.items,o=t.itemCl,i=t.pageNumber,r=t.onNextPage,s=t.onClose;return(0,ze.jsx)(ze.Fragment,{children:n.map((function(t,n){var a=t.cn,l=t.name,c=t.type,u=t.id,p=t.isClose,d=t.onClick,h="sub"===c?r.bind(null,u,l,i):function(t){var e=t.isClose,n=t.onClick,o=t.onClose;return"function"==typeof n?e?function(){n(),o()}:n:void 0}({isClose:p,onClick:d,onClose:s}),f=0===n?e:void 0;return(0,ze.jsxs)(rn,{ref:f,className:a||o,style:pn,onClick:h,children:[(0,ze.jsx)("span",{children:l}),(0,ze.jsx)(hn,{type:c})]},l)}))})}));const vn=fn;var mn=function(t){return function(){t&&t.current&&t.current.focus()}};const gn=function(t){var e=t.isShow,n=t.items,o=void 0===n?[]:n,i=t.style,r=t.title,s=t.titleCl,a=t.itemCl,l=t.pageCurrent,c=t.pageNumber,u=t.onClose,p=t.children,d=t.onNextPage,h=t.onPrevPage,f=(0,Te.useRef)(),v=(0,Te.useRef)(),m=(0,Te.useCallback)((function(){h(c)}),[h,c]),g=l===c&&e;return(0,Te.useEffect)((function(){g&&(f.current?setTimeout(mn(f),1e3):v.current&&setTimeout(mn(v),1e3))})),(0,ze.jsxs)("div",{style:i,children:[(0,ze.jsx)(un,{ref:f,titleCl:s,title:r,onClick:m}),(0,ze.jsx)(vn,{ref:v,items:o,itemCl:a||s,pageNumber:c,onNextPage:d,onClose:u}),p]})};const xn=function(t){var e=t.isShow,n=t.style,o=t.pages,i=t.pageCurrent,r=t.onNextPage,s=t.onPrevPage,a=t.onClose;return o.map((function(t,o){return(0,Te.cloneElement)(t,{isShow:e,pageCurrent:i,style:n,pageNumber:o+1,onNextPage:0===o?r:void 0,onPrevPage:0!==o?s:void 0,onClose:a})}))};var yn={position:"absolute",overflow:"hidden"},Cn={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all 750ms ease-out"},wn={pageWidth:100,maxPages:2,initId:"p0",p0:[]},bn=function(t){var e=t.pageWidth,n=t.maxPages,o=t.initId||"p0";return{pageWidth:e,pagesStyle:{width:n*e+"px"},pageStyle:{width:e+"px"},pageCurrent:1,pages:[(0,ze.jsx)(gn,{items:t[o],titleCl:t.titleCl,itemCl:t.itemCl},o)]}},jn=function(t,e,n,o){t.push((0,ze.jsx)(gn,{title:n,items:o[e],titleCl:o.titleCl,itemCl:o.itemCl},e))};const Sn=function(t){var e=t.model,n=void 0===e?wn:e,o=t.isShow,i=t.className,r=t.rootStyle,a=t.style,l=t.onClose,c=(0,Te.useState)((function(){return bn(n)})),u=c[0],p=c[1],d=u.pageWidth,h=u.pagesStyle,f=u.pageStyle,v=u.pageCurrent,m=u.pages,g=Fe((function(t){p((function(e){return e.pageCurrent=t-1,s({},e)}))})),x=Fe((function(t,e,o){p((function(i){var r=i.pages;return r.length-1+1>o?r[o]&&r[o].key!==t&&(o>0?i.pages.splice(o):i.pages=[],jn(i.pages,t,e,n)):jn(r,t,e,n),i.pageCurrent=o+1,s({},i)}))}),[n]);Ue((function(){return p(bn(n))}),[n]);var y=s({},a,yn,f),C=s({},Cn,h,function(t,e){return{transform:"translateX("+(-1*t*(e-1)+0)+"px)"}}(d,v));return(0,ze.jsx)(Ye,{isShow:o,style:r,onClose:l,children:(0,ze.jsx)(tn,{className:i,style:y,isShow:o,children:(0,ze.jsx)("div",{style:C,children:(0,ze.jsx)(xn,{isShow:o,style:f,pages:m,pageCurrent:v,onNextPage:x,onPrevPage:g,onClose:l})})})})};const Tn=Object.freeze({NOT_SELECTED:"not-selected",BT_ITEM:"not-selected bt-item",ROW_ITEM:"row-item not-selected",SHOW_POPUP:"show-popup",MENU_MORE:"popup-menu charts__menu-more",ROW_MENU_MORE:"row__pane-topic not-selected",SOURCE_LINK:"source-link",LIB:"library",LIB_T:"library__title",LIB_VT:"library__value-title",LIB_V:"library__value",FILE_ITEM:"row__item"});var _n=Tn.ROW_MENU_MORE;const kn=function(t){t.chartType;var e=t.onMinWidth,n=t.onInitialWidth,o=t.onPlusWidth,i=t.onMinusWidth,r=t.onRemoveAll;return{titleCl:_n,pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Resize"},{name:"Remove All Items",onClick:r,isClose:!0}],p1:[{name:"to MinWidth",onClick:e},{name:"to InitialWidth",onClick:n},{name:"+10px to Width",onClick:o},{name:"-10px to Width",onClick:i}]}};const In=function(t){var e=t.style,n=t.svgStyle,o=t.btRef,i=t.onClick;return(0,ze.jsx)("button",{ref:o,className:"bt-more",style:e,onClick:i,children:(0,ze.jsxs)("svg",{style:n,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ze.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,ze.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,ze.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})};var On={padding:3};const Dn=function(t){var e=t.className,n=void 0===e?"":e,o=t.style,i=t.onClose;return(0,ze.jsx)("button",{tabIndex:"-1",className:"svg-close "+n,style:o,onClick:i,children:(0,ze.jsxs)("svg",{preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",width:"100%",height:"100%",style:On,stroke:"#ed5813",strokeWidth:"2",strokeLinecap:"round",children:[(0,ze.jsx)("path",{d:"M 0,0 L 12,12"}),(0,ze.jsx)("path",{d:"M 12,0 L 0,12"})]})})};var Ln="gap-right cont-caption",Rn="not-selected",Nn={padding:"0 8px 0 6px",fontSize:"18px",fontWeight:"500"},En={position:"absolute",top:6,right:0},An={paddingLeft:0},Wn=function(t){return"function"==typeof t};const Mn=function(t){var e=t.style,n=t.moreStyle,o=t.caption,i=void 0===o?"":o,r=t.onMore,a=t.onClose,l=t.children,c=Wn(r)?s({},Nn,An):Nn;return(0,ze.jsxs)("div",{className:Ln,style:e,children:[Wn(r)&&(0,ze.jsx)(In,{style:n,onClick:r}),(0,ze.jsx)("span",{className:Rn,style:c,children:i}),l,(0,ze.jsx)(Dn,{style:En,onClose:a})]})};var Bn=Object.assign,Pn=function(t){Bn(t,{id:null,delta:0,step:1,countStep:0})};const Fn=function(t){var e=this;this._increaseStepValue=function(){e.countStep+=1,e.countStep>30?e.step=3:e.countStep>15&&(e.step=2),(e.maxDelta-e.delta<20||e.delta-e.minDelta<20)&&(e.step=1)},this._getElementStyle=function(){return((e.elementRef||{}).current||{}).style||{}},this._resizeLeft=function(){e.delta>e.minDelta&&(e.delta-=e.step,e.currentWidth=e.initWidth+e.delta,e._getElementStyle().width=e.currentWidth+"px",e._increaseStepValue())},this._resizeRight=function(){e.delta<e.maxDelta&&(e.delta+=e.step,e.currentWidth=e.initWidth+e.delta,e._getElementStyle().width=e.currentWidth+"px",e._increaseStepValue())},this._updateDelta=function(){var t=parseInt(e._getElementStyle().width,10);isNaN(t)||(e.delta=t-e.initWidth)},this._hStartResize=function(t){null!==e.id&&e._hStopResize(!1),e._updateDelta(),e.id=setInterval(t,5)},this._hStopResize=function(t,n){clearInterval(e.id),Pn(e);var o=e.onResizeAfter;t&&"function"==typeof o&&o(e.currentWidth)},Pn(this);var n=t.elementRef,o=t.onResizeAfter,i=t.initWidth,r=t.minWidth,s=t.maxWidth;this.elementRef=n,this.onResizeAfter=o,this.initWidth=i,this.currentWidth=this.initWidth,this.minDelta=r-this.initWidth,this.maxDelta=s-this.initWidth,this.onStopRezise=this._hStopResize.bind(null,!0),this.onStartResizeLeft=this._hStartResize.bind(null,this._resizeLeft),this.onStartResizeRight=this._hStartResize.bind(null,this._resizeRight)};var Vn=document&&"ontouchstart"in document.documentElement,Un=function(){return!window.innerWidth||window.innerWidth>700};const Gn=function(t){var e=Ae((function(){return new Fn(t)}))[0];return(0,Te.useMemo)((function(){var t,n,o=Vn?["onTouchStart","onTouchEnd"]:["onMouseDown","onMouseUp"],i=o[0],r=o[1],s=e.onStopRezise,a=e.onStartResizeLeft,l=e.onStartResizeRight;return[(t={},t[i]=a,t[r]=s,t),(n={},n[i]=l,n[r]=s,n)]}),[])};var Hn="svg-resize",zn={display:"inline-block"},qn={marginLeft:10};const Kn=function(t){var e=Gn(t),n=e[0],o=e[1];return(0,ze.jsxs)("div",{style:zn,children:[(0,ze.jsx)("div",s({className:Hn,style:qn,title:"Resize container horizontal left"},n,{children:(0,ze.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ze.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,ze.jsx)("path",{d:"M 6,2 L 1,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})})),(0,ze.jsx)("div",s({className:Hn,style:qn,title:"Resize container horizontal right"},o,{children:(0,ze.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ze.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,ze.jsx)("path",{d:"M 6,2 L 11,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})}))]})};var Yn=(0,Te.forwardRef)((function(t,e){var n=t.style,o=t.className,i=t.children,r=(0,Te.useRef)(),s=Qe("with-scroll",o);return(0,Te.useImperativeHandle)(e,(function(){return{scrollTop:function(){var t=_e(r);t&&(t.scrollTop=0)}}}),[]),(0,ze.jsx)("div",{ref:r,className:s,style:n,children:i})}));const Jn=Yn;var Xn={position:"relative",backgroundColor:"#4d4d4d",width:635,height:"calc(100vh - 71px)",minHeight:500,padding:"0px 0px 16px",marginLeft:16,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)",overflowY:"hidden",overflowX:"hidden"},Qn={display:"inline-block"},$n={display:"none"},Zn={overflowY:"auto",height:"92%",paddingRight:10},to={position:"relative",top:3,marginRight:6},eo=[$t,Qt,Zt],no=function(t){return parseInt(t.width,10)||635},oo=function(t){return t+"px"},io=function(t){return(t||{}).style||{}},ro=function(t,e){io(_e(t)).width=oo(e)};const so=function(t){var e=t.caption,n=t.browserType,o=t.chartType,i=t.onRemoveAll,r=t.onCloseContainer,a=(0,Te.useRef)(),l=(0,Te.useRef)(),c=(0,Te.useState)((function(){return{isShow:!1,configs:[],chartType:o}})),u=c[0],p=c[1],d=u.isShow,h=u.configs,f=We(kn,{chartType:o,onMinWidth:function(){return ro(a,375)},onInitialWidth:function(){return ro(a,635)},onPlusWidth:function(){return t=io(_e(a)),void((e=no(t)+10)<1200&&(t.width=oo(e)));var t,e},onMinusWidth:function(){return t=io(_e(a)),void((e=no(t)-10)>375&&(t.width=oo(e)));var t,e},onRemoveAll:i}),v=f[0],m=f[1],g=f[2],x=f[3],y=(0,Te.useCallback)((function(){r(o,n),p((function(t){return s({},t,{isShow:!1})}))}),[]);(0,Te.useEffect)((function(){p((function(t){return s({},t,Qu.getConfigs(o))}))}),[]),Me(Qu,(function(t,e){if(r=t,void 0===(i=eo)&&(i=[]),Boolean(~i.indexOf(r))){if(e&&e.chartType===o){var n=_e(l);n&&n.scrollTop(),p((function(t){return s({},t,e)}))}}else t===j&&e===o&&y();var i,r}));var C=d?[Qn,Tn.SHOW_POPUP]:[$n],w=C[0],b=C[1];return(0,ze.jsxs)("div",{ref:a,className:b,style:s({},Xn,w),children:[(0,ze.jsx)(Sn,{isShow:m,className:Tn.MENU_MORE,model:v,onClose:g}),(0,ze.jsx)(Mn,{moreStyle:to,caption:e,onMore:x,onClose:y,children:(0,ze.jsx)(Kn,{elementRef:a,initWidth:635,minWidth:375,maxWidth:1200})}),(0,ze.jsx)(Jn,{ref:l,style:Zn,children:(0,ze.jsx)("div",{children:h})})]})};const ao=function(t,e){var n=t.chartContainerComp||so,o=t.type;return(0,ze.jsx)(n,{caption:t.chartContainerCaption,chartType:o,browserType:e,onCloseContainer:k.closeChartContainer.bind(null,o,e),onRemoveAll:ne.removeAll.bind(null,o,e)},o)};const lo=function(){return(0,ze.jsx)("span",{children:"TestItem"})};const co=function(t){var e=t.createElement,n=t.option,o=(t.json,t.parentProps),i=n.repo,r=n.requestType;return e(lo,s({key:i+"_"+r},o))};var uo=function(t){return t.repo};const po=function(t,e,n){void 0===n&&(n=uo);var o=t.repo,i=t.requestType,r=t.version,s=void 0===r?"":r,a=uo(t);return{caption:a,config:{descr:e,caption:a,version:s,repo:o,requestType:i}}};const ho=function(t,e,n,o){return(0,Te.useCallback)((function(){t(po(e,n,o))}),[])};var fo=["color","size","children"];const vo=function(t){var e=t.color,n=void 0===e?"currentColor":e,o=t.size,i=void 0===o?"24":o,r=t.children,a=en(t,fo);return(0,ze.jsx)("svg",s({xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a,{children:r}))};const mo={SvgInfo:function(t){return(0,ze.jsxs)(vo,s({},t,{children:[(0,ze.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,ze.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,ze.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"8"})]}))}};var go={zIndex:20,backgroundColor:"#4d4d4d",height:"calc(100vh - 71px)",minHeight:500,minWidth:270,maxWidth:400,padding:"0px 3px 16px",marginLeft:10,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)"},xo={position:"relative",zIndex:20,backgroundColor:"#4d4d4d",height:"calc(100vh - 71px)",minHeight:500,minWidth:300,maxWidth:700,padding:"0px 0px 16px",marginLeft:16,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)"},yo={display:"block"},Co={display:"none"};const wo=function(t){var e=t.isShow,n=t.style,o=t.children,i=e?[yo,"show-popup"]:[Co],r=i[0],a=i[1];return(0,ze.jsx)("div",{className:a,style:s({},go,n,r),children:o})};const bo=function(t){var e=t.isWithoutDefault,n=t.className,o=t.style,i=t.caption,r=void 0===i?"":i,s=t.title,a=t.onClick,l=Qe([!e,"zhn-bt-circle"],n);return(0,ze.jsx)("button",{className:l,style:o,title:s,onClick:a,children:(0,ze.jsx)("div",{children:r})})};var jo={position:"absolute",display:"inline-block",width:20,height:20};const So=function(t){var e=t.style;return(0,ze.jsx)("span",{style:s({},jo,e),"data-loader":"circle"})};var To={position:"relative",display:"inline-block",height:36,border:"1px solid",borderRadius:10,cursor:"pointer"},_o={color:"#a487d4",borderColor:"#a487d4",borderWidth:2,fontWeight:"bold"},ko={color:"gray",borderColor:"gray",borderWidth:1,fontWeight:"normal"},Io={display:"inline-block",padding:"0 8px 0 5px"},Oo={display:"inline-block",marginLeft:8,backgroundColor:"gray",width:12,height:12,border:"1px solid gray",borderRadius:"50%"},Do={backgroundColor:"transparent",border:"none"},Lo={backgroundColor:"#a487d4",borderColor:"#a487d4"},Ro={backgroundColor:"gray",borderColor:"gray"},No={top:5,left:2},Eo=function(t,e){var n=null;e&&(n=(0,ze.jsx)(So,{style:No}));var o=e?Do:t?Lo:Ro;return(0,ze.jsxs)(ze.Fragment,{children:[n,(0,ze.jsx)("span",{style:s({},Oo,o)})]})};const Ao=function(t){var e=t.style,n=t.isUp,o=t.isLoading,i=t.caption,r=void 0===i?"":i,a=t.title,l=void 0===a?"":a,c=t.onClick,u=n?_o:ko;return(0,ze.jsxs)("button",{title:l,style:s({},To,e,u),onClick:c,children:[Eo(n,o),(0,ze.jsx)("span",{style:Io,children:r})]})};const Wo=function(t){var e=t.style,n=t.caption,o=void 0===n?"":n,i=t.onClose,r=t.children;return(0,ze.jsxs)("div",{className:Ln,style:e,children:[(0,ze.jsx)("span",{className:Rn,style:Nn,children:o}),r,(0,ze.jsx)(Dn,{style:En,onClose:i})]})};var Mo={color:"gray"},Bo={display:"inline-block",color:"black",marginLeft:10},Po={display:"inline-block"},Fo={display:"none"};const Vo=function(t){var e=t.isShowDate,n=t.style,o=t.dateAgo,i=t.date,r=void 0===i?"":i,a=Ee(e,!0),l=a[0],c=a[1],u=l?Po:Fo;return(0,ze.jsxs)("span",{children:[(0,ze.jsx)("span",{role:"button",tabIndex:"-1",style:s({},Mo,n),onClick:r?c:void 0,children:o}),(0,ze.jsx)("span",{style:s({},Bo,u),children:r})]})};var Uo=/(.)(?=(\d{3})+$)/g,Go=function(t){return t>=1e3?(""+t).replace(Uo,"$1,"):t};const Ho=function(t){var e=t.style,n=t.value,o=void 0===n?0:n;return(0,ze.jsx)("span",{style:e,children:Go(o)})};const zo=function(t){return"https"===(t||"").split("://")[0]?t:void 0};const qo=function(t){var e=t.className,n=t.style,o=t.href,i=t.title,r=t.children;return zo(o)?(0,ze.jsx)("a",{target:"_blank",className:e,style:n,href:o,title:i,children:r}):null};var Ko=function(t,e){console.log("Failed to load image with src: "+t)};const Yo=function(t){var e=t.alt,n=t.className,o=t.src,i=zo(o);return i?(0,ze.jsx)("img",{alt:e,className:n,src:i,onError:Ko.bind(null,i)}):null};const Jo=function(t){var e=t.alt,n=t.href,o=t.imgClass,i=t.imgSrc;return(0,ze.jsx)(qo,{href:n,children:(0,ze.jsx)(Yo,{alt:e,className:o,src:i})})};const Xo=function(t){return function(e,n){return(0,Te.useCallback)((function(n){t(n)&&(n.preventDefault(),n.stopPropagation(),e(n))}),n||[])}};const Qo=Xo((function(t){return 13===t.keyCode||"Enter"===t.key}));var $o={backgroundColor:"#4d4d4d",lineHeight:2},Zo={display:"inline-block",width:16,height:16},ti={color:"#1b2836",paddingLeft:4,verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},ei={display:"inline-block"},ni={display:"block"},oi={display:"none"};const ii=function(t){var e=t.isClose,n=void 0===e||e,o=t.style,i=t.styleNotSelected,r=t.styleCaptionRow,a=t.styleCaption,l=t.caption,c=t.fillOpen,u=void 0===c?"yellow":c,p=t.fillClose,d=void 0===p?"#4d4d4d":p,h=t.isDraggable,f=t.option,v=t.onDragStart,m=t.onDragEnter,g=t.onDragOver,x=t.onDragLeave,y=t.onDrop,C=t.children,w=Ee(!n),b=w[0],j=w[1],S=Qo(j),T=h?{draggable:!0,onDragStart:v.bind(null,f),onDrop:y.bind(null,f),onDragEnter:m,onDragOver:g,onDragLeave:x}:void 0,_=b?["M 2,14 L 14,14 14,2 2,14",u,ni,"show-popup",null]:["M 2,2 L 14,8 2,14 2,2",d,oi,null,i],k=_[0],I=_[1],O=_[2],D=_[3],L=_[4];return(0,ze.jsxs)("div",{style:s({},$o,o),children:[(0,ze.jsxs)("div",s({tabIndex:"0",role:"menuitem",className:"zhn-oc not-selected",style:s({},r,L),onClick:j,onKeyDown:S},T,{children:[(0,ze.jsx)("div",{style:Zo,children:(0,ze.jsx)("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:ei,children:(0,ze.jsx)("path",{d:k,fill:I,strokeWidth:"1",stroke:u})})}),(0,ze.jsx)("span",{style:s({},ti,a),children:l})]})),(0,ze.jsx)("div",{className:D,style:O,children:C})]})};const ri=s({},mo,{Browser:wo,ButtonCircle:bo,ButtonDownUp:Ao,CaptionRow:Wo,DateAgo:Vo,FormattedInteger:Ho,Link:qo,LinkImg:Jo,OpenClose2:ii,ScrollPane:Jn,ShowHide:tn,SvgMore:In});const si=function(t){var e=t.style,n=t.children,o=t.onClose;return(0,ze.jsxs)("div",{className:"item-caption",style:e,children:[n,(0,ze.jsx)(Dn,{className:"item-caption__bt-close",onClose:o})]})};const ai={ROOT:{position:"relative",lineHeight:1.5,marginBottom:10},BT_MORE:{position:"relative",top:3,marginRight:4},CAPTION_OPEN:{display:"inline-block",color:"#a487d4",paddingLeft:8,maxWidth:500,textAlign:"left",fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},SPAN_VERSION:{color:"#80c040",paddingLeft:10,paddingRight:10},BTN_CIRCLE:{marginTop:-8,marginLeft:10},PT_8:{paddingTop:8},PB_8:{paddingBottom:8},PR_8:{paddingRight:8},ML_8:{marginLeft:8}};var li=function(t){return t.repo+" "+t.version};const ci=function(t){var e=t.caption,n=t.repo,o=t.version,i=t.published_at,r=t.html_url,s=t.onCloseItem,a=t.onWatchItem,l=Ee(!0),c=l[0],u=l[1],p=ho(a,t,"GitHub Repository Recent Release",li);return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsxs)(si,{style:ai.PT_8,onClose:s,children:[(0,ze.jsxs)("button",{className:Tn.BT_ITEM,title:e,style:ai.CAPTION_OPEN,onClick:u,children:[(0,ze.jsx)("span",{children:n}),(0,ze.jsx)("span",{style:ai.SPAN_VERSION,children:o}),(0,ze.jsx)("span",{children:i})]}),(0,ze.jsx)(ri.ButtonCircle,{caption:"W",title:"Add to Watch",style:ai.BTN_CIRCLE,onClick:p})]}),(0,ze.jsx)(ri.ShowHide,{isShow:c,style:ai.PT_8,children:(0,ze.jsx)(ri.Link,{className:Tn.SOURCE_LINK,style:ai.ML_8,href:r,children:"Link to description of recent release tag"})})]})};const ui=function(t,e){return wt(t)?t.replace("T"," ").replace("Z",""):e||""};const pi=function(t){var e=t.createElement,n=t.option,o=t.json,i=t.parentProps,r=t.onCloseItem,a=t.onWatchItem,l=n.repo,c=n.requestType,u=n.chartType,p=n.browserType,d=n.key,h=o.tag_name,f=o.name,v=o.published_at,m=o.html_url,g=h||f||"empty",x=ui(v,"empty");return e(ci,s({key:d,repo:l,requestType:c,html_url:m,caption:l+" "+g+" "+x,version:g,published_at:x,onCloseItem:r.bind(null,u,p,d),onWatchItem:a},i))};var di=function(t){var e=t.caption,n=t.value;return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:Tn.LIB_VT,children:e+":"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:n})]})},hi=function(t){return(0,ze.jsx)("div",{children:(0,ze.jsx)(di,s({},t))})},fi=function(t){var e=t.caption,n=t.value,o=t.date;return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(di,{caption:e,value:n}),(0,ze.jsx)(di,{caption:"Date",value:ui(o)})]})},vi=function(t){return(t.files||[]).map((function(t,e){var n=t.filename;return(0,ze.jsx)("div",{className:Tn.FILE_ITEM,children:n},e)}))};const mi=function(t){var e=t.json;if(!e)return null;var n=e.commit,o=e.files,i=e.stats,r=e.html_url,s=n||{},a=s.author,l=s.message,c=s.committer,u=a||{},p=u.date,d=u.name,h=c||{},f=h.date,v=h.name,m=i||{},g=m.total,x=m.additions,y=m.deletions;return(0,ze.jsxs)("div",{className:Tn.LIB,children:[(0,ze.jsx)(hi,{caption:"Message",value:l}),(0,ze.jsx)(fi,{caption:"Author",value:d,date:p}),(0,ze.jsx)(fi,{caption:"Committer",value:v,date:f}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(di,{caption:"Total",value:g}),(0,ze.jsx)(di,{caption:"Additions",value:x}),(0,ze.jsx)(di,{caption:"Deletions",value:y})]}),(0,ze.jsx)(ri.OpenClose2,{caption:"Files ("+o.length+")",isClose:!0,children:(0,ze.jsx)(vi,{files:o})}),(0,ze.jsx)(ri.Link,{className:Tn.SOURCE_LINK,href:r,children:"Link to description of commit"})]})};const gi=function(t){var e=t.repo,n=t.version,o=t.caption,i=t.requestType,r=t.onCloseItem,s=t.onClickDetail,a=t.onWatchItem,l=(0,Te.useState)(),c=l[0],u=l[1],p=Ee(!0),d=p[0],h=p[1],f=p[2],v=(0,Te.useCallback)((function(){s().then((function(t){f(!0),u(t)})).catch((function(t){return console.log(t)}))}),[s]),m=(0,Te.useCallback)((function(){var t=function(t){var e=(((t||{}).commit||{}).committer||{}).date;return ui(e)}(c),o=e+" "+n;a({caption:o,config:{repo:e,requestType:i,version:n,caption:o,descr:"GitHub Likely Recent Version Tag",date:t}})}),[c]);return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsxs)(si,{style:ai.PT_8,onClose:r,children:[(0,ze.jsxs)("button",{className:Tn.BT_ITEM,title:o,style:ai.CAPTION_OPEN,onClick:h,children:[(0,ze.jsx)("span",{children:e}),(0,ze.jsx)("span",{style:ai.SPAN_VERSION,children:n})]}),(0,ze.jsx)(ri.ButtonCircle,{caption:"W",title:"Add to Watch",style:ai.BTN_CIRCLE,onClick:m}),(0,ze.jsx)(ri.ButtonCircle,{caption:"D",title:"Load Tag Details",style:ai.BTN_CIRCLE,onClick:v})]}),(0,ze.jsx)(ri.ShowHide,{isShow:d,children:(0,ze.jsx)(mi,{json:c})})]})},xi=function(t){var e=t.uri,n=t.onCatch;return Promise.resolve().then((function(){return fetch(e)})).then((function(t){var e=t.status,n=t.statusText;if(e>=200&&e<=400)return t.json();if(e>400&&e<500)throw{errCaption:"Request Error",message:e+" : "+n};if(e>=500&&e<600)throw{errCaption:"Response Error",message:e+" : "+n}})).then((function(t){return t})).catch((function(t){n({error:t})}))};const yi=function(t){var e=t.createElement,n=t.option,o=t.json,i=void 0===o?[{name:"empty"}]:o,r=t.parentProps,a=t.onCloseItem,l=t.onWatchItem,c=n.repo,u=n.requestType,p=n.chartType,d=n.browserType,h=n.key,f=i[0],v=xi.bind(null,{uri:"https://api.github.com/repos/"+n.repo+"/commits/"+f.commit.sha,onCatch:dt});return e(gi,s({key:h,repo:c,requestType:u,version:f.name,caption:c+" "+f.name,onCloseItem:a.bind(null,p,d,h),onClickDetail:v,onWatchItem:l},r))};var Ci=function(t){var e=t.library||{},n=e.name,o=e.description,i=e.size,r=e.created_at,s=e.pushed_at,a=e.stargazers_count,l=e.open_issues,c=e.watchers_count,u=e.html_url,p=ui(r),d=ui(s);return(0,ze.jsxs)("div",{className:Tn.LIB,children:[(0,ze.jsx)("div",{children:(0,ze.jsx)("span",{className:Tn.LIB_T,children:n})}),(0,ze.jsx)("div",{children:(0,ze.jsx)("span",{children:o})}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Size:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:i})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Created At:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:p}),(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Pushed At:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:d})]}),(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Stars:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:a}),(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Issues:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:l}),(0,ze.jsx)("span",{className:Tn.LIB_VT,children:"Watchers:"}),(0,ze.jsx)("span",{className:Tn.LIB_V,children:c})]}),(0,ze.jsx)("div",{children:(0,ze.jsx)(ri.Link,{className:Tn.SOURCE_LINK,href:u,children:"Link to GitHub Repository"})})]})};const wi=function(t){var e=t.repo,n=t.stars_count,o=t.pushed_at,i=t.caption,r=t.library,s=t.onCloseItem,a=Ee(!0),l=a[0],c=a[1];return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsx)(si,{style:ai.PT_8,onClose:s,children:(0,ze.jsxs)("button",{className:Tn.BT_ITEM,title:i,style:ai.CAPTION_OPEN,onClick:c,children:[(0,ze.jsx)("span",{children:e}),(0,ze.jsx)("span",{style:ai.SPAN_VERSION,children:n}),(0,ze.jsx)("span",{children:o})]})}),(0,ze.jsx)(ri.ShowHide,{isShow:l,children:(0,ze.jsx)(Ci,{library:r})})]})};const bi=function(t){var e=t.createElement,n=t.option,o=t.json,i=t.parentProps,r=t.onCloseItem,a=n.chartType,l=n.browserType,c=n.key,u=o.items,p=(void 0===u?[{}]:u)[0],d=p.full_name,h=void 0===d?"empty":d,f=p.stargazers_count,v=void 0===f?"":f,m=p.pushed_at,g=ui(m);return e(wi,s({key:c,library:p,repo:h,stars_count:v,pushed_at:g,caption:h+" "+v+" "+g,onCloseItem:r.bind(null,a,l,c)},i))};const ji=n(327).WU;const Si=function(t){return(t.commits||[]).map((function(t,e){var n=t.commit,o=t.html_url,i=n||{},r=i.message,s=void 0===r?"":r,a=i.committer||{},l=a.date,c=a.name,u=void 0===c?"":c,p=ui(l),d=ji(p);return(0,ze.jsx)("div",{className:Tn.ROW_ITEM,children:(0,ze.jsxs)(ri.Link,{href:o,children:[(0,ze.jsxs)("div",{style:ai.PB_8,children:[(0,ze.jsx)("span",{style:ai.PR_8,children:u}),(0,ze.jsx)(ri.DateAgo,{dateAgo:d,date:p})]}),(0,ze.jsx)("div",{children:s})]})},e)}))};const Ti=function(t){var e=t.caption,n=t.repo,o=t.commits,i=t.onCloseItem,r=t.onWatchItem,s=Ee(!0),a=s[0],l=s[1],c=ho(r,t,"GitHub Repository Commits");return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsxs)(si,{style:ai.PT_8,onClose:i,children:[(0,ze.jsx)("button",{className:Tn.BT_ITEM,title:e,style:ai.CAPTION_OPEN,onClick:l,children:(0,ze.jsx)("span",{children:n})}),(0,ze.jsx)(ri.ButtonCircle,{caption:"W",title:"Add to Watch",style:ai.BTN_CIRCLE,onClick:c})]}),(0,ze.jsx)(ri.ShowHide,{isShow:a,children:(0,ze.jsx)(Si,{commits:o})})]})};const _i=function(t){var e=t.createElement,n=t.option,o=t.json,i=void 0===o?[]:o,r=t.parentProps,a=t.onCloseItem,l=t.onWatchItem,c=n.repo,u=n.requestType,p=n.chartType,d=n.browserType,h=n.key;return e(Ti,s({key:h,repo:c,requestType:u,caption:c,commits:i,onCloseItem:a.bind(null,p,d,h),onWatchItem:l},r))};var ki=s({},ai.PR_8,{color:"#d7bb52"}),Ii=s({},ai.PR_8,{color:"#80c040"}),Oi=s({},ai.PR_8,{color:"gray"});const Di=function(t){return(t.issues||[]).map((function(t,e){var n=t.state,o=t.number,i=t.created_at,r=t.updated_at,s=t.title,a=t.html_url,l=ui(i),c=i!==r?ui(r):"";return(0,ze.jsx)("div",{className:Tn.ROW_ITEM,children:(0,ze.jsxs)(ri.Link,{href:a,children:[(0,ze.jsxs)("div",{style:ai.PB_8,children:[(0,ze.jsx)("span",{style:ki,children:n}),(0,ze.jsx)("span",{style:Ii,children:"(#"+o+")"}),(0,ze.jsx)("span",{style:Oi,children:l}),(0,ze.jsx)("span",{style:Oi,children:c})]}),(0,ze.jsx)("div",{children:s})]})},e)}))};const Li=function(t){var e=t.caption,n=t.repo,o=t.issues,i=t.onCloseItem,r=t.onWatchItem,s=Ee(!0),a=s[0],l=s[1],c=ho(r,t,"GitHub Repository Issues"),u=o.length;return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsxs)(si,{style:ai.PT_8,onClose:i,children:[(0,ze.jsxs)("button",{className:Tn.BT_ITEM,title:e,style:ai.CAPTION_OPEN,onClick:l,children:[(0,ze.jsx)("span",{style:ai.PR_8,children:n}),(0,ze.jsx)("span",{children:u})]}),(0,ze.jsx)(ri.ButtonCircle,{caption:"W",title:"Add to Watch",style:ai.BTN_CIRCLE,onClick:c})]}),(0,ze.jsx)(ri.ShowHide,{isShow:a,children:(0,ze.jsx)(Di,{issues:o})})]})};const Ri=function(t){var e=t.createElement,n=t.option,o=t.json,i=void 0===o?[]:o,r=t.parentProps,a=t.onCloseItem,l=t.onWatchItem,c=n.repo,u=n.requestType,p=n.chartType,d=n.browserType,h=n.key;return e(Li,s({key:h,repo:c,requestType:u,caption:c,issues:i,onCloseItem:a.bind(null,p,d,h),onWatchItem:l},r))};var Ni=["128,192,64","36,156,216","237,86,91","241,174,44","144,89,152"],Ei=function(t){return"rgba("+t+", 0.4)"},Ai=function(t){var e=void 0===t?{}:t,n=e.label,o=e.data,i=e.strColor,r=void 0===i?Ni[0]:i,s=e.hidden,a=void 0!==s&&s,l=n||o.seriaName||"Downloads",c="rgba("+r+", 1)";return{hidden:a,label:l,fill:!1,lineTension:.1,backgroundColor:Ei(r),borderColor:c,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:c,pointBackgroundColor:c,pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:c,pointHoverBorderColor:"rgba(164, 135, 212, 1)",pointHoverBorderWidth:4,pointRadius:5,pointHitRadius:10,data:o}},Wi=Tn.ROW_MENU_MORE,Mi=function(t,e,n,o){return void 0===n&&(n=Wi),void 0===o&&(o=!0),{name:t,onClick:e,cn:n,isClose:o}};const Bi=function(t){var e,n=t.onMoveToTop,o=t.onToggleButtons,i=[Mi("Move to Top",n),(e=o,"function"==typeof e?Mi("Toggle Buttons",o):void 0)].filter(Boolean);return{titleCl:Wi,pageWidth:150,maxPages:1,p0:i}};var Pi=n(148),Fi=Object.assign;const Vi=function(t){var e=t.defaults;e.color="black",e.font.size=14,e.font.weight="bold",e.plugins.tooltip=Fi(e.plugins.tooltip||{},{titleColor:"#a487d4",titleFont:{size:16},bodyColor:"#80c040",bodyFont:{size:16}})};const Ui=n(713).a4;var Gi=Object.prototype.hasOwnProperty;const Hi=function t(e,n){if((o=e)===(i=n)?0!==o||1/o==1/i:o!=o&&i!=i)return!0;var o,i;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;for(var r=Object.keys(e),s=0;s<r.length;s++)if(!Gi.call(n,r[s]))return!1;for(var a in e){if(!Gi.call(n,a))return!1;if(!t(e[a],n[a]))return!1}return!0};var zi=Object.prototype.hasOwnProperty;const qi=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||!zi.call(t,o)||(n[o]=t[o]);return n};var Ki=["id","width","height","onElementsClick"];Pi.kL.register(Pi.jn,Pi.ST,Pi.uw,Pi.f$,Pi.od,Pi.De,Pi.u),Vi(Pi.kL);var Yi={tooltips:{callbacks:{labelTextColor:function(t,e){return e.data.datasets[t.datasetIndex].borderColor}}}},Ji=function(t,e,n,o,i){ke(t,new Pi.kL(_e(e),{type:n,data:o,options:Ui(Yi,i)}))},Xi=(0,Te.memo)((function(t){var e=t.type,n=void 0===e?"line":e,o=t.height,i=void 0===o?150:o,r=t.width,a=void 0===r?300:r,l=t.redraw,c=void 0!==l&&l,u=t.data,p=t.options,d=t.onElementsClick,h=(0,Te.useRef)(),f=(0,Te.useRef)(),v=(0,Te.useMemo)((function(){return"function"==typeof d?function(t){var e=_e(f).getElementsAtEvent(t);e.length&&d(e)}:null}),[d]);return(0,Te.useLayoutEffect)((function(){var t=_e(f);t&&(c?(t.destroy(),Ji(f,h,n,u,p)):function(t,e,n){n&&(t.options=Ui(t.options,n)),t.config.data=s({},t.config.data,e),t.update()}(t,u,p))})),(0,Te.useLayoutEffect)((function(){return Ji(f,h,n,u,p),function(){_e(f).destroy(),ke(f,null)}}),[]),(0,ze.jsx)("canvas",{ref:h,height:i,width:a,onClick:v})}),(function(t,e){return Hi(qi(t,Ki),qi(e,Ki),{strict:!0})}));const Qi=Xi;const $i=function(t){return(0,ze.jsx)(Qi,s({},t,{type:"line"}))};var Zi=s({},ai.CAPTION_OPEN,{position:"relative",top:-3}),tr={color:"#80c040",padding:"0 10px"},er={paddingRight:10};const nr=function(t){var e=t.caption,n=t.packageName,o=t.sumDownloads,i=t.fromDate,r=t.toDate,s=t.onClick;return(0,ze.jsxs)("button",{className:Tn.BT_ITEM,style:Zi,title:e,onClick:s,children:[(0,ze.jsx)("span",{children:n}),(0,ze.jsx)(ri.FormattedInteger,{style:tr,value:o}),(0,ze.jsx)("span",{style:er,children:i}),(0,ze.jsx)("span",{children:r})]})};var or={position:"relative",top:-6,marginLeft:10};const ir=function(t){var e=t.onClick;return(0,ze.jsx)(ri.ButtonCircle,{style:or,caption:"W",title:"Add to WatchList",onClick:e})};const rr=function(t,e){var n=(0,Te.useState)({json:void 0,isLoading:!1,isShow:!1}),o=n[0],i=o.json,r=o.isLoading,a=o.isShow,l=n[1],c=(0,Te.useCallback)((function(){l((function(n){return n.json?s({},n,{isShow:!n.isShow}):(e({packageName:t,onLoad:function(t){l({json:t,isShow:!0,isLoading:!1})}}),s({},n,{isLoading:!0}))}))}),[]);return[i,r,a,c]};const sr=function(t){var e=t.name,n=t.uri,o=t.onLoad;return fetch(n).then((function(t){var n=t.status;if(n>199&&n<300)return t.json();throw new Error(function(t){return t+" response isn't OK"}(e))})).then((function(t){if(!t||t.code)throw new Error(t.message||function(t){return t+" response isn't valid"}(e));o(t)})).catch((function(t){console.log(t),o({errMsg:t.message})}))};var ar=function(t){return"https://api.npms.io/v2/package/"+t},lr=Pe((function(t){var e=t.packageName,n=t.onLoad;return sr({name:"Npms.io",uri:ar(e),onLoad:n})}),3e3);const cr=lr;var ur=function(t){return"https://bundlephobia.com/api/size?package="+t},pr=Pe((function(t){var e=t.packageName,n=t.onLoad;return sr({name:"Bundlephobia.com",uri:ur(e),onLoad:n})}),3e3);const dr=pr;const hr=function(t){return(t||"").replace("git+","").replace(".git","").replace("git://","https://")};const fr=function(t){return-1!==(t||"").indexOf("https://github.com")?"GitHub Repository":"Repository"};var vr={color:"#f44336",fontWeight:"bold"};const mr=function(t){var e=t.errMsg;return(0,ze.jsx)("div",{style:vr,children:e})};const gr=function(t){if("object"!=typeof(e=t)||null===e)return null;var e,n=t.errMsg;return!n||(0,ze.jsx)(mr,{errMsg:n})};var xr={display:"inline-block",marginLeft:8},yr={fontWeight:600},Cr={textAlign:"center"};const wr=function(t){var e=t.caption,n=void 0===e?"":e,o=t.value,i=void 0===o?"N/A":o;return(0,ze.jsxs)("div",{style:xr,children:[(0,ze.jsx)("div",{style:yr,children:n}),(0,ze.jsx)("div",{style:Cr,children:i})]})};var br={padding:"4px 0 0 8px"},jr={marginRight:24},Sr=function(t){var e=t.repoHref,n=t.hpHref;return e||n?(0,ze.jsxs)("div",{style:br,children:[(0,ze.jsx)(qo,{className:Tn.SOURCE_LINK,style:jr,href:e,children:fr(e)}),(0,ze.jsx)(qo,{className:Tn.SOURCE_LINK,href:n,children:"Home Page"})]}):null};const Tr=function(t){var e=t.json,n=gr(e);if(!0!==n)return n;var o,i,r,s,a,l=e.analyzedAt,c=e.collected,u=e.score,p=c||{},d=p.github,h=p.metadata,f=d||{},v=f.starsCount,m=f.issues,g=f.homepage,x=(m||{}).openCount,y=h||{},C=y.version,w=y.license,b=y.repository,j=(u||{}).final,S=(i=(o=b||{}).type,r=o.url,"git"===i?hr(r):void 0);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(wr,{caption:"stars",value:v}),(0,ze.jsx)(wr,{caption:"issues",value:x}),(0,ze.jsx)(wr,{caption:"version",value:C}),(0,ze.jsx)(wr,{caption:"score",value:(a=j,function(t){return"number"==typeof t}(a)?(""+a).substring(0,5):"")}),(0,ze.jsx)(wr,{caption:"license",value:w}),(0,ze.jsx)(wr,{caption:"onDate",value:(s=l,"string"==typeof s?s.split("T")[0]:"")})]}),(0,ze.jsx)(Sr,{repoHref:S,hpHref:g})]})};var _r={marginLeft:8},kr={marginRight:24},Ir=function(t){return(t/1024).toFixed(1)};const Or=function(t){var e=t.json,n=gr(e);if(!0!==n)return n;var o=e.name,i=e.version,r=e.gzip,s=e.size,a=e.dependencyCount,l=e.description,c=e.repository,u=hr(c),p=fr(u),d=function(t,e){return"https://bundlephobia.com/result?p="+t+"@"+e}(o,i);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)(wr,{caption:"name",value:o}),(0,ze.jsx)(wr,{caption:"version",value:i}),(0,ze.jsx)(wr,{caption:"size kB",value:Ir(s)}),(0,ze.jsx)(wr,{caption:"gzip kB",value:Ir(r)}),(0,ze.jsx)(wr,{caption:"dependencyCount",value:a})]}),(0,ze.jsx)("div",{style:_r,children:l}),(0,ze.jsxs)("div",{style:_r,children:[(0,ze.jsx)(qo,{href:u,className:Tn.SOURCE_LINK,style:kr,children:p}),(0,ze.jsx)(qo,{href:d,className:Tn.SOURCE_LINK,children:"Bundelphobia Link"})]})]})};var Dr={marginLeft:8},Lr={marginLeft:16},Rr={marginBottom:8},Nr={margin:"8px 0"},Er={height:32,marginLeft:16,marginTop:4,marginBottom:4,padding:"2px 0"};const Ar=function(t){var e=t.isButtons,n=t.packageName,o=t.packageLink,i=(0,Te.useState)({isLoadNodeIco:!1,isShowNodeIco:!1}),r=i[0],s=r.isLoadNodeIco,a=r.isShowNodeIco,l=i[1],c=rr(n,cr),u=c[0],p=c[1],d=c[2],h=c[3],f=rr(n,dr),v=f[0],m=f[1],g=f[2],x=f[3],y=(0,Te.useCallback)((function(){l((function(t){return{isLoadNodeIco:!0,isShowNodeIco:!t.isShowNodeIco}}))}),[]);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(ri.ShowHide,{isShow:e,children:(0,ze.jsxs)("div",{style:Lr,children:[(0,ze.jsx)(ri.Link,{className:Tn.SOURCE_LINK,href:o,children:"NPM Link"}),(0,ze.jsx)(ri.ButtonDownUp,{style:Er,isUp:a,caption:"NodeICO",title:"Package badge from Nodei.co",onClick:y}),(0,ze.jsx)(ri.ButtonDownUp,{style:Er,isUp:d,isLoading:p,caption:"NPMS.IO",title:"Click to load package info from npms.io",onClick:h}),(0,ze.jsx)(ri.ButtonDownUp,{style:Er,isUp:g,isLoading:m,caption:"Bundlephobia.com",title:"Click to load package info from bundlephobia.com",onClick:x})]})}),(0,ze.jsxs)("div",{style:Dr,children:[(0,ze.jsx)(ri.ShowHide,{isShow:a,style:Nr,children:s&&(0,ze.jsx)(ri.LinkImg,{href:o,imgClass:"node-ico",imgSrc:"https://nodei.co/npm/"+n+".png?downloads=true&downloadRank=true&stars=true"})}),(0,ze.jsx)(ri.ShowHide,{isShow:d,style:Rr,children:(0,ze.jsx)(Tr,{json:u})}),(0,ze.jsx)(ri.ShowHide,{isShow:g,style:Rr,children:(0,ze.jsx)(Or,{json:v})})]})]})};var Wr=ai.ROOT,Mr=ai.BT_MORE,Br={paddingLeft:4},Pr={paddingTop:4},Fr={legend:{position:"top"}};const Vr=function(t){var e,n=t.caption,o=t.packageName,i=t.requestType,r=t.sumDownloads,s=void 0===r?0:r,a=t.toDate,l=t.fromDate,c=t.labels,u=t.data,p=t.packageLink,d=t.onWatchItem,h=t.onMoveToTop,f=t.onCloseItem,v=Ee(!0),m=v[0],g=v[1],x=Ee(!0),y=x[0],C=x[1],w=We(Bi,{onMoveToTop:h,onToggleButtons:C}),b=w[0],j=w[1],S=w[2],T=w[3],_=(0,Te.useCallback)((function(){T(!0)}),[]),k=(0,Te.useCallback)((function(){var t=o+" "+s;d({caption:t,config:{requestType:i,repo:o,descr:"Npm Recent Month Downloads",version:s,caption:t,date:a}})}),[]),I=function(t){var e=t.labels,n=void 0===e?["1","2"]:e,o=t.data;return{labels:n,datasets:[Ai({data:void 0===o?[0,0]:o})]}}({labels:c,data:u});return(0,ze.jsxs)("div",{style:Wr,children:[(0,ze.jsx)(Sn,{isShow:j,className:Tn.MENU_MORE,model:b,onClose:S}),(0,ze.jsxs)(si,{style:Br,onClose:f,children:[(0,ze.jsx)(ri.SvgMore,{style:Mr,onClick:_}),(0,ze.jsx)(nr,{caption:n,packageName:o,sumDownloads:s,fromDate:l,toDate:a,onClick:g}),(e=d,"function"==typeof e&&(0,ze.jsx)(ir,{onClick:k}))]}),(0,ze.jsxs)(ri.ShowHide,{isShow:m,style:Pr,children:[(0,ze.jsx)($i,{data:I,options:Fr}),(0,ze.jsx)(Ar,{isButtons:y,packageName:o,packageLink:p})]})]})};const Ur=function(t){var e=t.createElement,n=t.option,o=t.json,i=t.parentProps,r=t.onCloseItem,a=t.onWatchItem,l=n.requestType,c=n.chartType,u=n.browserType,p=n.key,d=n.packageLink,h=function(t){void 0===t&&(t=[{day:"0-0-0",downloads:0}]);var e=[],n=[],o=t[0].day,i=t[t.length-1].day,r=0;return t.forEach((function(t){var o=t.day,i=t.downloads,s=o.split("-");e.push(""+s[2]),n.push(i),r+=i})),{sumDownloads:r,fromDate:o,toDate:i,labels:e,data:n}}(o.downloads),f=h.sumDownloads,v=h.fromDate,m=h.toDate,g=h.labels,x=h.data;return e(Vr,s({key:p,packageName:o.package,caption:o.package,packageLink:d,requestType:l,sumDownloads:f,fromDate:v,toDate:m,labels:g,data:x,onCloseItem:r.bind(null,c,u,p),onWatchItem:a},i))};var Gr=function(t,e,n,o){return Ct(t)&&t.length!==e||function(t,e,n){return xt(t)||t<e||t>n}(parseInt(t,10),n,o)},Hr=function(t,e,n){if(!Ct(t))return!1;var o=t.trim();return 10===o.length&&function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=1999);var o=t.split("-"),i=o[0],r=o[1],s=o[2],a=(new Date).getFullYear();return!(Gr(i,4,n,a+e)||Gr(r,2,1,12)||Gr(s,2,1,31))}(o,e,n)},zr=function(t){return void 0===t&&(t=2),function(t,e){return t.getUTCFullYear()-e+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+("0"+t.getUTCDate()).slice(-2)}(new Date,t)},qr=function(t){var e=function(t){if(!gt(t)||!isFinite(t))return"";var e=new Date(t);return"Invalid Date"===e.toString()?"":("0"+e.getUTCDate()).slice(-2)+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+e.getUTCFullYear()}(t);if(""===e)return"";var n=e.split("-"),o=n[0],i=n[1];return n[2]+"-"+i+"-"+o},Kr=function(t){return function(t){if(!Ct(t))return NaN;var e=t.split("-");return Date.UTC(e[0],parseInt(e[1],10)-1,e[2])}(t)/1e3},Yr=function(t){void 0===t&&(t=[{day:"1970-01-01",downloads:0}]);var e=[],n=[],o=t.length,i=t[0].day,r=o>0?t[o-1].day:i,s=o>30?Math.round(o/30):1,a=0;return t.forEach((function(o,i){var r=o.day,l=o.downloads,c=r.split("-"),u=c[0],p=c[1],d=c[2];if(i%s==0)if(function(t,e,n){var o=new Date(Date.UTC(parseInt(t+"",10),parseInt(e+"",10)-1,parseInt(n+"",10)));if(xt(o))return!1;var i=o.getUTCDay();return 0===i||6===i}(u,p,d)){if(i-2>-1){var h=t[i-2],f=h.day,v=h.downloads,m=f.split("-"),g=(m[0],m[1]),x=m[2];e.push(g+"-"+x),n.push(v)}}else e.push(p+"-"+d),n.push(l);a+=l})),{sumDownloads:a,fromDate:i,toDate:r,labels:e,data:n}};const Jr=function(t){var e=t.createElement,n=t.option,o=t.json,i=t.parentProps,r=t.onMoveToTop,a=t.onCloseItem,l=(t.onWatchItem,n.repo,n.requestType),c=n.chartType,u=n.browserType,p=n.key,d=n.packageLink,h=o.downloads,f=o.package,v=Yr(h),m=v.sumDownloads,g=v.fromDate,x=v.toDate,y=v.labels,C=v.data;return e(Vr,s({key:p,packageName:f,packageLink:d,caption:f,requestType:l,sumDownloads:m,fromDate:g,toDate:x,labels:y,data:C,onMoveToTop:r,onCloseItem:a.bind(null,c,u,p)},i))};var Xr={lt:60,gt:62,quot:34,apos:39,amp:38},Qr=/&(#\d+|[a-z]+);/g,$r=String.fromCharCode,Zr=String.fromCharPoint,ts=$r(65533),es=function(t,e){var n;return"#"===e[0]?(n=parseInt(e.substring(1),10))-n==0?n>=1114111?ts:n>65535?Zr(n):$r(n):"&"+e+";":(n=Xr[e])?$r(n):"&"+e+";"},ns=function(t){return Ct(t)?t.replace(Qr,es):""},os=Tn.ROW_MENU_MORE;const is=function(t){var e,n=void 0===t?{}:t,o=n.setSortByProp,i=n.reverse,r=(e=o,function(t,n){return{name:t,onClick:e.bind(null,n,t),isClose:!0}});return{titleCl:os,pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",cn:os,name:"Sort By, DESC"}],p1:[r("Answer Count","answer_count"),r("Score","score"),r("View Count","view_count"),r("Reputation","reputation"),{name:"Reverse Items",onClick:i,isClose:!0}]}};var rs=function(t,e,n){void 0===n&&(n=2);var o=gt(e),i=gt(t);return o||i?o&&!i?1:!o&&i?-1:n:0},ss=function(t){return((t||{}).owner||{}).reputation||0},as=function(t,e){var n=ss(e),o=ss(t),i=rs(o,n);return 2===i?n-o:i};const ls=function(t,e){if(!e)return t;var n="reputation"===e?as:function(t){return function(e,n){var o=n[t],i=e[t],r=rs(i,o);return 2!==r?r:o===i?as(e,n):o-i}}(e);return t.sort(n)};var cs,us="border-left",ps=function(){return cs.style},ds=function(t){cs&&ps().removeProperty(us),cs=t.currentTarget,ps().setProperty(us,"4px solid #d64336")},hs=function(){cs&&(ps().removeProperty(us),cs=null)},fs=function(t){t.preventDefault()},vs=Vn?{MARK_REMOVE:50,REMOVE_ITEM:90,REMOVE_UNDER:150}:{MARK_REMOVE:25,REMOVE_ITEM:35,REMOVE_UNDER:150},ms=function(t){return(((t||{}).touches||[])[0]||{}).clientX||0};const gs=function(t,e,n,o){var i=(0,Te.useRef)();return(0,Te.useMemo)((function(){var r=function(t){return Math.abs(_e(i)-t)},s=function(i){if(i){var s=r(i);s>vs.REMOVE_UNDER?o(t):s>vs.REMOVE_ITEM&&(n(t),e(!0))}};return Vn?{onTouchStart:function(t){var e=ms(t);e&&ke(i,e)},onTouchMove:function(t){var e=ms(t);e&&r(e)>vs.MARK_REMOVE&&ds(t)},onTouchEnd:function(t){hs(),s(function(t){return(((t||{}).changedTouches||[])[0]||{}).clientX||0}(t))}}:{draggable:!0,onDragStart:function(t){ke(i,t.clientX),ds(t),t&&t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.dropEffect="move")},onDragEnd:function(t){t.preventDefault(),hs(),s(t.clientX)},onDrop:fs,onDragOver:fs,onDragEnter:fs,onDragLeave:fs}}),[])};var xs={display:"inline-block",color:"black",padding:"4px 8px",margin:"6px 8px 2px 8px",borderRadius:16,backgroundColor:"gray"};const ys=function(t){var e=t.tags;return(0,ze.jsx)("div",{children:(e||[]).map((function(t,e){return(0,ze.jsx)("span",{style:xs,children:t},e)}))})};var Cs={display:"none"},ws={display:"flex",flexWrap:"wrap",paddingBottom:8},bs={display:"inline-block",fontSize:18,paddingRight:8},js=s({},bs,{color:"#d7bb52"}),Ss=s({},bs,{color:"#80c040"}),Ts=s({},bs,{color:"black"}),_s={display:"inline-block",fontSize:"18px"},ks={paddingBottom:8,fontSize:"18px"},Is=Vn?"A":(0,ze.jsx)("span",{role:"img","arial-label":"hammer and pick",children:""}),Os=Vn?"S":(0,ze.jsx)("span",{role:"img","aria-label":"fish",children:""}),Ds=Vn?"V":(0,ze.jsx)("span",{role:"img","aria-label":"wheel of dharma",children:""}),Ls=Vn?"R":(0,ze.jsx)("span",{role:"img","arial-label":"shamrock",children:""}),Rs=function(){};const Ns=function(t){var e=t.item,n=t.onRemoveItem,o=void 0===n?Rs:n,i=t.onRemoveUnder,r=void 0===i?Rs:i,a=(0,Te.useState)(!1),l=a[0],c=a[1],u=gs(e,c,o,r),p=e.is_answered,d=e.answer_count,h=e.score,f=e.view_count,v=e.title,m=e.dateAgo,g=e.link,x=e.owner,y=e.tags,C=x||{},w=C.reputation,b=C.display_name,j=l?Cs:void 0;return(0,ze.jsx)("div",s({className:"row-item not-selected",style:j},u,{children:(0,ze.jsxs)(ri.Link,{href:g,children:[(0,ze.jsxs)("div",{style:ws,children:[(0,ze.jsxs)("span",{style:p?Ss:js,children:[Is,"",d]}),(0,ze.jsxs)("span",{style:js,children:[Os,"",h]}),(0,ze.jsxs)("span",{style:Ts,children:[Ds,"",f]}),(0,ze.jsxs)("span",{style:Ss,children:[Ls,"",w]}),(0,ze.jsx)("span",{style:Ts,children:b}),(0,ze.jsx)(ri.DateAgo,{style:_s,dateAgo:m})]}),(0,ze.jsx)("div",{style:ks,children:v}),(0,ze.jsx)(ys,{tags:y})]})}))};var Es=(0,Te.memo)((function(t){var e=t.items,n=t.onRemoveItem;return(0,ze.jsx)(ze.Fragment,{children:(e||[]).map((function(t,e){var o=t.question_id;return(0,ze.jsx)(Ns,{item:t,onRemoveItem:n},o)}))})}),(function(t,e){return t.items===e.items}));const As=Es;var Ws={position:"relative",top:3,marginRight:12},Ms={color:"#a9a9a9",padding:"0 12px"},Bs={color:"#a487d4",fontWeight:"bold",cursor:"pointer"},Ps={float:"none"},Fs=[];const Vs=function(t){var e=t.repo,n=t.caption,o=t.onCloseItem,i=(0,Te.useState)((function(){return{items:t.items||Fs,pnForSort:"",titleForSort:"",itemRemoved:0}})),r=i[0],a=i[1],l=r.items,c=r.titleForSort,u=r.itemRemoved,p=Ee(!0),d=p[0],h=p[1],f=(0,Te.useCallback)((function(){a((function(t){return s({},t,{items:[].concat(t.items.reverse())})}))}),[]),v=(0,Te.useCallback)((function(t,e){a((function(n){return s({},n,{pnForSort:t,titleForSort:e,items:[].concat(ls(n.items,t))})}))}),[]),m=(0,Te.useCallback)((function(){a((function(t){return s({},t,{itemRemoved:t.itemRemoved+1})}))}),[]),g=We(is,{setSortByProp:v,reverse:f}),x=g[0],y=g[1],C=g[2],w=g[3],b=l.length,j=u?b-u+"/"+b:""+b,S="Sorted By "+c;return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsx)(Sn,{isShow:y,className:Tn.MENU_MORE,model:x,onClose:C}),(0,ze.jsxs)(si,{onClose:o,children:[(0,ze.jsx)(ri.SvgMore,{style:Ws,onClick:w}),(0,ze.jsxs)("button",{className:Tn.NOT_SELECTED,title:n,style:s({},ai.CAPTION_OPEN,Ps),onClick:h,children:[(0,ze.jsx)("span",{children:e}),(0,ze.jsx)("span",{style:Ms,children:j})]}),(0,ze.jsx)("button",{className:Tn.NOT_SELECTED,style:Bs,title:"Reverse Items",onClick:f,children:S})]}),(0,ze.jsx)(ri.ShowHide,{isShow:d,children:(0,ze.jsx)(As,{items:l,onRemoveItem:m})})]})};const Us=function(t){var e=t.createElement,n=t.option,o=t.json,i=void 0===o?{}:o,r=t.parentProps,a=t.onCloseItem,l=t.onWatchItem,c=n.repo,u=n.requestType,p=n.chartType,d=n.browserType,h=n.key,f=(i.items||[]).map((function(t){var e=t.title,n=t.last_activity_date,o=t.owner,i=(void 0===o?{}:o).display_name,r=n+"000";return t.dateAgo=ji(r),t.title=ns(e),t.owner.display_name=ns(i),t}));return e(Vs,s({key:h,repo:c,requestType:u,caption:c,items:f,onCloseItem:a.bind(null,p,d,h),onWatchItem:l},r))};var Gs=s({},ai.CAPTION_OPEN,{position:"relative",top:-3}),Hs={paddingLeft:4},zs={padding:"0 10px"},qs={paddingTop:12},Ks={margin:"4px 0 0 16px"},Ys=function(t,e){var n=function(t){var e=t.labels,n=void 0===e?["1","2"]:e,o=t.data,i=void 0===o?[[0,0]]:o,r=t.numVisible,s=void 0===r?5:r,a=Ni.length;return{labels:n,datasets:i.map((function(t,e){return Ai({data:t,strColor:Ni[e%a],hidden:e>=s})}))}}({labels:t,data:e}),o=n.datasets.length;return[n,150+16*Math.floor(o/5)]};const Js=function(t){var e=t.caption,n=t.fromDate,o=t.toDate,i=t.labels,r=t.data,s=t.sourceLink,a=t.onMoveToTop,l=t.onCloseItem,c=Ee(!0),u=c[0],p=c[1],d=We(Bi,{onMoveToTop:a}),h=d[0],f=d[1],v=d[2],m=d[3],g=Ys(i,r),x=g[0],y=g[1];return(0,ze.jsxs)("div",{style:ai.ROOT,children:[(0,ze.jsx)(Sn,{isShow:f,className:Tn.MENU_MORE,model:h,onClose:v}),(0,ze.jsxs)(si,{style:Hs,onClose:l,children:[(0,ze.jsx)(ri.SvgMore,{style:ai.BT_MORE,onClick:m}),(0,ze.jsxs)("button",{className:Tn.BT_ITEM,title:e,style:Gs,onClick:p,children:[(0,ze.jsx)("span",{children:e}),(0,ze.jsx)("span",{style:zs,children:n}),(0,ze.jsx)("span",{children:o})]})]}),(0,ze.jsxs)(ri.ShowHide,{isShow:u,style:qs,children:[(0,ze.jsx)($i,{data:x,height:y}),(0,ze.jsx)(ri.Link,{className:Tn.SOURCE_LINK,style:Ks,href:s,children:"StatCounter Chart"})]})]})};var Xs=["Date"],Qs=function(t,e){void 0===e&&(e=5);var n=t[t.length-1],o=(n.Date,function(t){var e=[];for(var n in t)e.push({caption:n,value:parseFloat(t[n])});return e}(en(n,Xs)));o.sort((function(t,e){return e.value-t.value}));for(var i=[],r=o.length,s=0;s<r;s++){var a=o[s].caption;a&&i.push(a)}return i};const $s=function(t){var e=t.createElement,n=t.option,o=t.json,i=t.parentProps,r=t.onMoveToTop,a=t.onCloseItem,l=(t.onWatchItem,n.requestType),c=n.chartType,u=n.browserType,p=n.key,d=n.sourceLink,h=function(t){return t.data.filter((function(t){return Boolean(t.Date)}))}(o),f=function(t){var e=[],n=Qs(t),o=n.length,i=n.map((function(t){var e=[];return e.seriaName=t,e}));return t.forEach((function(t){e.push(t.Date);for(var n=0;n<o;n++){var r=i[n];r.push(t[r.seriaName])}})),{labels:e,data:i}}(h),v=f.labels,m=f.data,g=v[0],x=v[v.length-1],y=function(t){var e=void 0===t?{}:t,n=e.caption,o=e.region;return((void 0===o?{}:o).caption||"")+": "+n}(n);return e(Js,s({key:p,caption:y,requestType:l,fromDate:g,toDate:x,labels:v,data:m,sourceLink:d,onMoveToTop:r,onCloseItem:a.bind(null,c,u,p)},i))};const Zs={DEFAULT:co,GH_RELEASE_RECENT:pi,GH_TAGS:yi,GH_SEARCH_INFO:bi,GH_COMMITS:_i,GH_ISSUES:Ri,GH_PULL_REQUESTS:Ri,NPM_DOWNLOADS_RECENT_MONTH:Ur,NPM_DOWNLOADS:Jr,SE_QUESTIONS:Us,SE_SEARCH_QUESTIONS:Us,ST_OSVERSION:$s};var ta=k.showModalDialog.bind(null,d);const ea=function(t,e,n){var o=t.requestType,i=t.chartType,r=t.key;return(Zs[o]||Zs.DEFAULT)({createElement:Te.createElement,option:t,json:e,parentProps:n,onMoveToTop:ne.moveToTop.bind(null,i,r),onCloseItem:ne.closeChart,onWatchItem:ta})};var na=Array.isArray,oa=function(t,e){if("object"!=typeof(n=t)||null===n)return!1;var n,o=t.configs;if(!na(o))return!1;var i=o.findIndex((function(t){return t.key===e}));return-1!==i&&(o.unshift(o[i]),o.splice(i+1,1),!0)},ia=function(t,e){return k.showDialog.bind(null,t,e)},ra=function(t,e){return ne.showChart.bind(null,t,e)};const sa={createMenu:function(t,e,n){return t.map((function(t){var o=t.items.map((function(t){return{id:t.id,title:e[t.id].menuTitle,counter:0,isOpen:!1,onClick:ia(t.id,n),onBadgeOpen:ra(t.id,n),onBadgeClose:(o=t.id,k.closeCompItemList.bind(null,o))};var o}));return{caption:t.caption,isInitClose:t.isInitClose,items:o}}))}};var aa=function(){return!0};const la=function(t){var e=(0,Te.useState)((function(){return!!t})),n=e[0],o=e[1];return[n,(0,Te.useCallback)((function(){return o(!0)}),[]),(0,Te.useCallback)((function(){return o(!1)}),[])]};var ca=["className","style","caption","onClick"];const ua=function(t){var e=t.className,n=t.style,o=t.caption,i=void 0===o?"":o,r=t.onClick,a=en(t,ca);return(0,ze.jsx)("button",s({className:Qe("zhn-bt-circle2",e),style:n,onClick:r},a,{children:(0,ze.jsx)("div",{children:i})}))};var pa={color:"#a487d4"};const da=function(t){var e=t.isOpen,n=t.counter,o=t.onBadgeOpen,i=t.onBadgeClose,r=(0,Te.useCallback)((function(t){t.preventDefault(),t.stopPropagation(),e?i():o()}),[e,o,i]),s=e?pa:null;return(0,ze.jsx)(ua,{className:"menu__badge",style:s,caption:n,onClick:r})};var ha="not-selected",fa={paddingLeft:6},va=function(t){var e=t.title,n=t.className,o=t.menuBadge,i=t.onClick,r=Qo(i);return(0,ze.jsxs)("div",{role:"menuitem",tabIndex:0,className:n,onClick:i,onKeyDown:r,children:[e,o]})},ma=function(t,e){return void 0===e&&(e=[]),(e||[]).map((function(e,n){var o=e.counter,i=e.title,r=e.onClick,s=t?t+" "+ha:"row__topic not-selected",a=0!==o?(0,ze.jsx)(da,{counter:o,isOpen:e.isOpen,onBadgeOpen:e.onBadgeOpen,onBadgeClose:e.onBadgeClose}):null;return(0,ze.jsx)(va,{className:s,title:i,menuBadge:a,onClick:r},n)}))};const ga=function(t){var e=t.rowClass,n=t.caption,o=t.items,i=t.isInitClose;return(0,ze.jsx)(ii,{styleCaptionRow:fa,fillOpen:"#1b2836",fillClose:"transparent",caption:n,isClose:i,children:ma(e,o)})};var xa={paddingRight:0},ya={overflowY:"auto",height:"92%",paddingRight:10};const Ca=function(t){var e=t.isInitShow,n=t.caption,o=t.rowClass,i=t.store,r=t.browserType,a=t.showAction,l=t.updateAction,c=t.loadCompletedAction,u=t.sourceMenuUrl,p=t.onLoadMenu,d=t.children,h=(0,Te.useRef)(!1),f=(0,Te.useRef)(!1),v=la(e),m=v[0],g=v[1],x=v[2],y=(0,Te.useState)([]),C=y[0],w=y[1];return Me(i,(function(t,e){t===a&&e===r?g():t===c&&e.browserType===r?(ke(h,!0),w(e.menuItems)):t===l&&e===r&&w(i.getBrowserMenu(r))})),(0,Te.useEffect)((function(){ke(f,!0)}),[]),(0,Te.useEffect)((function(){(_e(f)||!_e(h)&&m)&&(ke(f,!1),p({browserType:r,caption:n,sourceMenuUrl:u}))}),[m]),(0,ze.jsxs)(wo,{isShow:m,style:xa,children:[(0,ze.jsx)(Wo,{caption:n,onClose:x}),(0,ze.jsxs)(Jn,{style:ya,children:[C.map((function(t,e){return(0,Te.createElement)(ga,s({},t,{key:e,rowClass:o}))})),d]})]})};const wa=function(t,e){return void 0===e&&(e=aa),(0,Te.memo)(t,e)}((function(t){return(0,ze.jsx)(Ca,s({showAction:re,loadCompletedAction:ae,updateAction:ie,onLoadMenu:he.loadBrowserDynamic},t))}));const ba=function(t){var e=t.browserType,n=t.store,o=t.caption,i=t.sourceMenuUrl,r=t.rowClass;return(0,ze.jsx)(wa,{isInitShow:!0,browserType:e,store:n,caption:o,sourceMenuUrl:i,rowClass:r},e)};function ja(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Sa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Ta=Array.isArray;const _a=function(t,e){if(Ta(t))for(var n,o=ja(t);!(n=o()).done;){var i=n.value.items;if(Ta(i))for(var r,s=ja(i);!(r=s()).done;){var a=r.value;if(a.id===e)return a}}};var ka=function(t,e,n,o){var i=_a(e[n],t);i&&(i.isOpen=o)},Ia=function(t,e,n,o){var i=_a(n[e],t);i&&(i.counter+=o,i.isOpen=!0)};const Oa={browserMenu:sa,routeDialog:{WL:{WL_WATCH_LIST:{type:"WL_WATCH_LIST",menuTitle:"Watch List",dialogCaption:"Watch List",chartContainerCaption:"Watch List"}}},getBrowserMenu:function(t){return this.browserMenu[t]},setMenuItemOpen:function(t,e){ka(t,this.browserMenu,e,!0)},setMenuItemClose:function(t,e){ka(t,this.browserMenu,e,!1)},addMenuItemCounter:function(t,e){Ia(t,e,this.browserMenu,1)},minusMenuItemCounter:function(t,e){Ia(t,e,this.browserMenu,-1)},getSourceConfig:function(t,e){return this.routeDialog[t][e]},getDataConf:function(t){var e=t.split("_")[0];return this.getSourceConfig(e,t)},onShowBrowser:function(t){this.trigger(oe,t)},onShowBrowserDynamic:function(t){var e=t.browserType;if(this.browserMenu[e])this.trigger(re,e);else{var n=ba(s({},t,{store:this}));this.browserMenu[e]=[],this.trigger(se,n)}},onLoadBrowserDynamicCompleted:function(t){var e=t.menu,n=t.items,o=t.browserType,i=sa.createMenu(e,n,o);this.routeDialog[o]=n,this.browserMenu[o]=i,this.trigger(ae,{menuItems:i,browserType:o})},onLoadBrowserDynamicFailed:function(t){t.alertItemId=t.alertItemId||t.caption||"",this.showAlertDialog(t)},onToggleWatchDbBrowser:function(){this.trigger(ce)},resetMenuItemCounter:function(t,e){!function(t,e,n){var o=_a(t[e],n);o&&(o.counter=0)}(this.browserMenu,e,t)}};var Da=function(t,e){return e?{name:t,onClick:e,isClose:!0}:null};const La=function(t,e,n){return Ae((function(){return{titleCl:"row__pane-topic not-selected",pageWidth:160,maxPages:1,p0:[Da("Toggle Dates",n),Da("Toggle Labels",e),Da("Toggle ToolBar",t)].filter(Boolean)}}))[0]};var Ra=function(t,e,n){return n?{caption:t,title:e,onClick:n}:null};const Na=function(t,e){return Ae((function(){return[Ra("L","Click to toggle row's labels",t),Ra("D","Click to toggle date input",e)].filter(Boolean)}))[0]};const Ea=function(t){var e=Ee(!0),n=e[0],o=e[1],i=Ee(Un),r=i[0],s=i[1];return[La(o,s,t),Na(s,t),n,r]};var Aa=function(){};const Wa=function(t){void 0===t&&(t=Aa);var e=(0,Te.useState)([]),n=e[0],o=e[1],i=(0,Te.useCallback)((function(){t(),o((function(t){return t.length>0?[]:t}))}),[]);return[n,o,i]};var Ma=!Vn,Ba="keydown",Pa=Object.create(null);const Fa=function(t,e){(0,Te.useEffect)((function(){return Ma&&t?(function(t,e){Pa&&(Pa[t]=e)}(t,e),function(){return function(t){return Pa&&(Pa[t]=void 0)}(t)}):void 0}),[])};var Va={textDecoration:"underline"},Ua=function(t,e){if(Vn||!t)return e;var n=function(t,e){return t?e.toUpperCase().indexOf(t):-1}(t,e);if(-1===n)return e;var o=e.substring(0,n),i=e.substring(n,n+1),r=e.substring(n+1);return(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{children:o}),(0,ze.jsx)("span",{style:Va,children:i}),(0,ze.jsx)("span",{children:r})]})};const Ga=function(t){var e=t.className,n=t.caption,o=t.hotKey,i=t.children;return n?(0,ze.jsxs)("span",{className:e,children:[Ua(o,n),i]}):null};var Ha={color:"#607d8b"};const za=function(t){var e=t.refBt,n=t.isArrow,o=t.timeout,i=void 0===o?3e3:o,r=t.className,a=t.style,l=t.isPrimary,c=t.title,u=void 0===c?"":c,p=t.caption,d=t.hotKey,h=t.children,f=t.onClick,v=(0,Te.useRef)(null),m=(0,Te.useCallback)((function(t){if(0!==i){var e=v.current,n=t.timeStamp;(null==e||n-e>i)&&(f(t),v.current=n)}else f(t)}),[i,f]),g=Qe("bt-flat",r),x=l?s({},a,Ha):a,y=d?u+" ["+d.toLowerCase()+"]":u;return Fa(d,f),(0,ze.jsxs)("button",{ref:e,type:"button",className:g,style:x,title:y,onClick:m,children:[(0,ze.jsx)(Ga,{className:"bt-flat__caption",caption:p,hotKey:d,children:n&&(0,ze.jsx)("span",{className:"arrow-down"})}),h]})};const qa=function(t){return Ae((function(){return[(0,ze.jsx)(za,{isPrimary:!0,caption:"Load",onClick:t},"load")]}))[0]};const Ka=function(t,e){var n=Wa(),o=n[0],i=n[1],r=n[2],s=(0,Te.useCallback)((function(){t(i,r)}),[]);return[o,qa(s),(0,Te.useCallback)((function(){r(),e()}),[]),s]};var Ya=function(t,e){return t.isShow===e.isShow};const Ja=function(t){return(0,Te.memo)(t,Ya)};var Xa={color:"#1b75bb",display:"inline-block",width:120,paddingRight:5,textAlign:"right",fontSize:"16px",fontWeight:"bold"},Qa=function(t){return t&&-1===t.indexOf(":")?t+":":""};const $a=function(t){var e=t.is,n=void 0===e||e,o=t.caption;return n?(0,ze.jsx)("span",{style:Xa,children:Qa(o)}):null};var Za={display:"flex",alignItems:"center",margin:5};const tl=function(t){var e=t.style,n=t.children;return(0,ze.jsx)("div",{style:s({},Za,e),children:n})};var el={position:"relative",display:"inline-block",width:250,backgroundColor:"#e1e1cb"},nl={color:"green",width:"100%",height:30,paddingLeft:10,fontSize:"16px",fontWeight:"bold",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},ol={width:230,margin:"0 0 5px 10px",borderWidth:"medium medium 1px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},il="#f44336",rl={borderColor:"#1b75bb"},sl={borderColor:il},al={color:il,padding:"0 0 5px 10px",fontSize:"12px",fontWeight:"bold"},ll=function(){},cl=(0,Te.forwardRef)((function(t,e){var n=t.initialValue,o=t.errorMsg,i=t.onTest,r=void 0===i?ll:i,a=(0,Te.useRef)(),l=(0,Te.useState)({value:n||"",isValid:!0,errMsg:null}),c=l[0],u=l[1],p=c.value,d=c.isValid,h=c.errMsg,f=d?rl:sl;return(0,Te.useImperativeHandle)(e,(function(){return{getValue:function(){return p},isValid:function(){return d},focus:function(){return a.current.focus()}}}),[d,p]),(0,ze.jsxs)("div",{style:el,children:[(0,ze.jsx)("input",{ref:a,type:"text",name:"date",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:nl,placeholder:"YYYY-MM-DD",value:p,onChange:function(t){var e=t.target.value;u((function(t){var n=r(e)?[!0,null]:[!1,t.errMsg];return{value:e,isValid:n[0],errMsg:n[1]}}))},onBlur:function(){var t=r(p)?[!0,null]:[!1,o];u({value:p,isValid:t[0],errMsg:t[1]})}}),(0,ze.jsx)("hr",{style:s({},ol,f)}),(0,ze.jsx)("div",{style:al,children:h})]})}));const ul=cl;var pl=zr(1),dl=zr(0),hl="YYYY-MM-DD format must be",fl=function(t){return t+" is not in valid format"},vl=function(){},ml={isValid:function(){return!1},getValue:vl,setValue:vl,focus:vl},gl=function(t){return t.current||ml},xl=(0,Te.forwardRef)((function(t,e){var n=t.isShow,o=t.isShowLabels,i=void 0===o||o,r=t.msgOnNotValidFormat,s=void 0===r?fl:r,a=t.initialFromDate,l=void 0===a?pl:a,c=t.initialToDate,u=void 0===c?dl:c,p=t.onTestDate,d=void 0===p?Hr:p,h=(0,Te.useRef)(),f=(0,Te.useRef)();return(0,Te.useImperativeHandle)(e,(function(){return{getValues:function(){return{fromDate:gl(h).getValue(),toDate:gl(f).getValue()}},setValues:function(t,e){gl(h).setValue(t),gl(f).setValue(e)},getValidation:function(){var t=[],e=gl(h),n=gl(f);return e.isValid()||t.push(s("From Date")),n.isValid()||t.push(s("To Date")),e.getValue().trim()>n.getValue().trim()&&t.push("From Date is near that To Date"),t.length>0?{isValid:!1,datesMsg:t}:{isValid:!0}},focusInput:function(){gl(h).focus()},focusNotValidInput:function(){var t=gl(h),e=gl(f);return t.isValid()?!e.isValid()&&(e.focus(),!0):(t.focus(),!0)}}}),[s]),(0,ze.jsxs)(tn,{isShow:n,children:[(0,ze.jsxs)(tl,{children:[(0,ze.jsx)($a,{is:i,caption:"From Date"}),(0,ze.jsx)(ul,{ref:h,initialValue:l,errorMsg:hl,onTest:d})]}),(0,ze.jsxs)(tl,{children:[(0,ze.jsx)($a,{is:i,caption:"To Date"}),(0,ze.jsx)(ul,{ref:f,initialValue:u,errorMsg:hl,onTest:d})]})]})}));const yl=xl;var Cl="m-field",wl=function(t){var e=t.isValue,n=t.onClick;return(0,ze.jsx)("button",{type:"button",className:"m-field__bt-clear",tabIndex:"-1",onClick:n,children:e?"x":""})},bl=function(){},jl=(0,Te.forwardRef)((function(t,e){var n=t.style,o=t.initValue,i=t.placeholder,r=t.maxLength,s=void 0===r?50:r,a=t.onEnter,l=void 0===a?bl:a,c=(0,Te.useRef)(),u=(0,Te.useState)((function(){return o||""})),p=u[0],d=u[1],h=(0,Te.useCallback)((function(t){d(t.target.value)}),[]),f=(0,Te.useCallback)((function(t){!function(t){var e=t.keyCode;return 27===e||46===e}(t)?13===t.keyCode&&l(t.target.value):d("")}),[l]),v=(0,Te.useCallback)((function(){d(""),Ie(c)}),[]);return(0,Te.useImperativeHandle)(e,(function(){return{getValue:function(){var t=_e(c);return t?t.value.trim():void 0},setValue:function(t){return d(t)},focus:function(){Ie(c)}}}),[]),(0,ze.jsxs)("div",{className:Cl,children:[(0,ze.jsx)("input",{ref:c,type:"text",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:"m-field__input",style:n,value:p,placeholder:i,maxLength:s,onChange:h,onKeyDown:f}),Vn&&(0,ze.jsx)(wl,{isValue:Boolean(p),onClick:v})]})}));const Sl=jl;var Tl={margin:5,lineHeight:2},_l={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},kl=(0,Te.forwardRef)((function(t,e){var n=t.isShowLabel,o=t.caption,i=t.placeholder,r=t.onEnter,s=n?i:i||o;return(0,ze.jsxs)("div",{style:Tl,children:[(0,ze.jsx)($a,{is:n,caption:o}),(0,ze.jsx)(Sl,{ref:e,style:_l,placeholder:s,onEnter:r})]})}));const Il=kl;function Ol(t,e){return Ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ol(t,e)}function Dl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ol(t,e)}var Ll={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},Rl={display:"inline-block",position:"relative",top:2,height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},Nl=(0,Te.forwardRef)((function(t,e){var n=t.arrowStyle,o=t.onClick,i=(0,Te.useRef)(),r=(0,Te.useRef)();return(0,Te.useImperativeHandle)(e,(function(){return{startAnimation:function(){var t=_e(i),e=_e(r);t&&e&&(t.style.animation="circle infinite 1.25s linear",e.style.borderColor="#1b75bb transparent transparent")},stopAnimation:function(){var t=_e(i);t&&(t.style.animation="")}}})),(0,ze.jsx)("button",{ref:i,style:Ll,tabIndex:"-1",onClick:o,children:(0,ze.jsx)("span",{ref:r,style:s({},Rl,n)})})}));const El=Nl;const Al=function(t){var e=t.item,n=t.propCaption;return(0,ze.jsx)("span",{children:e[n]})};var Wl="zhn-select";const Ml={ROOT:Wl,INPUT:"zhn-select__input",SPINNER:"zhn-select__spinner",SPINNER_FAILED:"zhn-select__spinner--failed",INPUT_HR:"zhn-select__input__hr",OPTIONS:"zhn-select__options",OPTIONS_DIV:"zhn-select__options__div",OPTIONS_ROW:"zhn-select__row",OPTIONS_ROW_ACTIVE:"zhn-select__row--active",FOOTER:"zhn-select__footer",FOOTER_INDEX:"zhn-select__footer__index",FOOTER_BTS:"zhn-select__footer__bts",FOOTER_MARGIN:"zhn-select__footer--margin",NOT_SELECTED:"not-selected"};var Bl={backgroundColor:"#949ab4"},Pl=(0,Te.forwardRef)((function(t,e){var n=t.indexActiveOption,o=t.nFiltered,i=t.nAll,r=t.onStepDown,s=t.onStepUp,a=t.onClear;return(0,ze.jsxs)("div",{className:Ml.FOOTER+" "+Ml.NOT_SELECTED,children:[(0,ze.jsxs)("span",{className:Ml.FOOTER_INDEX,children:[(0,ze.jsx)("span",{ref:e,children:n}),(0,ze.jsxs)("span",{children:[": ",o,": ",i]})]}),(0,ze.jsxs)("span",{className:Ml.FOOTER_BTS,children:[(0,ze.jsx)(ua,{className:Ml.FOOTER_MARGIN,style:Bl,caption:"Dn",onClick:r}),(0,ze.jsx)(ua,{className:Ml.FOOTER_MARGIN,style:Bl,caption:"Up",onClick:s}),(0,ze.jsx)(ua,{style:Bl,caption:"CL",onClick:a})]})]})}));const Fl=Pl;var Vl="From input:",Ul=function(t,e){return t?-1!==(""+t).indexOf("%")?s({},e,{width:t}):s({},e,{width:t+"px"}):null},Gl={display:"block"},Hl={display:"none"},zl={borderColor:"#1b75bb transparent transparent"},ql=function(t){var e=t.optionName,n=t.optionNames,o=t.options;return{value:"",isShowOption:!1,initialOptions:o,options:o,optionNames:n||e||"",isValidDomOptionsCache:!1,isLocalMode:!1}},Kl=function(t){function e(e){var n;return(n=t.call(this,e)||this)._initFromProps=function(t){var e=t.propCaption;n.domOptionsCache=null,n.indexActiveOption=0,n.propCaption=e},n._setStateToInit=function(t){n._initFromProps(t),n.setState(ql(t))},n._getActiveItemComp=function(){return n["v"+n.indexActiveOption]},n._decorateActiveRowComp=function(t){t&&t.classList.add(Ml.OPTIONS_ROW_ACTIVE),n.indexNode&&(n.indexNode.textContent=n.indexActiveOption+1)},n._undecorateActiveRowComp=function(t){var e=t||n._getActiveItemComp();e&&e.classList.remove(Ml.OPTIONS_ROW_ACTIVE)},n._makeVisibleActiveRowComp=function(t){if(t){var e=t.offsetTop,o=n.optionsComp.scrollTop;e-o>70&&(n.optionsComp.scrollTop+=e-o-70),e-o<0&&(n.optionsComp.scrollTop=0)}},n._filterOptions=function(t,e){var o=e.toLowerCase(),i=n.propCaption;return t.filter((function(t){return-1!==t[i].toLowerCase().indexOf(o)}))},n._crFilterOptions=function(t,e,o){var i=n.state,r=i.options,s=i.initialOptions,a=e>o?r:s,l=n._filterOptions(a,t);return 0===l.length&&l.push(function(t,e,n){var o,i=String(e).replace(Vl,"").trim();return(o={})[t]=n?"From input: "+i:"No results found",o.value="noresult",o.inputValue=i,o}(n.propCaption,t,n.props.isWithInput)),l},n._hInputChange=function(t){var e=t.target.value,o=e.length,i=n.state.value.length;o!==i&&(n._undecorateActiveRowComp(),n.indexActiveOption=0,n.setState({value:e,isShowOption:!0,isValidDomOptionsCache:!1,options:n._crFilterOptions(e,o,i)}))},n._startAfterInputAnimation=function(){n.state.options.length>800&&n.arrowCell.startAnimation()},n._stopAfterInputAnimation=function(){n.arrowCell.stopAnimation()},n._setShowOptions=function(){n.setState({isShowOption:!0},n._stopAfterInputAnimation)},n._showOptions=function(t){n.props.isShowOptionAnim?(n._startAfterInputAnimation(),setTimeout(n._setShowOptions,t)):n.setState({isShowOption:!0})},n._stepDownOption=function(){var t=n._getActiveItemComp();if(t){n._undecorateActiveRowComp(t),n.indexActiveOption+=1,n.indexActiveOption>=n.state.options.length&&(n.indexActiveOption=0,n.optionsComp.scrollTop=0);var e=n._getActiveItemComp();n._decorateActiveRowComp(e);var o=e.offsetTop,i=n.optionsComp.scrollTop;o-i>70&&(n.optionsComp.scrollTop+=o-i-70)}},n._stepUpOption=function(){var t=n._getActiveItemComp();if(t){if(n._undecorateActiveRowComp(t),n.indexActiveOption-=1,n.indexActiveOption<0){n.indexActiveOption=n.state.options.length-1;var e=n._getActiveItemComp();n.optionsComp.scrollTop=e.offsetTop}var o=n._getActiveItemComp();n._decorateActiveRowComp(o);var i=o.offsetTop,r=n.optionsComp.scrollTop;i-r<70&&(n.optionsComp.scrollTop-=70-(i-r))}},n._hInputKeyDown=function(t){switch(t.keyCode){case 13:var e=n.state.options[n.indexActiveOption];if(e&&e[n.propCaption])if(n.setState({value:e[n.propCaption],isShowOption:!1,isValidDomOptionsCache:!0}),"noresult"!==e.value)n.props.onSelect(e);else{var o=n.props.isWithInput?function(t,e){var n;return(n={})[e]="From Input",n.value=t.inputValue,n}(e,n.propCaption):void 0;n.props.onSelect(o)}break;case 27:case 46:t.preventDefault(),n.state.isShowOption?n.setState({isShowOption:!1}):(n._undecorateActiveRowComp(),n._setStateToInit(n.props),n.props.onSelect(void 0));break;case 40:n.state.isShowOption?(t.preventDefault(),n._stepDownOption()):n._showOptions(0);break;case 38:n.state.isShowOption&&(t.preventDefault(),n._stepUpOption());break;default:return}},n._hToggleOptions=function(){n.state.isShowOption?n.setState({isShowOption:!1}):n._showOptions(1)},n._hClickItem=function(t,e){n._undecorateActiveRowComp(),n.indexActiveOption=e,n.setState({value:t[n.propCaption],isShowOption:!1}),n.props.onSelect(t)},n._refOptionsComp=function(t){return n.optionsComp=t},n._refIndexNode=function(t){return n.indexNode=t},n._createDomOptionsWithCache=function(){var t,e=n.props.ItemOptionComp,o=n.state,i=o.options,r=o.isValidDomOptionsCache,s=n.propCaption;return i&&(r?t=n.domOptionsCache:(t=i.map((function(t,o){return(0,ze.jsx)("div",{role:"option","aria-selected":n.indexActiveOption===o,tabIndex:"0",className:Ml.OPTIONS_ROW,ref:function(t){return n["v"+o]=t},onClick:n._hClickItem.bind(null,t,o),children:(0,ze.jsx)(e,{item:t,propCaption:s})},o)})),n.domOptionsCache=t)),t},n.renderOptions=function(){var t,e,o,i=n.props,r=i.rootOptionsStyle,a=i.width,l=n.state.isShowOption,c=n._createDomOptionsWithCache(),u=Ul(a,l?Gl:Hl),p=(t=n.state,e=t.options,o=t.initialOptions,{_nFiltered:e[0]&&"noresult"!==e[0].value?e.length:0,_nAll:o?o.length:0}),d=p._nFiltered,h=p._nAll;return(0,ze.jsxs)("div",{className:Ml.OPTIONS,style:u,"data-scrollable":!0,children:[(0,ze.jsx)("div",{ref:n._refOptionsComp,className:Ml.OPTIONS_DIV,style:s({},r,u),children:c}),(0,ze.jsx)(Fl,{ref:n._refIndexNode,indexActiveOption:n.indexActiveOption,nAll:h,nFiltered:d,onStepUp:n._stepUpOption,onStepDown:n._stepDownOption,onClear:n.clearInput})]})},n._refArrowCell=function(t){return n.arrowCell=t},n._crAfterInputEl=function(){var t,e,o=n.props,i=o.isLoading,r=o.isLoadingFailed,s=o.placeholder,a=o.optionName,l=o.onLoadOption,c=n.state,u=c.isShowOption,p=c.optionNames;return i||r?i?(t="Loading "+p+"...",e=(0,ze.jsx)("span",{className:Ml.SPINNER,"data-loader":"circle"})):r&&(t="Loading "+p+" Failed",e=(0,ze.jsx)(ua,{className:Ml.SPINNER_FAILED,"data-loader":"circle-failed",onClick:l})):(t=s||"Select "+a+"...",e=(0,ze.jsx)(El,{ref:n._refArrowCell,arrowStyle:u?zl:void 0,onClick:n._hToggleOptions})),{placeholder:t,afterInputEl:e}},n._refDomInputText=function(t){return n.domInputText=t},n.clearInput=function(){var t=n.props.onSelect;n._undecorateActiveRowComp(),t(void 0),n._setStateToInit(n.props)},n._initFromProps(e),n.state=ql(e),n}Dl(e,t),e.getDerivedStateFromProps=function(t,e){return t.options!==e.initialOptions?ql(t):null};var n=e.prototype;return n.componentDidUpdate=function(t,e){if(e.initialOptions!==this.state.initialOptions&&this._initFromProps(this.props),this.state.isShowOption){var n=this._getActiveItemComp();this._decorateActiveRowComp(n),this._makeVisibleActiveRowComp(n)}},n.render=function(){var t=this.props,e=t.rootStyle,n=t.width,o=this.state,i=o.value,r=o.isLocalMode,s=o.isShowOption,a=Ul(n,e),l=this._crAfterInputEl(),c=l.afterInputEl,u=l.placeholder;return(0,ze.jsxs)("div",{className:Ml.ROOT,style:a,children:[(0,ze.jsx)("input",{ref:this._refDomInputText,className:Ml.INPUT,type:"text",name:"select",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:i,placeholder:u,onChange:this._hInputChange,onKeyDown:this._hInputKeyDown}),c,(0,ze.jsx)("hr",{className:Ml.INPUT_HR}),(r||s)&&this.renderOptions()]})},n.focusInput=function(){this.domInputText.focus()},n.focusNotValidInput=function(){this.domInputText.focus()},e}(Te.Component);Kl.defaultProps={propCaption:"caption",ItemOptionComp:Al,options:[],optionName:"",optionNames:"",isWithInput:!1,onSelect:function(){},onLoadOption:function(){}};const Yl=Kl;const Jl=function(t){var e=t.isShowLabel,n=t.caption,o=t.placeholder,i=t.options,r=t.onSelect;return(0,ze.jsxs)(tl,{children:[(0,ze.jsx)($a,{is:e,caption:n}),(0,ze.jsx)(Yl,{width:"250",placeholder:o,options:i,onSelect:r})]})};var Xl=Array.isArray,Ql={color:"#f44336",padding:"5px 0 0 10px"},$l={display:"inline-block",width:22,height:22,marginRight:5,border:"solid 2px #f44336",borderRadius:"50%",textAlign:"center"},Zl={whiteSpace:"pre",fontWeight:"bold"},tc=function(t){var e=t.index,n=t.msg;return(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{style:$l,children:e}),(0,ze.jsx)("span",{style:Zl,children:n})]})};const ec=function(t){var e=t.validationMessages;return Xl(e)?(0,ze.jsx)("div",{style:Ql,children:e.map((function(t,e){return(0,ze.jsx)(tc,{msg:t,index:e+1},e)}))}):null};const nc={Caption:$a,Row:tl,RowInputDatePeriod:yl,RowInputText:Il,RowInputSelect:Jl,ValidationMessages:ec};var oc={padding:"4px 0 8px 0"},ic={marginLeft:20},rc=(0,Te.memo)((function(t){var e=t.buttons;return(0,ze.jsx)(tl,{style:oc,children:(e||[]).map((function(t,e){var n=t.caption,o=t.title,i=t.onClick;return(0,ze.jsx)(bo,{style:ic,caption:n,title:o,onClick:i},n+e)}))})}));const sc=rc;const ac=function(t){var e=t.isShow,n=t.buttons;return(0,ze.jsx)(tn,{isShow:e,children:(0,ze.jsx)(sc,{buttons:n})})};const lc=Xo((function(t){return 27===t.keyCode||"Escape"===t.key}));var cc=Object.assign,uc=Array.isArray,pc=Vn?["touchstart","touchmove","touchcancel","touchend"]:["mousedown","mousemove","mouseleave","mouseup"],dc=pc[0],hc=pc[1],fc=pc[2],vc=pc[3],mc={passive:!0},gc={passive:!1},xc=function(t){return function(e){return parseInt(e[t],10)}},yc=xc("top"),Cc=xc("left"),wc=function(t,e){return t>0?t>e?e-16:t:8},bc=function(t,e,n){return n-t>22&&e-n>22},jc=function(t){return"BUTTON"===t.tagName||t.dataset.scrollable};const Sc=function(t){(0,Te.useEffect)((function(){var e,n,o=_e(t),i=o.style,r=0,s=0;function a(t){t.cancelable&&(t.stopPropagation(),t.preventDefault()),0===r&&0===s&&(i.cursor="move"),r=Re(t)-e,s=Ne(t)-n;var o="translate("+r+"px,"+s+"px)";cc(i,{webkitTransform:o,transform:o})}function l(){var t,e,n,a;c(),t=yc(i),e=Cc(i),n=wc(e+r,window.innerWidth-o.clientWidth),a=wc(t+s,window.innerHeight-o.clientHeight),cc(i,{top:a+"px",left:n+"px",webkitTransform:"",transform:""}),r=0,s=0}function c(){i.cursor="",o.removeEventListener(hc,a,gc),o.removeEventListener(fc,l,mc),o.removeEventListener(vc,l,mc)}return o.addEventListener(dc,(function(t){e=Re(t),n=Ne(t),function(t,e,n,o){var i=function(t){return"function"==typeof t.composedPath?t.composedPath():void 0}(t);if(uc(i))for(var r=0;r<i.length;r++){var s=i[r];if(jc(s))return!1;if(s===o)break}if(!Vn)return!0;var a=o.getClientRects()[0],l=a.left,c=a.top,u=a.right,p=a.bottom;return bc(l,u,e)&&bc(c,p,n)}(t,e,n,o)&&(o.addEventListener(hc,a,gc),o.addEventListener(fc,l,mc),o.addEventListener(vc,l,mc))}),mc),function(){c(),i=null,o=null}}),[])};const Tc=function(t){t&&"function"==typeof t.focus&&t.focus()};const _c=function(t,e){var n=(0,Te.useRef)(),o=(0,Te.useRef)(),i=(0,Te.useRef)(),r=(0,Te.useRef)(),s=(0,Te.useCallback)((function(){i.current=document.activeElement,Tc(_e(o)||_e(n))}),[]),a=(0,Te.useCallback)((function(){Tc(_e(i)),i.current=null}),[]);return(0,Te.useEffect)((function(){var t=_e(r);e&&!t?s():!e&&t&&a(),r.current=e}),[e]),(0,Te.useImperativeHandle)(t,(function(){return{focus:s,focusPrev:a}}),[]),[n,o]};var kc="show-popup",Ic={display:"block"},Oc={display:"none"},Dc={backgroundColor:"#4d4d4d",border:"solid 2px #1b2836",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px"},Lc={position:"absolute",top:4,right:0,marginRight:6},Rc={textAlign:"right",margin:"8px 4px 10px 0"},Nc={color:"#1b2836"},Ec=s({},Dc,{position:"absolute",top:30,left:50,zIndex:10}),Ac=s({},{position:"relative",padding:"5px 35px 5px 16px",color:"#c0c0c0",backgroundColor:"#1b2836",textAlign:"center",fontSize:"18px",fontWeight:500},{cursor:"move"}),Wc={position:"absolute",top:2,left:0},Mc={stroke:"inherit",fill:"inherit"},Bc=function(){},Pc=(0,Te.forwardRef)((function(t,e){var n,o=t.menuModel,i=t.isShow,r=t.caption,a=t.children,l=t.commandButtons,c=t.onShowChart,u=t.onClose,p=void 0===u?Bc:u,d=_c(e,i),h=d[0],f=d[1],v=Ee(),m=v[0],g=v[1],x=lc(p),y=Qe("draggable-dialog",[i,kc]),C=i?Ic:Oc;return Sc(h),(0,ze.jsxs)("div",{ref:h,role:"dialog",tabIndex:"-1","aria-label":r,"aria-hidden":!i,className:y,style:s({},Ec,C),onKeyDown:x,children:[(0,ze.jsxs)("div",{style:Ac,children:[o&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Sn,{isShow:m,className:"popup-menu dialog__menu-more",model:o,onClose:g}),(0,ze.jsx)(In,{btRef:f,style:Wc,svgStyle:Mc,onClick:g})]}),(0,ze.jsx)("span",{className:"not-selected",children:r}),(0,ze.jsx)(Dn,{style:Lc,onClose:p})]}),(0,ze.jsx)("div",{children:a}),(0,ze.jsxs)("div",{style:Rc,children:[l,(n=c,"function"==typeof n&&(0,ze.jsx)(za,{timeout:0,rootStyle:Nc,caption:"Show",title:"Show Pane Container",onClick:c},"show")),(0,ze.jsx)(za,{timeout:0,rootStyle:Nc,caption:"Close",title:"Close Draggable Dialog",onClick:p},"close")]})]})}));const Fc=s({},nc,{Toolbar:ac,ShowHide:tn,DraggableDialog:Pc});const Vc=function(t){var e=t.isShow,n=t.isToolbar,o=t.caption,i=t.menuModel,r=t.commandButtons,s=t.toolbarButtons,a=t.validationMessages,l=t.children,c=t.onShow,u=t.onClose;return(0,ze.jsxs)(Fc.DraggableDialog,{isShow:e,caption:o,menuModel:i,commandButtons:r,onShowChart:c,onClose:u,children:[(0,ze.jsx)(Fc.Toolbar,{isShow:n,buttons:s}),l,(0,ze.jsx)(Fc.ValidationMessages,{validationMessages:a})]})};var Uc=Ja((function(t){var e=t.isShow,n=t.caption,o=t.oneTitle,i=t.onePlaceholder,r=t.requestType,s=t.onShow,a=t.onLoad,l=t.onClose,c=Ea(),u=c[0],p=c[1],d=c[2],h=c[3],f=(0,Te.useRef)(),v=Ka((function(t,e){var n=_e(f).getValue(),i=function(t,e){var n=[];return t||n.push(e+" is required"),n.isValid=0===n.length,n}(n,o);i.isValid?(a({repo:n,requestType:r}),e()):t(i)}),l),m=v[0],g=v[1],x=v[2],y=v[3];return(0,ze.jsx)(Vc,{isShow:e,isToolbar:d,caption:n,menuModel:u,toolbarButtons:p,commandButtons:g,validationMessages:m,onShow:s,onClose:x,children:(0,ze.jsx)(Fc.RowInputText,{ref:f,isShowLabel:h,caption:o,placeholder:i,onEnter:y})})}));const Gc=Uc;const Hc=function(t){var e=(0,Te.useRef)(t||{}),n=(0,Te.useCallback)((function(t){ke(e,t)}),[]);return[e,n]};var zc=[{caption:"OS: Desktop, Mobile, Tablet, Console",value:"os"},{caption:"Windows: Desktop",value:"win-desktop"},{caption:"macOS: Desktop",value:"mac-desktop"},{caption:"Android: Mobile, Tablet",value:"android-mobile"},{caption:"IOS: Mobile, Tablet",value:"ios-mobile"},{caption:"Browser: All Platforms",value:"browser"}],qc=[{caption:"Worldwide",value:"worlwide",v2:"ww"},{caption:"Africa",value:"africa",v2:"af"},{caption:"Asia",value:"asia",v2:"as"},{caption:"Antarctica",value:"antarctica",v2:"an"},{caption:"Australia",value:"australia",v2:"au"},{caption:"Europe",value:"europe",v2:"eu"},{caption:"North America",value:"north-america",v2:"na"},{caption:"South America",value:"south-america",v2:"sa"},{caption:"Oceania",value:"oceania",v2:"oc"}],Kc=function(t){return t.caption},Yc=zc[0],Jc=Kc(Yc),Xc=qc[0],Qc=Kc(Xc),$c=Ja((function(t){var e=t.isShow,n=t.caption,o=t.requestType,i=t.onShow,r=t.onLoad,s=t.onClose,a=Ea(),l=a[0],c=a[1],u=a[2],p=a[3],d=Hc(Yc),h=d[0],f=d[1],v=Hc(Xc),m=v[0],g=v[1],x=Ka((function(t,e){var n=_e(h)||Yc,i=n.value,s=n.caption;r({requestType:o,value:i,caption:s,region:_e(m)||Xc})}),s),y=x[0],C=x[1],w=x[2];return(0,ze.jsxs)(Vc,{isShow:e,isToolbar:u,caption:n,menuModel:l,toolbarButtons:c,commandButtons:C,validationMessages:y,onShow:i,onClose:w,children:[(0,ze.jsx)(Fc.RowInputSelect,{isShowLabel:p,caption:"Item",placeholder:Jc,options:zc,onSelect:f}),(0,ze.jsx)(Fc.RowInputSelect,{isShowLabel:p,caption:"Region",placeholder:Qc,options:qc,onSelect:g})]})}));const Zc=$c;const tu=function(t){return(_e(t)||{}).value};var eu=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Hot Tab",value:"hot"},{caption:"Hot Week Tab",value:"week"},{caption:"Hot Month Tab",value:"month"}],nu=Ja((function(t){var e=t.isShow,n=t.caption,o=t.requestType,i=t.oneTitle,r=t.onePlaceholder,s=t.onShow,a=t.onLoad,l=t.onClose,c=Ee(),u=c[0],p=c[1],d=Ea(p),h=d[0],f=d[1],v=d[2],m=d[3],g=(0,Te.useRef)(),x=(0,Te.useRef)(),y=Hc(),C=y[0],w=y[1],b=Ka((function(t,e){var n=_e(g).getValue(),i=_e(x),r=i.getValidation(),s=r.isValid,l=r.datesMsg,c=i.getValues(),u=c.fromDate,p=c.toDate,d=function(t,e){var n=[];return t||n.push(e),n.isValid=0===n.length,n}(s,l);d.isValid?(a({repo:n,requestType:o,sort:tu(C),fromdate:Kr(u),todate:Kr(p)}),e()):t(d)}),l),j=b[0],S=b[1],T=b[2],_=b[3];return(0,ze.jsxs)(Vc,{isShow:e,isToolbar:v,caption:n,menuModel:h,toolbarButtons:f,commandButtons:S,validationMessages:j,onShow:s,onClose:T,children:[(0,ze.jsx)(Fc.RowInputText,{ref:g,isShowLabel:m,caption:i,placeholder:r,onEnter:_}),(0,ze.jsx)(Fc.RowInputSelect,{isShowLabel:m,caption:"Sort By",placeholder:"Default: Hot Week Tab",options:eu,onSelect:w}),(0,ze.jsx)(Fc.RowInputDatePeriod,{ref:x,isShow:u,isShowLabels:m})]})}));const ou=nu;var iu=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Relevance",value:"relevance"}],ru=Ja((function(t){var e=t.isShow,n=t.caption,o=t.oneTitle,i=t.onePlaceholder,r=t.twoTitle,s=t.twoPlaceholder,a=t.requestType,l=t.onShow,c=t.onLoad,u=t.onClose,p=Ee(),d=p[0],h=p[1],f=Ea(h),v=f[0],m=f[1],g=f[2],x=f[3],y=(0,Te.useRef)(),C=(0,Te.useRef)(),w=(0,Te.useRef)(),b=Hc(),j=b[0],S=b[1],T=Ka((function(t,e){var n=_e(y).getValue(),o=_e(C).getValue(),i=_e(w),r=i.getValidation(),s=r.isValid,l=r.datesMsg,u=i.getValues(),p=u.fromDate,d=u.toDate,h=function(t,e){var n=[];return t||n.push(e),n.isValid=0===n.length,n}(s,l);h.isValid?c({repo:n,requestType:a,intitle:o,sort:tu(j),fromdate:Kr(p),todate:Kr(d)}):t(h)}),u),_=T[0],k=T[1],I=T[2],O=T[3];return(0,ze.jsxs)(Vc,{isShow:e,isToolbar:g,caption:n,menuModel:v,toolbarButtons:m,commandButtons:k,validationMessages:_,onShow:l,onClose:I,children:[(0,ze.jsx)(Fc.RowInputText,{ref:y,isShowLabel:x,caption:o,placeholder:i,onEnter:O}),(0,ze.jsx)(Fc.RowInputText,{ref:C,isShowLabel:x,caption:r,placeholder:s}),(0,ze.jsx)(Fc.RowInputSelect,{isShowLabel:x,caption:"Sort By",placeholder:"Default: Activity",options:iu,onSelect:S}),(0,ze.jsx)(Fc.RowInputDatePeriod,{ref:w,isShow:d,isShowLabels:x})]})}));const su=ru;var au=Ja((function(t){var e=t.isShow,n=t.caption,o=t.requestType,i=t.oneTitle,r=t.onePlaceholder,s=t.onLoad,a=t.onShow,l=t.onClose,c=Ee(),u=c[0],p=c[1],d=Ea(p),h=d[0],f=d[1],v=d[2],m=d[3],g=(0,Te.useRef)(),x=(0,Te.useRef)(),y=Ka((function(t,e){var n=_e(g).getValue(),r=_e(x),a=r.getValidation(),l=a.isValid,c=a.datesMsg,u=r.getValues(),p=u.fromDate,d=u.toDate,h=function(t,e,n,o){var i=[];return t||i.push(o+" is required"),e||i.push(n),i.isValid=0===i.length,i}(n,l,c,i);h.isValid?(s({repo:n,requestType:o,fromDate:p,toDate:d}),e()):t(h)}),l),C=y[0],w=y[1],b=y[2],j=y[3];return(0,ze.jsxs)(Vc,{isShow:e,isToolbar:v,caption:n,menuModel:h,toolbarButtons:f,commandButtons:w,validationMessages:C,onShow:a,onClose:b,children:[(0,ze.jsx)(Fc.RowInputText,{ref:g,isShowLabel:m,caption:i,placeholder:r,onEnter:j}),(0,ze.jsx)(Fc.RowInputDatePeriod,{ref:x,isShow:u,isShowLabels:m})]})}));const lu={DEFAULT:Gc,DialogType1:Gc,DialogType1A:Zc,DialogType2:ou,DialogType3:su,DialogType3A:au};var cu=ne.loadStock,uu=ne.showChart;const pu=function(t,e){var n=t.type,o=t.dialogType&&lu[t.dialogType]||lu.DEFAULT;return(0,ze.jsx)(o,s({caption:t.dialogCaption,optionURI:t.optionURI,optionsJsonProp:t.optionsJsonProp,onLoad:cu.bind(null,n,e),onShow:uu.bind(null,n,e)},t.dialogProps),n)};const du={dialogInit:{},onShowAbout:function(){this.trigger(C)},onShowDialog:function(t,e){if(this.dialogInit[t])this.trigger(b,t);else{this.dialogInit[t]=!0;var n=pu(this.getDataConf(t),e);this.trigger(w,{dialogType:t,dialogComp:n})}},onShowModalDialog:function(t,e){void 0===e&&(e={}),e.modalDialogType=t,this.trigger(S,e)}};var hu=window.localStorage,fu=JSON.stringify,vu=JSON.parse,mu=function(t){return{message:t}},gu=mu("LocalStorage is absent"),xu=(mu("Use LocalStorage is not allowed"),!!hu),yu=function(t){return"LW_"+t};const Cu=function(t,e){try{var n=new Blob([JSON.stringify(t)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.rel="noopener",o.target="_blank",o.download=e,o.click(),"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(o.href),o.remove()}catch(t){console.log(t.message)}};const wu={groups:[{caption:"GitHub Libraries",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]},{caption:"Npm Packages",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]}]};var bu=function(t){return function(e,n,o){return yt(n)?n[t]((function(t){return t[e]===o})):void 0}},ju=bu("findIndex"),Su=bu("find"),Tu=function(t,e,n,o){return Su(e,!!(i=n)&&"object"==typeof i&&!yt(i)&&n[t],o);var i},_u=function(t,e){return{isDone:!1,message:$(t,e)}},ku=function(t){return{isDone:!1,message:Z(t)}},Iu=function(t,e){return{isDone:!1,message:tt(t,e)}},Ou=function(t,e,n){return e.filter((function(e,o){return e[t]!==n}))}.bind(null,"caption"),Du=function(t,e){return yt(t)?[].concat(t,[e]):[e]},Lu=function(t,e,n){return[].concat(t.slice(0,e),[s({},t[e],{caption:n})],t.slice(e+1))},Ru=function(t,e,n){return void 0===n&&(n=[]),0===e?[s({},t)].concat(n):[].concat(n.slice(0,e),[s({},t)],n.slice(e))},Nu=Tu.bind(null,"groups","caption"),Eu=Tu.bind(null,"lists","caption"),Au=ju.bind(null,"caption"),Wu=function(t,e,n){return-1!==(yt(e)?ju(t,e,n):-1)}.bind(null,"caption"),Mu=function(t,e){var n=e.dragId,o=e.dropId,i=n.split(";"),r=Nu(t,i[0]),s=Eu(r,i[1]),a=Au(s.items,i[2]),l=s.items[a],c=o.split(";"),u=Nu(t,c[0]),p=Eu(u,c[1]),d=c[2]?Au(p.items,c[2]):0;return s.caption!==p.caption&&Wu(p.items,i[3])?function(t,e){return{isDone:!1,alertItemId:t+":"+e,alertCaption:rt.caption,alertDescr:rt.descr}}(c[1],i[2]):(s.items=Ou(s.items,i[2]),p.items=Ru(l,d,p.items),{isDone:!0})},Bu=function(t,e){var n=e.dragId,o=e.dropId,i=n.split(";"),r=i[0],s=i[1],a=Nu(t,r),l=Eu(a,s),c=o.split(";"),u=c[0],p=c[1],d=Nu(t,u),h=p?Au(d.lists,p):0;return a.caption!==d.caption&&Wu(d.lists,s)?function(t,e){return{isDone:!1,alertItemId:t+":"+e,alertCaption:st.caption,alertDescr:st.descr}}(u,s):(a.lists=Ou(a.lists,s),d.lists=Ru(l,h,d.lists),{isDone:!0})},Pu=function(t,e){var n=e.groupCaption,o=e.listCaption,i=e.caption,r=e.config,s=Nu(t,n),a=Eu(s,o),l=a.items;return Wu(l,i)?function(t,e){return{isDone:!1,message:et(t,e)}}(i,o):(l?a.items.push(r):a.items=[r],{isDone:!0})},Fu="WATCH_LIST",Vu="Watch List:",Uu=function(t,e){return{caption:t,descr:e}},Gu={watchList:wu,isWatchEdited:!1,initWatchList:function(){var t=function(t){if(!xu)return[void 0,s({},gu)];try{return[vu(hu[yu(t)])]}catch(t){return[void 0,t]}}(Fu)[0];this.watchList=t||wu,this.trigger(le,this.watchList)},getWatchEdited:function(){return this.isWatchEdited},setWatchEdited:function(t){this.isWatchEdited=t,this.trigger(je,this.isWatchEdited)},getWatchList:function(){return this.watchList},getWatchGroups:function(){return this.watchList.groups},getWatchListsByGroup:function(t){var e=Nu(this.watchList,t);return e?e.lists:[]},onAddItem:function(t){this._onEditWatch(Pu(this.watchList,t),fe)},onRemoveItem:function(t){!function(t,e){var n=e.groupCaption,o=e.listCaption,i=e.caption,r=Nu(t,n),s=Eu(r,o);s.items=Ou(s.items,i)}(this.watchList,t),this.setWatchEdited(!0),this.trigger(le,this.watchList)},_onDragDrop:function(t){t.isDone?(this.setWatchEdited(!0),this.trigger(le,this.watchList)):this.showAlertDialog(t)},onDragDropItem:function(t){this._onDragDrop(Mu(this.watchList,t))},onDragDropList:function(t){this._onDragDrop(Bu(this.watchList,t))},onDragDropGroup:function(t){var e,n,o,i,r,s,a,l;this._onDragDrop((e=this.watchList,o=(n=t).dragId,i=n.dropId,r=o.split(";")[0],s=Nu(e,r),a=i.split(";")[0],l=a?Au(e.groups,a):0,e.groups=Ou(e.groups,r),e.groups=Ru(s,l,e.groups),{isDone:!0}))},onSaveWatch:function(){if(this.isWatchEdited){var t=function(t,e){if(!xu)return s({},gu);try{hu[yu(t)]=fu(e)}catch(t){return t}}(Fu,this.watchList);t?console.log(t.message):(this.setWatchEdited(!1),this.onShowModalDialog(p,Uu(Vu,Q)),console.log(Q))}else this.onShowModalDialog(p,Uu(Vu,"Watch List has not been edited\nfrom previous save."))},_onEditWatch:function(t,e){t.isDone?(this.setWatchEdited(!0),this.trigger(le,this.watchList),this.trigger(we,{forActionType:e})):this.trigger(be,{messages:[t.message],forActionType:e})},onAddGroup:function(t){this._onEditWatch(function(t,e){var n=e.caption,o=t.groups;if(Wu(o,n))return ku(n);var i=n?{caption:n}:{caption:"Default"};return t.groups=Du(o,i),{isDone:!0}}(this.watchList,t),ve)},onRenameGroup:function(t){var e,n,o,i,r,s;this._onEditWatch((e=this.watchList,o=(n=t).captionFrom,i=n.captionTo,r=e.groups,-1===(s=Au(r,o))?_u("group",o):Wu(r,i)?ku(i):(e.groups=Lu(r,s,i),{isDone:!0})),me)},onDeleteGroup:function(t){var e,n;this._onEditWatch((e=this.watchList,n=t.caption,e.groups=Ou(e.groups,n),{isDone:!0}),ge)},onCreateList:function(t){this._onEditWatch(function(t,e){var n=e.captionGroup,o=e.captionList,i=Nu(t,n);if(!i)return _u("group",n);var r=i.lists;return Wu(r,o)?Iu(o,n):(i.lists=Du(r,{caption:o}),{isDone:!0})}(this.watchList,t),xe)},onRenameList:function(t){this._onEditWatch(function(t,e){var n=e.captionGroup,o=e.captionListFrom,i=e.captionListTo,r=Nu(t,n);if(!r)return _u("group",n);var s=r.lists,a=Au(s,o);return-1===a?_u("list",o):Wu(s,i)?Iu(i,n):(r.lists=Lu(s,a,i),{isDone:!0})}(this.watchList,t),ye)},onDeleteList:function(t){var e,n,o,i,r;this._onEditWatch((e=this.watchList,o=(n=t).captionGroup,i=n.captionList,(r=Nu(e,o))?(r.lists=Ou(r.lists,i),{isDone:!0}):_u("group",o)),Ce)},onBackupToJson:function(){var t="WatchItems_"+qr(Date.now())+".json";Cu(this.watchList,t)},onLoadFromJson:function(t){try{var e=t.progressEvent;Ui(this.watchList,JSON.parse(e.target.result)),this.setWatchEdited(!0),this.trigger(le,this.watchList)}catch(t){k.showModalDialog(u,s({},at))}}};const Hu=Gu;var zu="WITH_LIMIT_REMAINING";const qu={listenLimitRemaining:function(t){var e=this;return this.emitter.addListener(zu,t),function(){e.emitter.removeListener(zu,t)}},triggerLimitRemaining:function(t){this.emitter.emit(zu,t)}};var Ku="WITH_LOADING_PROGRESS";const Yu={listenLoadingProgress:function(t){var e=this;return this.emitter.addListener(Ku,t),function(){e.emitter.removeListener(Ku,t)}},triggerLoadingProgress:function(t){this.emitter.emit(Ku,t)},onLoadingProgress:function(){this.triggerLoadingProgress(I)},onLoadingProgressComplete:function(){this.triggerLoadingProgress(O)},onLoadingProgressFailed:function(){this.triggerLoadingProgress(D)}};var Ju="color:rgb(237, 88, 19);",Xu=c().createStore(s({listenables:[he,k,ne,Se,L],charts:{},init:function(){this.initWatchList()},createInitConfig:function(t){return{chartType:t,configs:[],isShow:!0}},getConfigs:function(t){return this.charts[t]},showAlertDialog:function(t){void 0===t&&(t={}),t.modalDialogType=u,t.alertItemId=t.alertItemId||t.repo||"",this.trigger(S,t)},isKeyTop:function(t,e){var n=e.chartType,o=this.charts[n];return oa(o,t)},onMoveToTop:function(t,e){var n=this.charts[t];oa(n,e)&&this.trigger($t,n)},onShowChart:function(t,e){var n=this.charts[t];n?(n.isShow=!0,this.trigger($t,n)):(this.charts[t]=this.createInitConfig(t),this.trigger(Xt,ao(this.getDataConf(t),e))),e!==x&&(this.setMenuItemOpen(t,e),this.trigger(ie,e))},onLoadStock:function(){},onLoadStockCompleted:function(t,e){var n=t.chartType,o=t.browserType,i=t.limitRemaining,r=ea(t,e,{chartType:n,browserType:o}),s=this.charts[n];s?(s.configs.unshift(r),s.isShow=!0,this.trigger(Qt,s)):(this.charts[n]=this.createInitConfig(n),this.charts[n].configs.unshift(r),this.trigger(Xt,ao(this.getDataConf(n),o))),this.triggerLimitRemaining(i),o!==x&&(this.addMenuItemCounter(n,o),this.trigger(ie,o))},onLoadStockFailed:function(t){var e=t.limitRemaining;this.triggerLimitRemaining(e),this.showAlertDialog(t),function(t){var e=t.alertCaption,n=t.alertDescr,o=t.alertItemId;console.log("%c"+e+":"+o,Ju),console.log("%c"+n,Ju)}(t)},onCloseChart:function(t,e,n){var o=this.charts[t];o.configs=o.configs.filter((function(t,e){return t.key!==n})),this.trigger(Zt,o),e!==x&&(this.minusMenuItemCounter(t,e),this.trigger(ie,e))},onCloseChartContainer:function(t,e){e!==x&&(this.setMenuItemClose(t,e),this.trigger(ie,e))},onCloseCompItemList:function(t,e){this.trigger(j,t)},onRemoveAll:function(t,e){var n=function(t,e){var n=t[e]||{};return n.configs=[],n}(this.charts,t);this.resetMenuItemCounter(t,e),this.trigger($t,n),this.trigger(ie,e)}},Oa,du,Hu,qu,Yu));const Qu=Xu;var $u=function(t){if((t.altKey||t.metaKey)&&t.key){var e=Pa[t.key.toUpperCase()];"function"==typeof e&&(t.stopImmediatePropagation(),e())}};const Zu=function(){(0,Te.useEffect)((function(){return Ma?(document.addEventListener(Ba,$u,!1),function(){Pa=null,document.removeEventListener(Ba,$u,!1)}):void 0}),[])};var tp={borderColor:"gray",color:"gray"};const ep=function(t){var e=t.className,n=t.style,o=t.store,i=(0,Te.useState)((function(){return o.getWatchEdited()})),r=i[0],a=i[1];Me(o,(function(t,e){t===je&&a(e)}));var l=r?n:s({},n,tp);return(0,ze.jsx)(bo,{className:e,caption:"S",title:"Save Watch Items to Locale Storage",style:l,onClick:Se.saveWatch})};const np=s({},ri,{FlatButton:za},{ButtonSave:ep});var op=function(){return{}};const ip=function(){return(0,Te.useReducer)(op)[1]};var rp=function(t,e,n,o){return{backgroundColor:t,width:n,opacity:e,transition:o}};const sp=function(t){var e,n=t.color,o=void 0===n?"#2f7ed8":n,i=t.completed,r=ip(),s=(0,Te.useRef)(!1),a=(0,Te.useRef)(null),l=(0,Te.useRef)(!1),c=(0,Te.useRef)(null);return(0,Te.useEffect)((function(){_e(s)?ke(a,setTimeout(r,800)):_e(l)&&ke(c,setTimeout(r,800))})),(0,Te.useEffect)((function(){return function(){clearTimeout(_e(a)),clearTimeout(_e(c))}}),[]),_e(l)?(e=rp(o,1,0),ke(l,!1)):_e(s)?(e=rp(o,0,"100%","opacity 400ms linear"),ke(s,!1),ke(l,!0)):(i<0?i=0:i>=100&&(i=100,ke(s,!0)),e=rp(o,1,i+"%","width 500ms linear")),(0,ze.jsx)("div",{className:"progress-line",style:e})};var ap="#2f7ed8";const lp=function(t){var e=t.store,n=(0,Te.useState)({completed:0,color:ap}),o=n[0],i=n[1],r=o.completed,s=o.color;return Me(e,(function(t,e){t===I?i({completed:35,color:ap}):t===O?i({completed:100,color:ap}):t===D&&i({completed:100,color:"#ed5813"})}),"listenLoadingProgress"),(0,ze.jsx)(sp,{height:3,color:s,completed:r})};const cp=function(t){var e=t.className,n=t.title;return(0,ze.jsx)("span",{className:e,title:n,children:(0,ze.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,ze.jsx)("title",{children:n}),(0,ze.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,ze.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,ze.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})};const up=function(t){var e=t.className,n=t.caption,o=t.title;return(0,ze.jsx)("span",{className:e,title:o,children:n})};var pp={position:"relative",top:4,display:"inline-block",color:"#2f7ed8",padding:"0 10px",fontSize:"16px",fontWeight:"bold"};const dp=function(t){var e=t.style,n=t.store,o=(0,Te.useState)(""),i=o[0],r=o[1];return Me(n,(function(t){r(null!=t?t:"")}),"listenLimitRemaining"),(0,ze.jsx)("span",{style:s({},pp,e),children:i})};var hp="Library Watch v0.12.0",fp={position:"relative",zIndex:50},vp={float:"right",marginRight:20},mp={position:"relative",top:-2,verticalAlign:"middle",margin:"0 8px"},gp={marginLeft:10},xp={float:"right",paddingTop:5},yp={browserType:g,caption:"Library",sourceMenuUrl:"./data/github/source-menu.json",rowClass:"menu-item"};const Cp=function(t){var e=t.store,n=(0,Te.useMemo)((function(){return[function(){he.showBrowserDynamic(yp)},function(){he.showBrowser(x)}]}),[]),o=n[0],i=n[1];return(0,ze.jsxs)("div",{className:"header",style:fp,children:[(0,ze.jsx)(lp,{store:e}),(0,ze.jsx)(cp,{className:"header__icon-app",title:hp}),(0,ze.jsx)(up,{className:"header__app-label",caption:hp}),(0,ze.jsx)(np.FlatButton,{className:"header__bt-library",caption:"Library",title:"Library Browser",hotKey:"L",timeout:0,onClick:o}),(0,ze.jsx)(np.FlatButton,{caption:"Watch",title:"Watch Browser",hotKey:"W",timeout:0,onClick:i}),(0,ze.jsx)(np.ButtonSave,{store:e,style:gp}),(0,ze.jsx)(np.FlatButton,{className:"header__bt-about",style:vp,title:"About webapp Library Watch",hotKey:"A",timeout:0,onClick:k.showAbout,children:(0,ze.jsx)(np.SvgInfo,{style:mp})}),(0,ze.jsx)(dp,{store:e,style:xp})]})};var wp={display:"inline-block",color:"#80c040",width:22,height:22,border:"2px solid #80c040",borderRadius:"50%",textAlign:"center"};const bp=function(t){var e=t.step;return(0,ze.jsx)("span",{style:wp,children:e})};const jp=function(t){var e=t.isFirstBlank,n=t.color,o=t.children;return(0,ze.jsxs)("span",{style:{color:n,fontWeight:"bold"},children:[e?" ":null,o]})};var Sp={display:"inline-block",padding:"0 8px"};const Tp=function(t){var e=t.color,n=t.href,o=t.title,i=t.caption,r=t.children;return(0,ze.jsx)("span",{style:Sp,children:(0,ze.jsx)(qo,{className:"source-link",style:{color:e},href:n,title:o,children:i||r})})};const _p=function(t){var e=t.className,n=t.href,o=t.title;return(0,ze.jsx)(qo,{className:e,href:n,title:o,children:(0,ze.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.414",children:(0,ze.jsx)("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.4371.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})})})};const kp=function(){return(0,ze.jsx)(qo,{className:"icon__react",href:"https://github.com/facebook/react",title:"React",children:(0,ze.jsxs)("svg",{viewBox:"0 0 600 600",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",children:[(0,ze.jsx)("circle",{cx:"299.529",cy:"299.628",r:"50.167"}),(0,ze.jsx)("path",{fill:"none",d:"M299.529,197.628\r c67.356,0,129.928,9.665,177.107,25.907c56.844,19.569,91.794,49.233,91.794,76.093c0,27.991-37.041,59.503-98.083,79.728\r c-46.151,15.291-106.879,23.272-170.818,23.272c-65.554,0-127.63-7.492-174.29-23.441c-59.046-20.182-94.611-52.103-94.611-79.559\r c0-26.642,33.37-56.076,89.415-75.616C167.398,207.503,231.515,197.628,299.529,197.628z"}),(0,ze.jsx)("path",{fill:"none",d:"M210.736,248.922\r c33.649-58.348,73.281-107.724,110.92-140.48c45.35-39.466,88.507-54.923,111.775-41.505\r c24.248,13.983,33.042,61.814,20.067,124.796c-9.81,47.618-33.234,104.212-65.176,159.601\r c-32.749,56.788-70.25,106.819-107.377,139.272c-46.981,41.068-92.4,55.929-116.185,42.213\r c-23.079-13.31-31.906-56.921-20.834-115.233C153.281,368.316,176.758,307.841,210.736,248.922z"}),(0,ze.jsx)("path",{fill:"none",d:"M210.821,351.482\r c-33.746-58.292-56.731-117.287-66.312-166.255c-11.544-58.999-3.382-104.109,19.864-117.566\r c24.224-14.024,70.055,2.244,118.14,44.94c36.356,32.28,73.688,80.837,105.723,136.173c32.844,56.733,57.461,114.209,67.036,162.582\r c12.117,61.213,2.309,107.984-21.453,121.74c-23.057,13.348-65.249-0.784-110.239-39.499\r C285.567,460.886,244.898,410.344,210.821,351.482z"})]})})};var Ip={paddingTop:20,textAlign:"center"};const Op=function(){return(0,ze.jsxs)("div",{style:Ip,children:[(0,ze.jsx)(_p,{className:"icon__github",title:"GitHub Library Watch",href:"https://github.com/ZhnZhn/library-watch.git"}),(0,ze.jsx)(kp,{})]})};var Dp={display:"block"},Lp={display:"none"},Rp={overflowY:"auto",height:"92%",paddingRight:10},Np={color:"grey",padding:"0 5px 0 16px",lineHeight:1.4,fontWeight:"bold"},Ep={marginBottom:"1em"},Ap={marginTop:3};const Wp=function(t){var e=t.store,n=la(!0),o=n[0],i=n[1],r=n[2];Me(e,(function(t,e){t===C?i():t!==Xt&&t!==$t||r()}));var a=o?[Dp,"show-popup"]:[Lp],l=a[0],c=a[1];return(0,ze.jsxs)("div",{className:c,style:s({},xo,l),children:[(0,ze.jsx)(Wo,{caption:"About",onClose:r}),(0,ze.jsx)(Jn,{style:Rp,children:(0,ze.jsxs)("div",{style:Np,children:[(0,ze.jsxs)("p",{children:[(0,ze.jsx)(jp,{color:"#80c040",children:"Library Watch"}),(0,ze.jsx)(jp,{color:"grey",isFirstBlank:!0,children:"is a SPA RESTful client."})]}),(0,ze.jsx)("p",{style:Ep,children:"By means of web app Library-Watch, it is possible to view information about GitHub's repositories, NPM's packages, StackOverflows's questions."}),(0,ze.jsxs)("p",{style:Ep,children:[(0,ze.jsx)(jp,{color:"grey",children:"Information API providers:"}),(0,ze.jsx)(Tp,{href:"https://www.github.com/",color:"#009ae5",title:"GitHub",caption:"GitHub"}),(0,ze.jsx)(Tp,{href:"https://www.npmjs.com/",color:"#273547",title:"NPM",caption:"NPM"}),(0,ze.jsx)(Tp,{href:"https://api-docs.npms.io/",color:"#273547",title:"NPMS.IO",caption:"NPMS.IO"}),(0,ze.jsx)(Tp,{href:"https://bundlephobia.com/",color:"#273547",title:"Bundlephobia.com",caption:"Bundlephobia.com"}),(0,ze.jsx)(Tp,{href:"https://stackexchange.com/",color:"#3186C9",title:"StackExchange",caption:"StackExchange"}),(0,ze.jsx)(Tp,{href:"https://gs.statcounter.com/",color:"#009ae5",title:"StatCounter",caption:"StatCounter"})]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)(bp,{step:"1"}),(0,ze.jsx)(jp,{color:"black",isFirstBlank:!0,children:"Please, choose an information Browser from the header bar."})]}),(0,ze.jsxs)("p",{style:Ap,children:[(0,ze.jsx)(bp,{step:"2"}),(0,ze.jsx)(jp,{color:"black",isFirstBlank:!0,children:"Next, choose an information menu item in a Browser."})]}),(0,ze.jsxs)("p",{style:Ap,children:[(0,ze.jsx)(bp,{step:"3"}),(0,ze.jsx)(jp,{color:"black",isFirstBlank:!0,children:"Enter repository or package name in a draggable Dialog."})]}),(0,ze.jsxs)("p",{style:Ap,children:[(0,ze.jsx)(bp,{step:"4"}),(0,ze.jsx)(jp,{color:"black",isFirstBlank:!0,children:"Click a button Load."})]}),(0,ze.jsx)("p",{style:Ap,children:(0,ze.jsx)(jp,{color:"grey",children:"The result will be shown in an Item component in a Container."})}),(0,ze.jsx)("p",{style:s({},Ep,Ap),children:(0,ze.jsx)(jp,{color:"grey",children:"Also, it possible to add an item to Watch Browser and save to LocalStorage."})}),(0,ze.jsx)("p",{style:Ep,children:"After clicking a button Show in a Dialog opens Container with Items or empty. After closing a Container all Items remains. In one-time max three Item Dialogs can be opened."}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)(jp,{color:"grey",children:"In that case of using"}),(0,ze.jsx)(Tp,{href:"https://developer.github.com/v3/#rate-limiting",color:"#009ae5",isFirstBlank:!0,title:"GitHub API v3 Rate Limiting",children:"GitHub"}),(0,ze.jsxs)(jp,{color:"grey",isFirstBlank:!0,children:["API provider, exists some restriction on frequency and amount queries (",(0,ze.jsx)(jp,{color:"#2f7ed8",children:"60 calls per hour, 10 requests per minute for Search API"}),(0,ze.jsx)(jp,{color:"grey",children:")."})]})]}),(0,ze.jsx)(Op,{})]})})]})};var Mp=function(){return k.showModalDialog(f)},Bp=function(){return k.showModalDialog(v)},Pp=function(){return he.toggleWatchDbBrowser()},Fp=function(t){return k.showModalDialog(h,t)},Vp=k.showModalDialog.bind(null,m,{onLoad:Se.loadFromJson}),Up=function(t,e){e.stopPropagation(),Se.removeItem(t)},Gp=Se.backupToJson,Hp=np.ButtonCircle,zp="bt__watch__bar",qp={marginBottom:10},Kp={marginLeft:20};const Yp=function(t){return t.is?(0,ze.jsxs)("div",{style:qp,children:[(0,ze.jsx)(Hp,{caption:"GROUP",title:"Edit Group",className:zp,isWithoutDefault:!0,onClick:Mp}),(0,ze.jsx)(Hp,{caption:"LIST",title:"Edit Group List",className:zp,isWithoutDefault:!0,style:Kp,onClick:Bp}),(0,ze.jsx)(Hp,{caption:"DB",title:"Double Watch Browser",className:zp,isWithoutDefault:!0,style:Kp,onClick:Pp})]}):null};function Jp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}const Qp={fromLevel3:function(t){for(var e,n=[],o=Jp(t.groups||[]);!(e=o()).done;)for(var i,r=e.value,s=Jp(r.lists||[]);!(i=s()).done;)for(var a,l=i.value,c=Jp(l.items||[]);!(a=c()).done;){var u=a.value;u.topic=r.caption+"/"+l.caption,n.push(u)}return n}};function $p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Zp="option-row__active",td={position:"relative",display:"inline-block",width:"100%",backgroundColor:"#e1e1cb"},ed={color:"green",width:"100%",height:30,paddingLeft:10,paddingRight:40,background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none",fontSize:"16px",fontWeight:"bold"},nd={zIndex:"10",position:"absolute",left:0,color:"green",width:"100%",backgroundColor:"#e1e1cb",borderBottomLeftRadius:5,borderBottomRightRadius:5},od={width:"100%",minHeight:160,maxHeight:200,overflow:"auto"},id={margin:"0 40px 5px 10px",borderWidth:"medium medium 1px",borderStyle:"none none solid",borderColor:"#1b75bb",borderImage:"none"},rd={borderColor:"#1b75bb transparent transparent"},sd={padding:"4px 0 4px 5px",cursor:"pointer"},ad={backgroundColor:"#c3c3ac"},ld={backgroundColor:"#d5d5bc"},cd={backgroundColor:"silver",borderBottomLeftRadius:5,borderBottomRightRadius:5},ud={display:"inline-block",color:"gray",padding:"4px 0 4px 10px",fontWeight:"bold"},pd={display:"block"},dd={display:"none"},hd=function(t){t&&t.classList.add(Zp)},fd=function(t){t&&t.classList.remove(Zp)},vd=function(t){function e(e){var n;(n=t.call(this,e)||this)._setStateToInit=function(t){n.indexActiveOption=0,n.setState({isShowOption:!1,isValidDomOptionsCache:!1,value:"",options:t})},n._getDomForActiveOption=function(){return n.refs["v"+n.indexActiveOption]},n._undecorateActiveOption=function(){fd(n._getDomForActiveOption())},n._makeVisibleOfDomActiveOption=function(t){if(t){var e=t.offsetTop,o=n.domOptions.scrollTop;e-o>70&&(n.domOptions.scrollTop+=e-o-70),e-o<0&&(n.domOptions.scrollTop=0)}},n._filterOptionsToState=function(t,e){var o=e.toLowerCase(),i=n.propCaption;return t.filter((function(t){return-1!==t[i].toLowerCase().indexOf(o)}))},n._hInputChange=function(t){var e=t.target.value,o=e.length,i=n.state.value.length;if(o!==i){var r,s=o>i?n.state.options:o<i?n.props.options:void 0,a=s?n._filterOptionsToState(s,e):[];if(0===a.length)a.push(((r={})[n.propCaption]="No results found",r.value="noresult",r));n._undecorateActiveOption(),n.indexActiveOption=0,n.setState({isShowOption:!0,isValidDomOptionsCache:!1,value:e,options:a})}},n._startAfterInputAnimation=function(){n.state.options.length>800&&n.arrowCell.startAnimation()},n._stopAfterInputAnimation=function(){n.arrowCell.stopAnimation()},n._hInputKeyDown=function(t){switch(t.keyCode){case 13:var e=n.state.options[n.indexActiveOption];e&&e[n.propCaption]&&(n.setState({value:e[n.propCaption],isShowOption:!1,isValidDomOptionsCache:!0}),"noresult"!==e.value?n.props.onSelect(e):n.props.onSelect(null));break;case 27:n.state.isShowOption?n.setState({isShowOption:!1}):(n._undecorateActiveOption(),n._setStateToInit(n.props.options),n.props.onSelect(null));break;case 40:if(n.state.isShowOption){t.preventDefault();var o=n._getDomForActiveOption();if(o){fd(o),n.indexActiveOption+=1,n.indexActiveOption>=n.state.options.length&&(n.indexActiveOption=0,n.domOptions.scrollTop=0),o=n._getDomForActiveOption(),hd(o);var i=n._getDomForActiveOption().offsetTop,r=n.domOptions.scrollTop;i-r>70&&(n.domOptions.scrollTop+=i-r-70)}}else n._startAfterInputAnimation(),setTimeout((function(){n.setState({isShowOption:!0},n._stopAfterInputAnimation)}),0);break;case 38:if(n.state.isShowOption){t.preventDefault();var s=n._getDomForActiveOption();if(s){fd(s),n.indexActiveOption-=1,n.indexActiveOption<0&&(n.indexActiveOption=n.state.options.length-1,n.domOptions.scrollTop=n._getDomForActiveOption().offsetTop),s=n._getDomForActiveOption(),hd(s);var a=s.offsetTop,l=n.domOptions.scrollTop;a-l<70&&(n.domOptions.scrollTop-=70-(a-l))}}break;default:return}},n._hToggleOptions=function(){n.state.isShowOption?n.setState({isShowOption:!1}):(n._startAfterInputAnimation(),setTimeout((function(){return n.setState({isShowOption:!0},n._stopAfterInputAnimation)}),1))},n._hClickOption=function(t,e,o){n.indexActiveOption=e,n.setState({value:t[n.propCaption],isShowOption:!1}),n.props.onSelect(t)},n._refDomOptions=function(t){return n.domOptions=t},n._refArrowCell=function(t){return n.arrowCell=t},n._renderOptions=function(){var t,e=n.props.ItemOptionComp,o=n.state,i=o.isShowOption,r=o.options,a=o.isValidDomOptionsCache;if(r)if(a)t=n.domOptionsCache;else{var l=n.propCaption;t=r.map((function(t,o){var i=o%2==0?ad:ld;return(0,ze.jsx)("div",{role:"option",tabIndex:"0","aria-selected":n.indexActiveOption===o,ref:"v"+o,className:"option-row",style:s({},sd,i),onClick:n._hClickOption.bind($p(n),t,o),children:(0,ze.jsx)(e,{item:t,propCaption:l})},o)})),n.domOptionsCache=t}var c=i?pd:dd,u=r[0],p=u&&"noresult"!==u.value?r.length:0,d=n.props.options?n.props.options.length:0;return(0,ze.jsxs)("div",{style:s({},nd,c),children:[(0,ze.jsx)("div",{ref:n._refDomOptions,style:s({},od,c),children:t},"1"),(0,ze.jsx)("div",{style:cd,children:(0,ze.jsxs)("span",{style:ud,children:["Filtered ",p," : ",d]})},"2")]})},n.domOptionsCache=null,n.indexActiveOption=0;var o=n.props,i=o.options,r=o.propCaption;return n.propCaption=r,n.state={isShowOption:!1,isValidDomOptionsCache:!1,value:"",options:i},n}Dl(e,t);var n=e.prototype;return n.componentDidUpdate=function(){if(this.state.isShowOption){var t=this._getDomForActiveOption();hd(t),this._makeVisibleOfDomActiveOption(t)}},n.render=function(){var t=this.state,e=t.isShowOption,n=t.value,o=e?[rd,this._renderOptions()]:[null,null],i=o[0],r=o[1],s=this.props.placeholder;return(0,ze.jsxs)("div",{style:td,children:[(0,ze.jsx)("input",{type:"text",style:ed,value:n,placeholder:s,onChange:this._hInputChange,onKeyDown:this._hInputKeyDown}),(0,ze.jsx)(El,{ref:this._refArrowCell,styleArrow:i,onClick:this._hToggleOptions}),(0,ze.jsx)("hr",{style:id}),r]})},e}(Te.Component);vd.defaultProps={options:[],propCaption:"caption"};const md=vd;var gd={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},xd={};const yd=function(t){var e=t.item,n=void 0===e?xd:e,o=t.propCaption;return(0,ze.jsx)("div",{style:gd,children:n[o]})};var Cd={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(164, 135, 212)"};const wd=function(t){var e=t.item;return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(yd,s({},t)),(0,ze.jsx)("div",{style:Cd,children:e.topic})]})};var bd=function(){},jd=(0,Te.memo)((function(t){var e=t.style,n=t.data,o=t.onSelect,i=void 0===o?bd:o,r=(0,Te.useCallback)((function(t){t&&i(t)}),[i]),s=Qp.fromLevel3(n);return(0,ze.jsx)("div",{style:e,children:(0,ze.jsx)(md,{placeholder:"Find Item",propCaption:"caption",options:s,ItemOptionComp:wd,onSelect:r})})}),(function(t,e){return!e.isShouldUpdate}));const Sd=jd;var Td=np.ShowHide,_d={width:"100%",padding:"0 24px 8px 0"};const kd=function(t){var e=t.isShow,n=t.isShouldUpdate,o=t.data;return o?(0,ze.jsx)(Td,{isShow:e,children:(0,ze.jsx)(Sd,{style:_d,data:o,isShouldUpdate:n,onSelect:Fp})}):null};const Id=function(t){return JSON.parse(t.dataTransfer.getData("text"))};const Od={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"};var Dd,Ld,Rd,Nd,Ed="border-bottom",Ad="border-left",Wd=function(t){return t.currentTarget.style},Md=function(t,e){return function(t){return"4px solid "+t}(function(t){return-1!==Dd.indexOf(t)}(t)?e||"green":"red")},Bd=function(t){var e=Ld.style;Wd(t).removeProperty(Ad),e.removeProperty("border"),e.setProperty(Ed,Rd)},Pd=Object.assign;const Fd=function(t){var e=t.event,n=t.dragId,o=t.xType;Pd(e.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:n,xType:o}))};var Vd=function(t,e){return function(n,o){!function(t,e){Ld=t.currentTarget,Dd=e,Rd=Wd(t).getPropertyValue(Ed)}(o,t),Fd({event:o,dragId:e(n),xType:t[0]})}},Ud=function(t,e){return function(n){n.preventDefault(),function(t,e,n){var o=Wd(t);Nd=o.getPropertyValue(Ad),o.setProperty(Ad,Md(e,n))}(n,t,e)}},Gd=function(t){t.preventDefault()},Hd=function(t){var e;t.preventDefault(),(e=Wd(t)).removeProperty(Ad),e.setProperty(Ad,Nd)},zd=function(t){return t.caption+";"},qd=Vd([Od.GROUP],zd),Kd=function(t,e){Bd(e);var n=Id(e),o=n.xType,i=n.dragId,r=zd(t);if(o===Od.GROUP){if(i===r)return;e.preventDefault(),Se.dragDropGroup({dragId:i,dropId:r})}else o===Od.LIST&&(e.preventDefault(),Se.dragDropList({dragId:i,dropId:r}))},Yd=Ud(Od.GROUP,Od.C_GROUP_ENTER),Jd=Gd,Xd=Hd,Qd=function(t){return t.groupCaption+";"+t.caption+";"},$d=Vd([Od.LIST,Od.GROUP],Qd),Zd=function(t,e){Bd(e);var n=Id(e),o=n.xType,i=n.dragId,r=Qd(t);if(o===Od.LIST){if(i===r)return;e.preventDefault(),Se.dragDropList({dragId:i,dropId:r})}else o===Od.ITEM&&(e.preventDefault(),Se.dragDropItem({dragId:i,dropId:r}))},th=Ud(Od.LIST,Od.C_LIST_ENTER),eh=Gd,nh=Hd,oh=function(t){return t.groupCaption+";"+t.listCaption+";"+t.caption},ih=Vd([Od.ITEM,Od.LIST],oh),rh=function(t,e){Bd(e);var n=Id(e),o=n.xType,i=n.dragId,r=oh(t);if(o===Od.ITEM){if(i===r)return;e.preventDefault(),Se.dragDropItem({dragId:i,dropId:r})}},sh=Ud(Od.ITEM,Od.C_LIST_ENTER),ah=Gd,lh=Hd,ch={ITEM_DIV:{position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5,lineHeight:1.4},ITEM_SPAN:{display:"inline-block",verticalAlign:"middle",width:"100%",maxWidth:250,textOverflow:"ellipsis",overflow:"hidden"},SVG_CLOSE:{position:"absolute",right:0},DATE_SPAN:{float:"right"}},uh=function(t){var e=t.version,n=t.date,o=void 0===n?"":n;if(e)return(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{children:e}),(0,ze.jsx)("span",{style:ch.DATE_SPAN,children:o.split(" ")[0]})]})};const ph=function(t){var e=t.item,n=t.className,o=t.isModeEdit,i=t.option,r=t.onClick,a=t.onClose,l=t.onDragStart,c=t.onDragEnter,u=t.onDragOver,p=t.onDragLeave,d=t.onDrop,h=e.repo,f=e.version,v=e.date,m=o?(0,ze.jsx)(Dn,{style:ch.SVG_CLOSE,onClose:a.bind(null,i)}):null,g=f?(0,ze.jsx)(uh,{version:f,date:v}):null,x=o?{onDragStart:l.bind(null,i),onDrop:d.bind(null,i),onDragOver:u,onDragEnter:c,onDragLeave:p}:void 0;return(0,ze.jsxs)("div",s({className:n,style:ch.ITEM_DIV,onClick:r.bind(null,e),draggable:o},x,{children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("span",{style:ch.ITEM_SPAN,children:h}),m]}),g]}))};var dh=Array.isArray;const hh=function(t){var e=t.isModeEdit,n=t.items,o=t.groupCaption,i=t.listCaption;return dh(n)?n.map((function(t,n){var r=t.caption;return(0,ze.jsx)(ph,{className:"row__topic not-selected",isModeEdit:e,item:t,option:{groupCaption:o,listCaption:i,caption:r},onClick:Fp,onClose:Up,onDragStart:ih,onDragOver:ah,onDragEnter:sh,onDragLeave:lh,onDrop:rh},r)})):null};var fh=np.OpenClose2,vh={marginLeft:8,paddingLeft:12,lineHeight:2,borderLeft:"1px solid yellow"},mh={marginRight:10,borderBottom:"1px solid rgba(128, 192, 64, 0.6)"},gh=Array.isArray;const xh=function(t){var e=t.isModeEdit,n=t.groupCaption,o=t.lists;return gh(o)?o.map((function(t){var o=t.caption,i=t.items;return(0,ze.jsx)(fh,{fillOpen:"#80c040",style:vh,styleNotSelected:mh,caption:o,isClose:!0,isDraggable:e,option:{groupCaption:n,caption:o},onDragStart:$d,onDragEnter:th,onDragOver:eh,onDragLeave:nh,onDrop:Zd,children:(0,ze.jsx)(hh,{isModeEdit:e,items:i,groupCaption:n,listCaption:o})},o)})):null};var yh=np.OpenClose2,Ch=Array.isArray,wh={lineHeight:2};const bh=function(t){var e=t.isModeEdit,n=t.groups;return Ch(n)?n.map((function(t){var n=t.caption,o=t.lists;return(0,ze.jsx)(yh,{style:wh,caption:n,isClose:!0,isDraggable:e,option:{caption:n},onDragStart:qd,onDragEnter:Yd,onDragOver:Jd,onDragLeave:Xd,onDrop:Kd,children:(0,ze.jsx)(xh,{isModeEdit:e,groupCaption:n,lists:o})},n)})):null};var jh=np.Browser,Sh=np.CaptionRow,Th=np.ButtonCircle,_h=np.ButtonSave,kh=np.ScrollPane,Ih="browser-watch",Oh="bt__watch__caption",Dh={maxWidth:500,paddingRight:0},Lh={minWidth:340},Rh={minWidth:310};const Nh=function(t){var e=t.isShow,n=t.isEditMode,o=t.isDoubleWatch,i=t.caption,r=t.store,a=t.browserType,l=t.showAction,c=t.updateAction,u=(0,Te.useRef)(!1),p=la(e),d=p[0],h=p[1],f=p[2],v=Ee(n),m=v[0],g=v[1],x=Ee(),y=x[0],C=x[1],w=x[2],b=(0,Te.useState)(r.getWatchList),j=b[0],S=b[1],T=(0,Te.useMemo)((function(){return[function(){o?Pp():f()},function(){o||h()}]}),[o]),_=T[0],k=T[1];Me(r,(function(t,e){t===l&&e===a?k():t===c&&(ke(u,!0),S(s({},e)),w(!1))}));var I=(j||{}).groups,O=o?Rh:Lh,D=m?["V","Toggle to View Mode"]:["E","Toggle to Edit Mode"],L=D[0],R=D[1],N=!(!y||!_e(u))&&function(){return ke(u,!1),!0},E=function(t,e){return t&&e?"browser-watch--2r":t||e?"browser-watch--1r":Ih}(y,m);return(0,ze.jsxs)(jh,{isShow:d,style:Dh,children:[(0,ze.jsxs)(Sh,{style:O,caption:i,onClose:_,children:[(0,ze.jsx)(_h,{className:Oh,store:r}),(0,ze.jsx)(Th,{isWithoutDefault:!0,className:Oh,caption:L,title:R,onClick:g}),(0,ze.jsx)(Th,{isWithoutDefault:!0,className:Oh,caption:"F",title:"Show/Hide : Find Item Input",onClick:C}),!o&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)(Th,{isWithoutDefault:!0,className:Oh,caption:"B",title:"BackUp Watch Items to JSON File",onClick:Gp}),(0,ze.jsx)(Th,{isWithoutDefault:!0,className:Oh,caption:"L",title:"Load Watch Items from JSON File",onClick:Vp})]})]}),(0,ze.jsx)(Yp,{is:m}),(0,ze.jsx)(kd,{isShow:y,isShouldUpdate:N,data:j}),(0,ze.jsx)(kh,{className:E,children:(0,ze.jsx)(bh,{isModeEdit:m,groups:I})})]})};var Eh={zIndex:30,position:"absolute",top:70,left:10,width:"99%"},Ah=function(t,e){var n,o;for(o=0;o<t.length;o++)if(t[o].key===e){n=o;break}return[].concat(t.slice(0,n),t.slice(n+1),[t[n]])},Wh=function(t,e,n,o){return e.push(o),e.length>t?(n[e[0]]=!1,e.slice(1)):e},Mh={dialog:{},compDialogs:[],openDialogs:[]};const Bh=function(t){var e=t.store,n=t.initAction,o=t.showAction,i=t.maxDialog,r=(0,Te.useState)(Mh),a=r[0],l=r[1],c=a.dialog,u=a.compDialogs;return Me(e,(function(t,e){t===o?l((function(t){var n,o=t.dialog,r=t.compDialogs,s=t.openDialogs;return o[e]||(o[e]=!0,n=Wh(i,s,o,e)),{dialog:o,compDialogs:Ah(r,e),openDialogs:n||s}})):t===n&&l((function(t){var n=e.dialogType,o=e.dialogComp,r=t.dialog,s=t.compDialogs,a=t.openDialogs;return r[n]=!0,s.push(o),{dialog:r,compDialogs:s,openDialogs:Wh(i,a,r,n)}}))})),(0,ze.jsx)("div",{style:Eh,children:u.map((function(t){var e=t.key;return(0,Te.cloneElement)(t,{key:e,isShow:c[e],onClose:function(){return t=e,void l((function(e){var n=e.dialog,o=e.openDialogs;return n[t]=!n[t],s({},e,{dialog:n,openDialogs:n[t]?o:o.filter((function(e){return e!==t}))})}));var t}})}))})};const Ph=function(t){var e=t.store,n=t.showBrowserAction,o=t.updateWatchAction,i=t.initDialogAction,r=t.showDialogAction,s=t.initBrowserAction,a=t.toggleWatchDbBrowserAction,l=Ee(!1),c=l[0],u=l[1],p=(0,Te.useState)([]),d=p[0],h=p[1];Me(e,(function(t,e){t===s?h((function(t){return[e].concat(t)})):t===a&&u()}));var f=c?(0,ze.jsx)(Nh,{isShow:!0,isEditMode:!0,isDoubleWatch:!0,browserType:x,caption:"Watch 2",store:e,showAction:n,updateAction:o}):null;return(0,ze.jsxs)("div",{className:"hrz-container",children:[(0,ze.jsx)(Nh,{browserType:x,caption:"Watch",store:e,showAction:n,updateAction:o}),f,d.map((function(t){return(0,Te.cloneElement)(t)})),(0,ze.jsx)(Bh,{maxDialog:3,store:e,initAction:i,showAction:r})]})};const Fh=function(t){var e=t.store,n=t.initShowAction,o=(0,Te.useState)([]),i=o[0],r=o[1];return Me(e,(function(t,e){t===n&&e&&r((function(t){return[e].concat(t)}))})),(0,ze.jsx)("div",{className:"hrz-container",children:i})};var Vh={display:"block"},Uh={display:"none"};const Gh=function(t){var e=t.isShow,n=t.onClose,o=t.children,i=e?["modal-root show-modal",Vh]:["modal-root",Uh],r=i[0],s=i[1];return(0,ze.jsx)("div",{role:"presentation",className:r,style:s,onClick:n,children:o})};var Hh={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null};const zh=function(t){var e=t.store,n=t.showAction,o=t.routerDialog,i=(0,Te.useState)(Hh),r=i[0],a=i[1],l=r.isShow,c=r.shows,u=r.data,p=r.dialogs,d=r.currentDialog,h=function(t){a((function(e){return e.shows[t]=!1,s({},e,{isShow:!1,currentDialog:null})}))};return Me(e,(function(t,e){if(t===n){var i=e.modalDialogType;a((function(t){var n=t.inits,r=t.shows,a=t.data,l=t.dialogs;return a[i]=e,r[i]=!0,n[i]||(l.push({type:i,comp:o[i]}),n[i]=!0),s({},t,{isShow:!0,currentDialog:i})}))}})),(0,ze.jsx)(Gh,{isShow:l,onClose:function(){return h(d)},children:p.map((function(t){var n=t.type,o=t.comp;return(0,Te.createElement)(o,{key:n,isShow:c[n],data:u[n],store:e,onClose:function(){return h(n)}})}))})};var qh={color:"silver",backgroundColor:"#232f3b",padding:5,textAlign:"center",fontSize:18},Kh={position:"absolute",top:6,right:0};const Yh=function(t){var e=t.caption,n=t.onClose;return(0,ze.jsxs)("div",{style:qh,children:[(0,ze.jsx)("span",{className:"not-selected",children:e}),(0,ze.jsx)(Dn,{style:Kh,onClose:n})]})};var Jh={opacity:0,transform:"scaleY(0)"},Xh=s({},Dc,{position:"absolute",top:"20%",left:"40%",display:"block",zIndex:10});const Qh=function(t){var e,n,o=t.isShow,i=t.isWithButton,r=void 0===i||i,a=t.timeout,l=void 0===a?450:a,c=t.style,u=t.caption,p=t.commandButtons,d=t.onClose,h=t.children,f=ip(),v=lc(d),m=(0,Te.useRef)(),g=(0,Te.useCallback)((function(t){t.stopPropagation()}),[]);if((0,Te.useEffect)((function(){_e(m)&&setTimeout(f,l)})),_e(m))n=Oc,ke(m,!1);else{var x=o?[kc,Ic]:["hide-popup",Jh];e=x[0],n=x[1],o||ke(m,!0)}return(0,ze.jsxs)("div",{role:"dialog",tabIndex:"-1","aria-label":u,"aria-hidden":!o,className:e,style:s({},Xh,c,n),onClick:g,onKeyDown:v,children:[(0,ze.jsx)(Yh,{caption:u,onClose:d}),(0,ze.jsx)("div",{children:h}),r&&(0,ze.jsxs)("div",{style:Rc,children:[p,(0,ze.jsx)(za,{caption:"Close",title:"Click to close modal dialog",timeout:0,onClick:d},"close")]})]})};var $h={color:"#f44336",display:"inline-block",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},Zh={color:"#a487d4",fontWeight:"bold"},tf={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre-line",fontWeight:"bold"},ef=function(){},nf=Ja((function(t){var e,n=t.isShow,o=t.data,i=t.onClose,r=void 0===i?ef:i,s=o||{},a=s.alertCaption,l=s.alertItemId,c=s.alertDescr,u=s.caption,p=s.itemId,d=s.descr,h=a||u||"",f=(e=l||p)?e.substring(0,20)+"...":"",v=c||d||"";return(0,ze.jsxs)(Qh,{caption:"Alert",isShow:n,onClose:r,children:[(0,ze.jsx)(Fc.Row,{children:(0,ze.jsxs)("span",{style:$h,children:[(0,ze.jsx)("span",{children:h}),(0,ze.jsx)("span",{children:":"}),(0,ze.jsx)("span",{style:Zh,title:f,children:f})]})}),(0,ze.jsx)(Fc.Row,{children:(0,ze.jsx)("p",{style:tf,children:v})})]})}));const of=nf;var rf={color:"#a487d4",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},sf={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre",fontWeight:"bold"};const af=Ja((function(t){var e=t.isShow,n=t.data,o=t.onClose,i=n.caption,r=n.descr;return(0,ze.jsxs)(Qh,{caption:"Information",isShow:e,onClose:o,children:[(0,ze.jsx)(Fc.Row,{children:(0,ze.jsx)("p",{style:rf,children:i})}),(0,ze.jsx)(Fc.Row,{children:(0,ze.jsx)("p",{style:sf,children:r})})]})}));var lf="Choose a file...",cf=function(){};const uf=function(t){var e=t.as,n=void 0===e?"text":e,o=t.onChange,i=void 0===o?cf:o,r=(0,Te.useState)(lf),s=r[0],a=r[1],l=(0,Te.useCallback)((function(t){for(var e=[],o=0;o<t.target.files.length;o++)e.push(t.target.files[o]);Promise.all(e.map((function(t){return new Promise((function(e,o){var i=new FileReader;switch(i.onload=function(n){e([n,t])},n.toLowerCase()){case"binary":i.readAsBinaryString(t);break;case"buffer":i.readAsArrayBuffer(t);break;case"text":default:i.readAsText(t);break;case"url":i.readAsDataURL(t)}}))}))).then((function(t){var e=t&&t[0]?(t[0][1]||{}).name:lf;a(e),i(t)}))}),[]);return(0,ze.jsxs)("div",{className:"_react-file-reader-input",children:[(0,ze.jsx)("input",{className:"inputfile",type:"file",id:"file",name:"file",as:n,onChange:l}),(0,ze.jsxs)("label",{htmlFor:"file",children:[(0,ze.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",children:(0,ze.jsx)("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})}),(0,ze.jsx)("span",{children:s})]})]})};var pf={minWidth:320},df={margin:"16px 0"},hf={width:"100%",marginRight:16},ff=Ja((function(t){var e=t.isShow,n=t.data,o=t.onClose,i=n.onLoad,r=(0,Te.useRef)(null),s=(0,Te.useCallback)((function(t){var e=(t||[])[0],n=e?[e[0],e[1]]:null;ke(r,n)}),[]),a=Ka((function(t,e){var n=_e(r)||[],o=n[0],s=n[1];o&&s?(i({progressEvent:o}),e()):t(["Please choose file for loading."])}),o),l=a[0],c=a[1],u=a[2];return(0,ze.jsxs)(Qh,{style:pf,caption:"Load Watch Items from File",isShow:e,commandButtons:c,onClose:u,children:[(0,ze.jsx)(Fc.Row,{style:df,children:(0,ze.jsx)(uf,{as:"text",onChange:s})}),(0,ze.jsx)(Fc.Row,{style:hf,children:(0,ze.jsx)(Fc.ValidationMessages,{validationMessages:l})})]})}));const vf=ff;const mf=function(t){var e=(0,Te.useRef)(),n=e.current;return e.current=t,n};const gf=function(t){var e=(0,Te.useRef)(t);return(0,Te.useMemo)((function(){return[function(t){e.current=t},function(){return e.current}]}),[])};const xf=function(){var t=(0,Te.useRef)(null),e=(0,Te.useCallback)((function(e){t.current=e&&e.caption||null}),[]);return[t,e]};const yf=function(t){var e=t.style,n=t.caption,o=t.isCaption,i=void 0===o||o,r=t.textStyle,s=t.text;return(0,ze.jsxs)(Fc.Row,{style:e,children:[(0,ze.jsx)(Fc.Caption,{is:i,caption:n}),(0,ze.jsx)("span",{style:r,children:s})]})};var Cf={fontWeight:"bold"},wf={lineHeight:2},bf={fontWeight:"bold",color:"gray"},jf=Ja((function(t){var e=mf(t),n=t.isShow,o=t.store,i=t.data,r=t.onClose,a=gf(null),l=a[0],c=a[1],u=xf(),p=u[0],d=u[1],h=(0,Te.useState)((function(){return{groupOptions:o.getWatchGroups(),listOptions:[]}})),f=h[0],v=h[1],m=f.groupOptions,g=f.listOptions,x=Wa(),y=x[0],C=x[1],w=x[2],b=(0,Te.useCallback)((function(t){var e=t||{},n=e.caption,o=e.lists,i=n?(v((function(t){return s({},t,{listOptions:o||[]})})),n):null;l(i)}),[l]),j=(0,Te.useCallback)((function(){w(),r()}),[]),S=(0,Te.useCallback)((function(){var t=c(),e=_e(p),n=[];if(t||n.push(ot("Group")),e||n.push(ot("List")),0===n.length){var o=i.caption,r=i.config;Se.addItem({caption:o,groupCaption:t,listCaption:e,config:r})}else C(n)}),[i]),T=(0,Te.useMemo)((function(){return[(0,ze.jsx)(za,{caption:"Add",title:"Click to add to watch list",timeout:0,onClick:S},"add")]}),[S]);Me(o,(function(t,e){t===we&&e.forActionType===fe?j():t===be&&e.forActionType===fe&&C(e.messages)})),(0,Te.useEffect)((function(){if(e&&e!==t&&e.isShow!==n){var i=c(),r=o.getWatchGroups();if(r!==m)l(null),ke(p,null),v({groupOptions:r,listOptions:[]});else if(i){var a=o.getWatchListsByGroup(i);a!==g&&(ke(p,null),v((function(t){return s({},t,{listOptions:a})})))}}}));var _=i.caption,k=(i.config||{}).descr;return(0,ze.jsxs)(Qh,{caption:"Add To Watch List",isShow:n,commandButtons:T,onClose:j,children:[(0,ze.jsx)(Jl,{caption:"Group",options:m,onSelect:b}),(0,ze.jsx)(Jl,{caption:"List",options:g,onSelect:d}),(0,ze.jsx)(yf,{style:wf,caption:"Item",textStyle:Cf,text:_}),(0,ze.jsx)(yf,{style:wf,caption:"Descr",textStyle:bf,text:k}),(0,ze.jsx)(ec,{validationMessages:y})]})}));const Sf=jf;var Tf={fontWeight:"bold",color:"gray",padding:"8px 8px 0 8px"},_f={lineHeight:2},kf={lineHeight:1.5},If={fontWeight:"bold"},Of=Ja((function(t){var e=t.isShow,n=t.data,o=t.onClose,i=[(0,ze.jsx)(za,{isPrimary:!0,caption:"Load",onClick:function(){ne.loadStock(y,x,n),o()}},"load")],r=n.caption,s=n.descr,a=n.date;return(0,ze.jsxs)(Qh,{caption:"Load Watch Item",isShow:e,commandButtons:i,onClose:o,children:[(0,ze.jsx)(yf,{style:kf,isCaption:!1,text:s,textStyle:Tf},"1"),(0,ze.jsx)(yf,{style:_f,caption:"Item",text:r,textStyle:If},"2"),a&&(0,ze.jsx)(yf,{style:_f,caption:"Date",text:a,textStyle:If},"3")]})}));const Df=Of;var Lf={margin:"10px 5px 0 10px",borderBottom:"2px solid #a487d4"},Rf={width:"100%",height:"100%"},Nf={display:"block",width:"100%",height:"100%"},Ef={display:"none"};const Af=function(t){var e=t.width,n=t.height,o=t.children,i=Ae((function(){return o.map((function(t,e){return(0,Te.cloneElement)(t.props.children,{key:e})}))}))[0],r=(0,Te.useState)(0),s=r[0],a=r[1],l=function(t){return t===s};return(0,ze.jsxs)("div",{style:{width:e,height:n},children:[(0,ze.jsx)("div",{style:Lf,children:o.map((function(t,e){return(0,Te.cloneElement)(t,{key:e,onClick:function(){return a(e)},isSelected:l(e)})}))}),(0,ze.jsx)("div",{style:Rf,children:i.map((function(t,e){var n=l(e)?Nf:Ef;return(0,ze.jsx)("div",{style:n,children:t},e)}))})]})};var Wf="#a487d4",Mf={borderColor:Wf,color:Wf};const Bf=function(t){var e=t.isSelected,n=t.title,o=t.onClick,i=e?Mf:void 0;return(0,ze.jsx)("button",{role:"tab","aria-selected":e,tabIndex:"0",className:"tab",style:i,onClick:o,children:(0,ze.jsx)("span",{children:n})})};var Pf={textAlign:"right",margin:"8px 4px 10px 0",cursor:"default"};const Ff=function(t){var e=t.caption,n=t.onClick,o=t.onClear,i=t.onClose;return(0,ze.jsxs)("div",{style:Pf,children:[(0,ze.jsx)(za,{isPrimary:!0,caption:e,timeout:0,onClick:n}),o&&(0,ze.jsx)(za,{caption:"Clear",timeout:0,onClick:o}),(0,ze.jsx)(za,{caption:"Close",timeout:0,onClick:i})]})};const Vf=function(t){var e=t.store,n=t.actionCompleted,o=t.actionFailed,i=t.forActionType,r=t.msgOnIsEmptyName,s=t.onCreate,a=t.onClose,l=(0,Te.useRef)(),c=Wa((function(){return _e(l).setValue("")})),u=c[0],p=c[1],d=c[2],h=(0,Te.useCallback)((function(){var t=_e(l),e=t.getValue();e?s({caption:e}):(t.setValue(""),p([r("Group")]))}),[]);return Me(e,(function(t,e){e&&e.forActionType===i&&(t===n?d():t===o&&p(e.messages))})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Il,{ref:l,caption:"Group"}),(0,ze.jsx)(ec,{validationMessages:u}),(0,ze.jsx)(Ff,{caption:"Create",onClick:h,onClear:d,onClose:a})]})};const Uf=function(t){var e=t.store,n=t.actionCompleted,o=t.actionFailed,i=t.forActionType,r=t.msgOnNotSelect,s=t.msgOnIsEmptyName,a=t.onRename,l=t.onClose,c=(0,Te.useRef)(),u=xf(),p=u[0],d=u[1],h=(0,Te.useState)(e.getWatchGroups),f=h[0],v=h[1],m=Wa((function(){return _e(c).setValue("")})),g=m[0],x=m[1],y=m[2],C=(0,Te.useCallback)((function(){var t=_e(c).getValue(),e=_e(p);if(t&&e)a({captionFrom:e,captionTo:t});else{var n=[];e||n.push(r("Group From")),t||n.push(s("Group To")),x(n)}}),[]);return Me(e,(function(t,r){t===n?(r&&r.forActionType===i&&y(),v(e.getWatchGroups())):t===o&&r.forActionType===i&&x(r.messages)})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Jl,{caption:"Group From",options:f,onSelect:d}),(0,ze.jsx)(Il,{ref:c,caption:"Group To"}),(0,ze.jsx)(ec,{validationMessages:g}),(0,ze.jsx)(Ff,{caption:"Rename",onClick:C,onClear:y,onClose:l})]})};const Gf=function(t){var e=t.store,n=t.actionCompleted,o=t.forActionType,i=t.msgOnNotSelect,r=t.onDelete,s=t.onClose,a=xf(),l=a[0],c=a[1],u=(0,Te.useState)(e.getWatchGroups),p=u[0],d=u[1],h=Wa(),f=h[0],v=h[1],m=h[2],g=(0,Te.useCallback)((function(){var t=_e(l);t?r({caption:t}):v([i("Group")])}),[]);return Me(e,(function(t,i){t===n&&(i.forActionType===o&&m(),d(e.getWatchGroups()))})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Jl,{caption:"Group",options:p,onSelect:c}),(0,ze.jsx)(ec,{validationMessages:f}),(0,ze.jsx)(Ff,{caption:"Delete",onClick:g,onClose:s})]})};var Hf=Ja((function(t){var e=t.isShow,n=t.store,o=t.onClose;return(0,ze.jsx)(Qh,{caption:"Watch Groups Edit",isShow:e,isWithButton:!1,onClose:o,children:(0,ze.jsxs)(Af,{width:"380px",children:[(0,ze.jsx)(Bf,{title:"Create",children:(0,ze.jsx)(Vf,{store:n,actionCompleted:we,actionFailed:be,forActionType:ve,msgOnIsEmptyName:nt,onCreate:Se.addGroup,onClose:o})}),(0,ze.jsx)(Bf,{title:"Rename",children:(0,ze.jsx)(Uf,{store:n,actionCompleted:we,actionFailed:be,forActionType:me,msgOnNotSelect:ot,msgOnIsEmptyName:nt,onRename:Se.renameGroup,onClose:o})}),(0,ze.jsx)(Bf,{title:"Delete",children:(0,ze.jsx)(Gf,{store:n,actionCompleted:we,forActionType:ge,msgOnNotSelect:ot,onDelete:Se.deleteGroup,onClose:o})})]},"1")})}));const zf=Hf;const qf=function(t){var e=t.store,n=t.actionCompleted,o=t.actionFailed,i=t.forActionType,r=t.msgOnNotSelect,s=t.msgOnIsEmptyName,a=t.onCreate,l=t.onClose,c=(0,Te.useRef)(),u=xf(),p=u[0],d=u[1],h=(0,Te.useState)(e.getWatchGroups),f=h[0],v=h[1],m=Wa((function(){return _e(c).setValue("")})),g=m[0],x=m[1],y=m[2],C=(0,Te.useCallback)((function(){var t=_e(c).getValue(),e=_e(p);if(e&&t)a({captionGroup:e,captionList:t});else{var n=[];e||n.push(r("In Group")),t||n.push(s("List")),x(n)}}),[]);return Me(e,(function(t,r){t===n?(r.forActionType===i&&y(),v(e.getWatchGroups())):t===o&&r.forActionType===i&&x(r.messages)})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Jl,{caption:"In Group",options:f,onSelect:d}),(0,ze.jsx)(Il,{ref:c,caption:"List"}),(0,ze.jsx)(ec,{validationMessages:g}),(0,ze.jsx)(Ff,{caption:"Create",onClick:C,onClear:y,onClose:l})]})};const Kf=function(t){var e=Ae(t.getWatchGroups),n=e[0],o=e[1],i=ip();return[n,function(){o.current=t.getWatchGroups(),i()}]};const Yf=(0,Te.forwardRef)((function(t,e){var n=mf(t),o=(0,Te.useRef)(null),i=xf(),r=i[0],s=i[1],a=(0,Te.useState)([]),l=a[0],c=a[1],u=(0,Te.useCallback)((function(t){t&&t.caption?(ke(o,t.caption),c(t.lists||[])):ke(o,null)}),[]),p=t.store,d=t.groupCaption,h=t.groupOptions,f=t.listCaption;return(0,Te.useEffect)((function(){if(n&&t!==n){var e=_e(o);t.groupOptions!==n.groupOptions?(ke(o,null),ke(r,null),c([])):e&&c((function(t){var n=p.getWatchListsByGroup(e);return n!==t?(ke(r,null),n):t}))}})),(0,Te.useImperativeHandle)(e,(function(){return{getValue:function(){return{captionGroup:_e(o),captionList:_e(r)}},setValueNull:function(){ke(o,null),ke(r,null)}}})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Jl,{caption:d,options:h,onSelect:u}),(0,ze.jsx)(Jl,{caption:f,options:l,onSelect:s})]})}));const Jf=function(t){var e=t.store,n=t.actionCompleted,o=t.actionFailed,i=t.forActionType,r=t.msgOnIsEmptyName,s=t.msgOnNotSelect,a=t.onRename,l=t.onClose,c=(0,Te.useRef)(),u=(0,Te.useRef)(),p=Kf(e),d=p[0],h=p[1],f=Wa((function(){return _e(u).setValue("")})),v=f[0],m=f[1],g=f[2],x=(0,Te.useCallback)((function(){var t=_e(c).getValue(),e=t.captionGroup,n=t.captionList,o=_e(u).getValue();if(e&&n&&o)a({captionGroup:e,captionListFrom:n,captionListTo:o});else{var i=[];e||i.push(s("Group")),n||i.push(s("List From")),o||i.push(r("List To")),m(i)}}),[]);return Me(e,(function(t,e){t===n?(e.forActionType===i&&g(),h()):t===o&&e.forActionType===i&&m(e.messages)})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Yf,{ref:c,store:e,groupCaption:"In Group",groupOptions:d,listCaption:"List From"}),(0,ze.jsx)(Il,{ref:u,caption:"List To"}),(0,ze.jsx)(ec,{validationMessages:v}),(0,ze.jsx)(Ff,{caption:"Rename",onClick:x,onClear:g,onClose:l})]})};const Xf=function(t){var e=t.store,n=t.actionCompleted,o=t.forActionType,i=t.msgOnNotSelect,r=t.onDelete,s=t.onClose,a=(0,Te.useRef)(),l=Kf(e),c=l[0],u=l[1],p=Wa(),d=p[0],h=p[1],f=p[2],v=(0,Te.useCallback)((function(){var t=_e(a).getValue(),e=t.captionGroup,n=t.captionList;if(e&&n)r({captionGroup:e,captionList:n});else{var o=[];e||o.push(i("Group")),n||o.push(i("List")),h(o)}}),[]);return Me(e,(function(t,e){t===n&&(e&&e.forActionType===o&&f(),u())})),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Yf,{ref:a,store:e,groupCaption:"In Group",groupOptions:c,listCaption:"List"}),(0,ze.jsx)(ec,{validationMessages:d}),(0,ze.jsx)(Ff,{caption:"Delete",onClick:v,onClear:f,onClose:s})]})};var Qf=Ja((function(t){var e=t.isShow,n=t.store,o=t.onClose;return(0,ze.jsx)(Qh,{caption:"Watch Lists Edit",isShow:e,isWithButton:!1,onClose:o,children:(0,ze.jsxs)(Af,{width:"380px",children:[(0,ze.jsx)(Bf,{title:"Create",children:(0,ze.jsx)(qf,{store:n,actionCompleted:we,actionFailed:be,forActionType:xe,msgOnNotSelect:ot,msgOnIsEmptyName:nt,onCreate:Se.createList,onClose:o})}),(0,ze.jsx)(Bf,{title:"Rename",children:(0,ze.jsx)(Jf,{store:n,actionCompleted:we,actionFailed:be,forActionType:ye,msgOnNotSelect:ot,msgOnIsEmptyName:nt,onRename:Se.renameList,onClose:o})}),(0,ze.jsx)(Bf,{title:"Delete",children:(0,ze.jsx)(Xf,{store:n,actionCompleted:we,actionFailed:be,forActionType:Ce,msgOnNotSelect:ot,onDelete:Se.deleteList,onClose:o})})]},"1")})}));const $f=Qf;var Zf;const tv=((Zf={})[u]=of,Zf[p]=af,Zf[m]=vf,Zf[d]=Sf,Zf[h]=Df,Zf[f]=zf,Zf[v]=$f,Zf);const ev=function(t){return Zu(),(0,ze.jsxs)("div",{children:[(0,ze.jsx)(Cp,{store:Qu}),(0,ze.jsxs)("div",{className:"component-container",children:[(0,ze.jsx)(Ph,{store:Qu,showBrowserAction:oe,initBrowserAction:se,updateWatchAction:le,toggleWatchDbBrowserAction:ce,initDialogAction:w,showDialogAction:b}),(0,ze.jsx)(Wp,{store:Qu}),(0,ze.jsx)(Fh,{store:Qu,initShowAction:Xt})]}),(0,ze.jsx)(zh,{store:Qu,showAction:S,routerDialog:tv})]})};r().config("https://59cd430997004591af3320a9875237d7@sentry.io/99461").install();var nv,ov=function(){document.getElementById("preloader")&&document.body.removeChild(document.getElementById("preloader")),(0,o.s)(document.getElementById("app")).render((0,ze.jsx)(ev,{}))};(nv=window.preloader)&&(nv.isErrCss||nv.isErrScript)?nv.stop():ov()},745:(t,e,n)=>{var o=n(935);e.s=o.createRoot,o.hydrateRoot},251:(t,e,n)=>{var o=n(294),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var o,r={},c=null,u=null;for(o in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)s.call(e,o)&&!l.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps)void 0===r[o]&&(r[o]=e[o]);return{$$typeof:i,type:t,key:c,ref:u,props:r,_owner:a.current}}e.Fragment=r,e.jsx=c,e.jsxs=c},893:(t,e,n)=>{t.exports=n(251)}},t=>{var e;e=555,t(t.s=e)}]);