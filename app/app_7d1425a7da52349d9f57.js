/*! For license information please see app_7d1425a7da52349d9f57.js.LICENSE.txt */
"use strict";(self.webpackChunklibrary_watch=self.webpackChunklibrary_watch||[]).push([[524],{516:(e,t,o)=>{var s=o(338),n=o(687),i=o.n(n);const r=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];return e.bind(null,...o)};var l=o(540);const a=Number.isNaN,c=Array.isArray,d=e=>t=>typeof t===e,p=d("number"),u=e=>p(e)&&e-e==0,h=d("string"),m=d("function"),g=e=>h(e)&&""!==e,x=()=>{},y=e=>(e||{}).current,f=(e,t)=>{e&&(e.current=t)},j=(e,t)=>o=>{const s=y(o);return s&&m(s[e])?s[e]():t},C=j("isValid",!1),v=j("getValue"),b=e=>(t,o)=>{const s=y(t);s&&m(s[e])&&s[e](o)},w=b("setValue"),k=b("focus"),S=e=>{if(e&&m(e.focus))return e.focus(),!0},T=e=>S(y(e)),R=e=>e&&e[0]||{},D=e=>R(e).clientX,I=e=>R(e).clientY,L=e=>e.clientX||D(e.targetTouches)||D(e.changedTouches)||0,N=e=>e.clientY||I(e.targetTouches)||I(e.changedTouches)||0,E=(e,t)=>c(e)?e.map(t):null,_=Object.is,$=Object.assign,W=e=>{let t;const o=new Set,s=(e,s)=>{const n="function"==typeof e?e(t):e;if(!_(n,t)){const e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:$({},t,n),o.forEach((o=>o(t,e)))}},n=()=>t,i={getState:n,setState:s,subscribe:e=>(o.add(e),()=>o.delete(e))};return t=e(s,n,i),i},O=e=>{const t=(0,l.useRef)(null);return null===t.current&&(t.current=e()),[t.current,t]},M=(e,t,o)=>{(0,l.useSyncExternalStore)(...O((()=>[()=>e.subscribe(t,o),()=>t(e.getState())]))[0])},A=()=>({}),P=()=>(0,l.useReducer)(A)[1],B=e=>"function"==typeof e,F=e=>{return o=e,(t=(e,t,s)=>{const n=s.subscribe;return s.subscribe=(e,t,o)=>{let i=e;if(t){const n=(null==o?void 0:o.equalityFn)||_;let r=e(s.getState());i=o=>{const s=e(o);if(!n(r,s)){const e=r;t(r=s,e)}},null!=o&&o.fireImmediately&&t(r,r)}return n(i)},o(e,t,s)})?W(t):W;var t,o},V=e=>[e.setState,e.getState],H=(e,t)=>[o=>({[e]:t?{[t]:o}:o}),t=>t[e]],U=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e(o.reduce(((e,t,o)=>(e[t]=s[o],e)),{}))}},G=(e,t)=>function(){return e(t(...arguments))},z=(e,t,o)=>r(M,e,t),q=e=>{const t=Object.create(null);return t.value=e,{useAtomValue:()=>(t.rerender=P(),t.value),setValue:e=>{const o=t.value,s=t.rerender;t.value=((e,t)=>B(t)?t(e):t)(o,e),o!==t.value&&B(s)&&s()}}},K="alert",Y="info",J="addToWatch",X="loadWatchItem",Q="editWatchGroup",Z="editWatchList",ee="loadFile",te="LW",oe="WL",se="WL_DB",ne="WL_WATCH_LIST",ie=e=>{let{uri:t,option:o,onFetch:s,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_nowTime:c,_doneOk:d,_doneFailure:p}=e;return fetch(t).then((e=>{const{status:t,headers:s}=e;if(o.limitRemaining=s.get("X-RateLimit-Remaining"),t>=200&&t<=400)return e.json();throw a(e)})).then((e=>{n(e,o)&&s({json:e,option:o,onCompleted:i}),d(c)})).catch((e=>{r({error:e,option:o,onFailed:l}),p(c)}))};var re=o(809),le=o.n(re);const ae=e=>{let{uri:t,option:o,onFetch:s,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_crErrResp:c,_nowTime:d,_doneOk:p,_doneFailure:u}=e;return fetch(t).then((e=>{if(e.body){return e.body.getReader().read()}throw a(e)})).then((e=>{const t=String.fromCharCode(...e.value);return le().parse(t,{header:!0})})).then((e=>{if(!n(e))throw c();s({json:e,option:o,onCompleted:i}),p(d)})).catch((e=>{r({error:e,option:o,onFailed:l}),u(d)}))},ce=3e3,de="DONE",pe=(e,t)=>({errCaption:e,message:t}),ue=pe("Route is not exist"),he=pe("Load Frequency","Exceed item load frequency restriction of 3s"),me=pe("Loading In Progress","Loading data for this item in progress.\nIt seems several clicks on button Load repeatedly happend."),ge=function(e){let{status:t,statusText:o}=void 0===e?{}:e;return pe("Request Error",`${t}: ${o}`)},xe=()=>pe("Response Error","Response format is incorrect.");let ye=de,fe=Date.now()-ce,je=fe;const Ce=(e,t)=>{ye=e,je=t},ve=e=>{Ce(de,e)},be=e=>{Ce(de,e)},we=e=>{const{uri:t,option:o,onFailed:s,onCatch:n}=e,i=Date.now();if(!(i-je<300))if(t)if(t===ye)n({error:me,option:o,onFailed:s});else if(i-fe<ce)n({error:he,option:o,onFailed:s});else{const s={...e,_crErr:ge,_crErrResp:xe,_nowTime:i,_doneOk:ve,_doneFailure:be};((e,t)=>{Ce(e,t)})(t,i);const{fetchType:n}=o;"csv-stream"===n?ae(s):ie(s)}else n({error:ue,option:o,onFailed:s})},ke=(e,t)=>{const{caption:o,descr:s}=t;e.alertCaption=o,e.alertDescr=s},Se=(e,t)=>`The ${e} witn name ${t} not found.`,Te=e=>`Group with name ${e} is already existed.`,Re=(e,t)=>`List with name ${e}\n      In Group ${t} is already existed.`,De=(e,t)=>`Item with name ${e}\n      In List ${t} is already existed.`,Ie=e=>`${e} name can not be empty.`,Le=e=>`${e} is not selected.`,Ne=(e,t)=>({caption:e,descr:t}),Ee=(Ne("Loading In Progress","Loading the chart for this item-code in progress.\nIt seems several clicks on button Load repeatedly happend."),Ne("Drag Drop Item","Item in List already has been existed.")),_e=Ne("Drag Drop List","List in Group already has been existed."),$e=Ne("Load from JSON File","Can not Load Watch Items from JSON File"),We=Ne("Runtime Error"),Oe=Ne("Network Error","Network error is encountered. Failed to fetch. May be you are offline, a DNS lookup failure or a resource unreachable."),Me=Ne("Service Unavailable 503","Back-end server is at capacity. HTTP Code 503"),Ae=(e,t)=>-1!==(e||"").indexOf(t),Pe=e=>{let{error:t,option:o,onFailed:s}=e;const{errCaption:n,message:i}=t||{};t instanceof TypeError?Ae(i,"code 503")?ke(o,Me):Ae(i,"fetch")?ke(o,Oe):(o.alertCaption=n||We.caption,o.alertDescr=i):(o.alertCaption=n||We.caption,o.alertDescr=i),s(o)},Be=()=>!0,Fe=function(e,t){return void 0===t&&(t=Be),(0,l.memo)(e,t)},Ve=e=>t=>(0,l.memo)(t,e),He=Ve(((e,t)=>e.isShow===t.isShow)),Ue=Ve(((e,t)=>e.items===t.items)),Ge=e=>Ue((t=>E(t.items,((o,s)=>e(o,s,t))))),ze=document&&"ontouchstart"in document.documentElement,qe=!ze,Ke=()=>!window.innerWidth||window.innerWidth>700,Ye=(e,t)=>{const[o,s]=(0,l.useState)((()=>"function"==typeof e?e():!!e)),n=(0,l.useCallback)((e=>{t&&e&&e.stopPropagation(),s((e=>!e))}),[]);return[o,n,s]},Je=Array.isArray,Xe=e=>Je(e)?e[0]?e[1]:"":e||"",Qe=(e,t)=>{const o=Xe(e),s=Xe(t);return o?s?`${o} ${s}`:o:s||void 0},Ze=e=>({display:e}),et=Ze("block"),tt=Ze("inline-block"),ot=Ze("none"),st=(e,t)=>t?{...e,...t}:e,nt="show-popup",it="not-selected",rt=e=>e?`${e} ${it}`:it,lt=rt("bt-item"),at="popup-menu charts__menu-more",ct=rt("row-item"),dt=rt("row__pane-topic"),pt=rt("item-title"),ut="source-link",ht="library",mt=`${ht}__title`,gt=`${ht}__value`,xt=`${gt}-title`,yt=rt("row__pane-topic"),ft=(e,t)=>t?{name:e,onClick:t,isClose:!0}:null,jt=(e,t,o)=>O((()=>({titleCl:yt,pageWidth:160,maxPages:1,p0:[ft("Toggle Dates",o),ft("Toggle Labels",t),ft("Toggle ToolBar",e)].filter(Boolean)})))[0],Ct=(e,t,o)=>o?{caption:e,title:t,onClick:o}:null,vt=(e,t)=>O((()=>[Ct("L","Click to toggle row's labels",e),Ct("D","Click to toggle date input",t)].filter(Boolean)))[0],bt=e=>{const[t,o]=Ye(!0),[s,n]=Ye(Ke);return[jt(o,n,e),vt(n,e),t,s]},wt=()=>{},kt=function(e){void 0===e&&(e=wt);const[t,o]=(0,l.useState)([]),s=(0,l.useCallback)((()=>{e(),o((e=>e.length>0?[]:e))}),[]);return[t,o,s]},St=!ze,Tt="keydown";let Rt=Object.create(null);const Dt=(e,t)=>{(0,l.useEffect)((()=>St&&e?(((e,t)=>{Rt&&(Rt[e]=t)})(e,t),()=>(e=>Rt&&(Rt[e]=void 0))(e)):void 0),[])};var It=o(848);const Lt={textDecoration:"underline"},Nt=(e,t)=>{if(ze||!e)return t;const o=((e,t)=>e?t.toUpperCase().indexOf(e):-1)(e,t);if(-1===o)return t;const s=t.substring(0,o),n=t.substring(o,o+1),i=t.substring(o+1);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("span",{children:s}),(0,It.jsx)("span",{style:Lt,children:n}),(0,It.jsx)("span",{children:i})]})},Et=e=>{let{className:t,caption:o,hotKey:s,children:n}=e;return o?(0,It.jsxs)("span",{className:t,children:[Nt(s,o),n]}):null},_t={color:"#607d8b"},$t=e=>{let{refBt:t,isArrow:o,timeout:s=3e3,className:n,style:i,isPrimary:r,title:a="",caption:c,hotKey:d,children:p,onClick:u}=e;const h=(0,l.useRef)(null),m=(0,l.useCallback)((e=>{if(0===s)return void u(e);const t=y(h),{timeStamp:o}=e;(null==t||o-t>s)&&(u(e),f(h,o))}),[s,u]),g=Qe("bt-flat",n),x=r?{...i,..._t}:i,j=d?`${a} [${d.toLowerCase()}]`:a;return Dt(d,u),(0,It.jsxs)("button",{ref:t,type:"button",className:g,style:x,title:j,onClick:m,children:[(0,It.jsx)(Et,{className:"bt-flat__caption",caption:c,hotKey:d,children:o&&(0,It.jsx)("span",{className:"arrow-down"})}),p]})},Wt=e=>O((()=>[(0,It.jsx)($t,{isPrimary:!0,caption:"Load",onClick:e},"load")]))[0],Ot=(e,t)=>{const[o,s,n]=kt(),i=(0,l.useCallback)((()=>{e(s,n)}),[]);return[o,Wt(i),(0,l.useCallback)((()=>{n(),t()}),[]),i]},Mt={color:"#1b75bb",display:"inline-block",width:120,paddingRight:5,textAlign:"right",fontSize:"16px",fontWeight:"bold"},At=e=>e&&-1===e.indexOf(":")?e+":":"",Pt=e=>{let{is:t=!0,caption:o}=e;return t?(0,It.jsx)("span",{style:Mt,children:At(o)}):null},Bt={display:"flex",alignItems:"center",margin:5},Ft=e=>{let{style:t,children:o}=e;return(0,It.jsx)("div",{style:{...Bt,...t},children:o})},Vt=[["just now",999],["sec",1e3],["min",6e4],["hour",36e5],["day",864e5],["week",6048e5],["month",2592e6],["year",31536e6]],Ht=Vt.length,Ut=Ht-1,Gt=(e,t)=>{const[o,s]=Vt[t],n=Math.round(e/s);return`${n} ${o}${1===n?"":"s"} ago`},zt=(e,t)=>{const o=t||Date.now(),s=Math.abs(e-o);for(let e=0;e<Ht;e++)if(s<Vt[e][1])return 0===e?Vt[0][0]:Gt(s,e-1);return Gt(s,Ut)},qt=e=>parseInt(e,10),Kt=e=>qt(e)-1,Yt=(e,t,o,s)=>h(e)&&e.length!==t||((e,t,o)=>a(e)||e<t||e>o)(parseInt(e,10),o,s),Jt=(e,t,o)=>{if(!h(e))return!1;const s=e.trim();return 10===s.length&&function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=1999);const[s,n,i]=e.split("-"),r=(new Date).getFullYear();return!(Yt(s,4,o,r+t)||Yt(n,2,1,12)||Yt(i,2,1,31))}(s,t,o)},Xt=function(e){void 0===e&&(e=2);return((e,t)=>e.getUTCFullYear()-t+"-"+("0"+(e.getUTCMonth()+1)).slice(-2)+"-"+("0"+e.getUTCDate()).slice(-2))(new Date,e)},Qt=e=>{const t=(e=>{if(!u(e)||!isFinite(e))return"";const t=new Date(e);return"Invalid Date"===t.toString()?"":("0"+t.getUTCDate()).slice(-2)+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+t.getUTCFullYear()})(e);if(""===t)return"";const[o,s,n]=t.split("-");return`${n}-${s}-${o}`},Zt=e=>(e=>{if(!h(e))return NaN;const t=e.split("-");return Date.UTC(t[0],Kt(t[1]),t[2])})(e)/1e3,eo=(e,t)=>((e,t)=>u(e)?zt(e,t):"")(20===(e||"").trim().length?Date.UTC(e.slice(0,4),Kt(e.slice(5,7)),qt(e.slice(8,10)),qt(e.slice(11,13)),qt(e.slice(14,16))):void 0,t),to=e=>{let{refEl:t,isShow:o,style:s,className:n,onKeyDown:i,children:r}=e;const l=Qe(n,[o,nt]),a=o?et:ot;return(0,It.jsx)("div",{ref:t,role:"presentation","aria-hidden":o,className:l,style:{...s,...a},onKeyDown:i,children:r})},oo={position:"relative",display:"inline-block",width:250,backgroundColor:"#e1e1cb"},so={color:"green",width:"100%",height:30,paddingLeft:10,fontSize:"16px",fontWeight:"bold",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},no={width:230,margin:"0 0 5px 10px",borderWidth:"medium medium 1px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},io="#f44336",ro={borderColor:"#1b75bb"},lo={borderColor:io},ao={color:io,padding:"0 0 5px 10px",fontSize:"12px",fontWeight:"bold"},co=()=>{},po=e=>{let{refEl:t,initialValue:o,errorMsg:s,onTest:n=co}=e;const i=(0,l.useRef)(),[r,a]=(0,l.useState)({value:o||"",isValid:!0,errMsg:null}),{value:c,isValid:d,errMsg:p}=r,u=d?ro:lo;return(0,l.useImperativeHandle)(t,(()=>({getValue:()=>c,isValid:()=>d,focus:()=>k(i)})),[d,c]),(0,It.jsxs)("div",{style:oo,children:[(0,It.jsx)("input",{ref:i,type:"text",name:"date",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:so,placeholder:"YYYY-MM-DD",value:c,onChange:e=>{const{value:t}=e.target;a((e=>{const[o,s]=n(t)?[!0,null]:[!1,e.errMsg];return{value:t,isValid:o,errMsg:s}}))},onBlur:()=>{const[e,t]=n(c)?[!0,null]:[!1,s];a({value:c,isValid:e,errMsg:t})}}),(0,It.jsx)("hr",{style:{...no,...u}}),(0,It.jsx)("div",{style:ao,children:p})]})},uo=Xt(1),ho=Xt(0),mo="YYYY-MM-DD format must be",go=e=>`${e} is not in valid format`,xo=e=>(v(e)||"").trim(),yo=e=>{let{refEl:t,isShow:o,isShowLabels:s=!0,msgOnNotValidFormat:n=go,initialFromDate:i=uo,initialToDate:r=ho,onTestDate:a=Jt}=e;const c=(0,l.useRef)(),d=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({getValues:()=>({fromDate:v(c),toDate:v(d)}),setValues:(e,t)=>{w(c,e),w(d,t)},getValidation:()=>{const e=[];return C(c)||e.push(n("From Date")),C(d)||e.push(n("To Date")),xo(c)>xo(d)&&e.push("From Date is near that To Date"),e.length>0?{isValid:!1,datesMsg:e}:{isValid:!0}},focusInput:()=>{k(c)},focusNotValidInput:()=>C(c)?!C(d)&&(k(d),!0):(k(c),!0)})),[n]),(0,It.jsxs)(to,{isShow:o,children:[(0,It.jsxs)(Ft,{children:[(0,It.jsx)(Pt,{is:s,caption:"From Date"}),(0,It.jsx)(po,{refEl:c,initialValue:i,errorMsg:mo,onTest:a})]}),(0,It.jsxs)(Ft,{children:[(0,It.jsx)(Pt,{is:s,caption:"To Date"}),(0,It.jsx)(po,{refEl:d,initialValue:r,errorMsg:mo,onTest:a})]})]})},fo="m-field",jo=`${fo}__input`,Co=`${fo}__bt-clear`,vo=e=>{let{isValue:t,onClick:o}=e;return(0,It.jsx)("button",{type:"button",className:Co,tabIndex:"-1",onClick:o,children:t?"x":""})},bo=()=>{},wo=e=>{let{refEl:t,style:o,initValue:s,placeholder:n,maxLength:i=50,onEnter:r=bo}=e;const a=(0,l.useRef)(),[c,d]=(0,l.useState)((()=>s||"")),p=(0,l.useCallback)((e=>{d(e.target.value)}),[]),u=(0,l.useCallback)((e=>{(e=>{let{keyCode:t}=e;return 27===t||46===t})(e)?d(""):(e=>{let{keyCode:t}=e;return 13===t})(e)&&r(e.target.value)}),[r]),h=(0,l.useCallback)((()=>{d(""),T(a)}),[]);return(0,l.useImperativeHandle)(t,(()=>({getValue:()=>{const e=y(a);return e?e.value.trim():void 0},setValue:e=>d(e),focus:()=>{T(a)}})),[]),(0,It.jsxs)("div",{className:fo,children:[(0,It.jsx)("input",{ref:a,type:"text",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,className:jo,style:o,value:c,placeholder:n,maxLength:i,onChange:p,onKeyDown:u}),ze&&(0,It.jsx)(vo,{isValue:Boolean(c),onClick:h})]})},ko={margin:5,lineHeight:2},So={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},To=e=>{let{refEl:t,isShowLabel:o,caption:s,placeholder:n,onEnter:i}=e;const r=o?n:n||s;return(0,It.jsxs)("div",{style:ko,children:[(0,It.jsx)(Pt,{is:o,caption:s}),(0,It.jsx)(wo,{refEl:t,style:So,placeholder:r,onEnter:i})]})},Ro=e=>{let{item:t,propCaption:o}=e;return(0,It.jsx)("span",{children:t[o]})},Do="zhn-select",Io=`${Do}__input`,Lo=`${Do}__spinner`,No=`${Lo}--failed`,Eo=`${Do}__input__hr`,_o=`${Do}__options`,$o=`${_o}__div`,Wo=`${Do}__row`,Oo=`${Wo}--active`,Mo=`${Do}__footer`,Ao=`${Mo}__index`,Po=`${Mo}__bts`,Bo=`${Mo}--margin`,Fo=rt(),Vo=(e,t)=>e?-1!==(""+e).indexOf("%")?{...t,width:e}:{...t,width:e+"px"}:null,Ho=e=>{let{className:t,style:o,caption:s="",onClick:n,...i}=e;return(0,It.jsx)("button",{type:"button",className:Qe("zhn-bt-circle2",t),style:o,onClick:n,...i,children:(0,It.jsx)("div",{children:s})})},Uo={backgroundColor:"#949ab4"},Go=e=>{let{refIndexElement:t,indexActiveOption:o,nFiltered:s,nAll:n,onStepDown:i,onStepUp:r,onClear:l}=e;return(0,It.jsxs)("div",{className:`${Mo} ${Fo}`,children:[(0,It.jsxs)("span",{className:Ao,children:[(0,It.jsx)("span",{ref:t,children:o}),(0,It.jsxs)("span",{children:[": ",s,": ",n]})]}),(0,It.jsxs)("span",{className:Po,children:[(0,It.jsx)(Ho,{className:Bo,style:Uo,caption:"Dn",onClick:i}),(0,It.jsx)(Ho,{className:Bo,style:Uo,caption:"Up",onClick:r}),(0,It.jsx)(Ho,{style:Uo,caption:"CL",onClick:l})]})]})},zo={display:"block"},qo={display:"none"},Ko=e=>{let{refOptionsElement:t,refIndexElement:o,optionsStyle:s,width:n,isShowOption:i,indexActiveOption:r,nFiltered:l,nAll:a,onStepUp:c,onStepDown:d,onClear:p,children:u}=e;const h=Vo(n,i?zo:qo);return(0,It.jsxs)("div",{className:_o,style:h,"data-scrollable":!0,children:[(0,It.jsx)("div",{ref:t,className:$o,style:{...s,...h},children:u}),(0,It.jsx)(Go,{refIndexElement:o,indexActiveOption:r,nAll:a,nFiltered:l,onStepUp:c,onStepDown:d,onClear:p})]})},Yo=e=>{let{options:t,indexActiveOption:o,propCaption:s,ItemOptionComp:n,onClick:i}=e;return t.map(((e,t)=>(0,It.jsx)("div",{role:"option","aria-selected":o===t,tabIndex:"-1",className:Wo,"data-index":t,onClick:t=>i(e,t),children:(0,It.jsx)(n,{item:e,propCaption:s})},t)))},Jo={position:"absolute",top:10,right:0,width:35,paddingRight:5,textAlign:"center",verticalAlign:"middle",cursor:"pointer"},Xo={display:"inline-block",position:"relative",top:2,height:0,width:0,borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"10px 8px 4px"},Qo=e=>{let{refEl:t,arrowStyle:o,onClick:s}=e;const n=(0,l.useRef)(),i=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({startAnimation:()=>{const e=y(n),t=y(i);e&&t&&(e.style.animation="circle infinite 1.25s linear",t.style.borderColor="#1b75bb transparent transparent")},stopAnimation:()=>{const e=y(n);e&&(e.style.animation="")}}))),(0,It.jsx)("button",{ref:n,style:Jo,tabIndex:"-1",onClick:s,children:(0,It.jsx)("span",{ref:i,style:{...Xo,...o}})})},Zo={borderColor:"#1b75bb transparent transparent"},es=(e,t,o,s)=>{const{isLoading:n,isLoadingFailed:i,placeholder:r,optionName:l="",onLoadOption:a}=e,{isShowOption:c,optionNames:d}=t;return n||i?n?[`Loading ${d}...`,(0,It.jsx)("span",{className:Lo,"data-loader":"circle"})]:i?[`Loading ${d} Failed`,(0,It.jsx)(Ho,{className:No,"data-loader":"circle-failed",onClick:a})]:[]:[r||`Select ${l}...`,(0,It.jsx)(Qo,{refEl:o,arrowStyle:c?Zo:void 0,onClick:s})]},ts="From input:",os=(e,t,o,s)=>{const n=((e,t,o)=>{const s=t.toLowerCase();return(e||[]).filter((e=>-1!==e[o].toLowerCase().indexOf(s)))})(t,e,o);return 0===n.length&&n.push(((e,t,o)=>{const s=String(e).replace(ts,"").trim();return{[t]:o?`${ts} ${s}`:"No results found",value:"noresult",inputValue:s}})(e,o,s)),n},ss=e=>{const t=(0,l.useRef)(e);return(0,l.useMemo)((()=>[e=>{t.current=e},()=>t.current]),[])},ns=e=>"number"==typeof e&&e-e==0,is=e=>{const{dataset:t}=e,{index:o}=t||{};return Number(o)},rs=(e,t)=>(0,l.useMemo)((()=>[t=>{if(t){t.classList.add(Oo);const o=is(t),s=y(e);s&&ns(o)&&(s.textContent=o+1)}},e=>{const o=e||t();o&&o.classList.remove(Oo)}]),[]),ls=e=>(e.children||{}).length,as=()=>{const e=(0,l.useRef)(),t=(0,l.useRef)(),[o,s]=ss(0),n=(0,l.useMemo)((()=>()=>((y(e)||{}).childNodes||[])[s()]),[]),[i,r]=rs(t,n);return[e,t,o,s,n,i,r,...(0,l.useMemo)((()=>[()=>{const t=n();if(t){r(t);const l=y(e);o(s()+1),s()>=ls(l)&&(o(0),l.scrollTop=0);const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d>70&&(l.scrollTop+=c-d-70)}},()=>{const t=n();if(t){r(t);const l=y(e);if(o(s()-1),s()<0){o(ls(l)-1);const e=n();l.scrollTop=e.offsetTop}const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d<70&&(l.scrollTop-=70-(c-d))}}]),[])]},cs=[],ds=e=>{let{optionName:t,optionNames:o,options:s=cs}=e;return{value:"",initialOptions:s,options:s,optionNames:o||t||""}},ps=()=>{},us=e=>{const{style:t,width:o,optionsStyle:s,propCaption:n="caption",ItemOptionComp:i=Ro,isWithInput:r=!1,onSelect:a=ps}=e,c=(0,l.useRef)(),d=(0,l.useRef)(),[p,u]=(0,l.useState)((()=>ds(e))),{value:h,options:m,initialOptions:g}=p,[x,y,f]=Ye(!1),[j,C,v,b,w,k,S,T,R]=as(),D=(0,l.useCallback)((()=>{S(),u((()=>ds(e))),f(!1),v(0),a()}),[e.options,a]),I=(0,l.useCallback)(((e,t)=>{S(),v(is(t.currentTarget)),f(!1),u((t=>({...t,value:e[n]}))),a(e)}),[]),L=(0,l.useMemo)((()=>(0,It.jsx)(Yo,{options:m,indexActiveOption:b(),propCaption:n,ItemOptionComp:i,onClick:I})),[m]);(0,l.useEffect)((()=>{if(x){const e=w();k(e),(e=>{if(e){const{offsetTop:t}=e,o=e.parentElement,{scrollTop:s}=o;t-s>70&&(o.scrollTop+=t-s-70),t-s<0&&(o.scrollTop=0)}})(e)}}),[x]),e.options!==g&&D();const N=b(),E=Vo(o,t),[_,$]=es(e,p,c,y),[W,O]=((e,t)=>[e[0]&&"noresult"!==e[0].value?e.length:0,t?t.length:0])(m,g);return(0,It.jsxs)("div",{className:Do,style:E,children:[(0,It.jsx)("input",{ref:d,className:Io,type:"text",name:"select",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:h,placeholder:_,onChange:e=>{const t=e.target.value,o=t.length,s=h.length;o!==s&&(0!==b()&&(S(),v(0)),u((e=>({...e,value:t,options:os(t,o>s?m:g,n,r)}))),f(!0))},onKeyDown:e=>{switch(e.keyCode){case 13:{const e=b();if(ns(e)){const t=m[e];t&&t[n]&&(a(((e,t,o)=>"noresult"!==e.value?e:o?{[t]:"From Input",value:e.inputValue}:void 0)(t,n,r)),f(!1),u((e=>({...e,value:t[n]}))))}else a();break}case 27:case 46:e.preventDefault(),x?f(!1):D();break;case 40:x?(e.preventDefault(),T()):f(!0);break;case 38:x&&(e.preventDefault(),R());break;default:return}}}),$,(0,It.jsx)("hr",{className:Eo}),(0,It.jsx)(Ko,{refOptionsElement:j,refIndexElement:C,optionsStyle:s,width:o,isShowOption:x,indexActiveOption:N,nFiltered:W,nAll:O,onStepUp:R,onStepDown:T,onClear:D,children:L})]})},hs=e=>{let{isShowLabel:t,caption:o,placeholder:s,options:n,onSelect:i}=e;return(0,It.jsxs)(Ft,{children:[(0,It.jsx)(Pt,{is:t,caption:o}),(0,It.jsx)(us,{width:"250",placeholder:s,options:n,onSelect:i})]})},ms=Array.isArray,gs={color:"#f44336",padding:"5px 0 0 10px"},xs={display:"inline-block",width:22,height:22,marginRight:5,border:"solid 2px #f44336",borderRadius:"50%",textAlign:"center"},ys={whiteSpace:"pre",fontWeight:"bold"},fs=e=>{let{index:t,msg:o}=e;return(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{style:xs,children:t}),(0,It.jsx)("span",{style:ys,children:o})]})},js=e=>{let{validationMessages:t}=e;return ms(t)?(0,It.jsx)("div",{style:gs,children:t.map(((e,t)=>(0,It.jsx)(fs,{msg:e,index:t+1},t)))}):null},Cs={Caption:Pt,Row:Ft,RowInputDatePeriod:yo,RowInputText:To,RowInputSelect:hs,ValidationMessages:js},vs=e=>{let{isWithoutDefault:t,className:o,style:s,caption:n="",title:i,onClick:r}=e;const l=Qe([!t,"zhn-bt-circle"],o);return(0,It.jsx)("button",{type:"button",className:l,style:s,title:i,onClick:r,children:(0,It.jsx)("div",{children:n})})},bs={padding:"4px 0 8px 0"},ws={marginLeft:20},ks=(0,l.memo)((e=>{let{buttons:t}=e;return(0,It.jsx)(Ft,{style:bs,children:(t||[]).map(((e,t)=>{let{caption:o,title:s,onClick:n}=e;return(0,It.jsx)(vs,{style:ws,caption:o,title:s,onClick:n},o+t)}))})})),Ss=e=>{let{isShow:t,buttons:o}=e;return(0,It.jsx)(to,{isShow:t,children:(0,It.jsx)(ks,{buttons:o})})},Ts=e=>function(t,o){let{deps:s,isPropagation:n}=void 0===o?{}:o;return(0,l.useCallback)((o=>{e(o)&&(o.preventDefault(),n||o.stopPropagation(),t(event))}),s||[])},Rs=qe?Ts((e=>27===e.keyCode||"Escape"===e.key)):x,Ds=Object.assign,Is=Array.isArray,[Ls,Ns,Es,_s]=ze?["touchstart","touchmove","touchcancel","touchend"]:["mousedown","mousemove","mouseleave","mouseup"],$s={passive:!0},Ws={passive:!1},Os=e=>t=>parseInt(t[e],10),Ms=Os("top"),As=Os("left"),Ps=(e,t)=>e>0?e>t?t-16:e:8,Bs=(e,t,o)=>o-e>22&&t-o>22,Fs=e=>"BUTTON"===e.tagName||(e.dataset||{}).scrollable,Vs=e=>{(0,l.useEffect)((()=>{let t,o,s=y(e),n=s.style,i=0,r=0;function l(e){e.cancelable&&(e.stopPropagation(),e.preventDefault()),0===i&&0===r&&(n.cursor="move"),i=L(e)-t,r=N(e)-o;const s=`translate(${i}px,${r}px)`;Ds(n,{webkitTransform:s,transform:s})}function a(){c(),function(){const e=Ms(n),t=As(n),o=Ps(t+i,window.innerWidth-s.clientWidth),l=Ps(e+r,window.innerHeight-s.clientHeight);Ds(n,{top:`${l}px`,left:`${o}px`,webkitTransform:"",transform:""}),i=0,r=0}()}function c(){n.cursor="",s.removeEventListener(Ns,l,Ws),s.removeEventListener(Es,a,$s),s.removeEventListener(_s,a,$s)}return s.addEventListener(Ls,(e=>{t=L(e),o=N(e),s&&((e,t,o,s)=>{const n=(e=>"function"==typeof e.composedPath?e.composedPath():void 0)(e);if(Is(n))for(let e=0;e<n.length;e++){const t=n[e];if(Fs(t))return!1;if(t===s)break}if(!ze)return!0;const{left:i,top:r,right:l,bottom:a}=s.getClientRects()[0];return Bs(i,l,t)&&Bs(r,a,o)})(e,t,o,s)&&(s.addEventListener(Ns,l,Ws),s.addEventListener(Es,a,$s),s.addEventListener(_s,a,$s))}),$s),()=>{c(),n=null,s=null}}),[])},Hs=(e,t)=>{const o=(0,l.useRef)(),s=(0,l.useRef)(),n=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useCallback)((()=>{n.current=document.activeElement,S(y(s)||y(o))}),[]),a=(0,l.useCallback)((()=>{S(y(n)),n.current=null}),[]);return(0,l.useEffect)((()=>{const e=y(i);t&&!e?r():!t&&e&&a(),i.current=t}),[t]),(0,l.useImperativeHandle)(e,(()=>({focus:r,focusPrev:a})),[]),[o,s]},Us=(e,t)=>{const o=()=>({...e(t),_props:t}),[s,n]=(0,l.useState)(o);return t!==s._props&&n(o()),[s,n]},Gs=Date.now||(()=>new Date.getTime),zs=function(e,t){void 0===t&&(t=800);let o=0;return function(){const s=Gs();if(s-o>t)return o=s,e(...arguments)}},qs=(e,t,o)=>(0,l.useCallback)(zs(e,o),t||[]),Ks=(e,t)=>{y(t)&&(document.removeEventListener("click",e,!0),t.current=null)},Ys=(e,t)=>{const o=(0,l.useRef)(null),s=(0,l.useRef)(null),n=(0,l.useCallback)((e=>{const s=y(o);s&&s.contains&&!s.contains(e.target)&&(e.stopPropagation(),t(e))}),[]);return(0,l.useEffect)((()=>{e&&!y(s)?(document.addEventListener("click",n,!0),s.current=!0):e||Ks(n,s)})),(0,l.useEffect)((()=>()=>Ks(n,s)),[]),o},Js={backgroundColor:"#4d4d4d"},Xs=()=>{},Qs=e=>{let{isShow:t,onClose:o=Xs,children:s}=e;const n=Ys(t,o);return(0,It.jsx)("div",{ref:n,style:Js,children:s})},Zs=()=>{},en=e=>{let{refEl:t,onClick:o,onReg:s=Zs,children:n,...i}=e;return(0,It.jsx)("div",{...i,ref:t,role:"menuitem",tabIndex:"0",onClick:o,onKeyDown:e=>{13!==e.which&&32!==e.which||o()},children:n})},tn={position:"relative"},on={position:"absolute",top:0,left:16},sn={paddingLeft:16},nn=e=>{let{refEl:t,titleCl:o,title:s,pageNumber:n,onClick:i}=e;return s?(0,It.jsxs)(en,{refEl:t,className:o,style:tn,onClick:i,children:[(0,It.jsx)("span",{style:on,children:"<"}),(0,It.jsx)("span",{style:sn,children:s})]}):null},rn={position:"relative"},ln={position:"absolute",display:"inline-block",top:0,right:4,color:"inherit",padding:"1px 16px 1px 0px",fontWeight:"bold"},an=e=>{let{type:t}=e;return"sub"===t?(0,It.jsx)("span",{style:ln,children:">"}):null},cn=e=>{let{refEl:t,items:o,itemCl:s,pageNumber:n,onNextPage:i,onClose:l}=e;return(0,It.jsx)(It.Fragment,{children:o.map(((e,o)=>{const{cn:a,name:c,type:d,id:p,isClose:u,onClick:h}=e,g="sub"===d?r(i,p,c,n):(e=>{let{isClose:t,onClick:o,onClose:s}=e;return m(o)?t?()=>{o(),s()}:o:void 0})({isClose:u,onClick:h,onClose:l}),x=0===o?t:void 0;return(0,It.jsxs)(en,{refEl:x,className:a||s,style:rn,onClick:g,children:[(0,It.jsx)("span",{children:c}),(0,It.jsx)(an,{type:d})]},c)}))})},dn=e=>()=>{k(e)},pn=e=>{let{isShow:t,items:o=[],style:s,title:n,titleCl:i,itemCl:r,pageCurrent:a,pageNumber:c,onClose:d,children:p,onNextPage:u,onPrevPage:h}=e;const m=(0,l.useRef)(),g=(0,l.useRef)(),x=(0,l.useCallback)((()=>{h(c)}),[h,c]),f=a===c&&t;return(0,l.useEffect)((()=>{f&&(y(m)?setTimeout(dn(m),1e3):y(g)&&setTimeout(dn(g),1e3))})),(0,It.jsxs)("div",{style:s,children:[(0,It.jsx)(nn,{refEl:m,titleCl:i,title:n,onClick:x}),(0,It.jsx)(cn,{refEl:g,items:o,itemCl:r||i,pageNumber:c,onNextPage:u,onClose:d}),p]})},un=e=>{let{isShow:t,style:o,pages:s,pageCurrent:n,onNextPage:i,onPrevPage:r,onClose:a}=e;return s.map(((e,s)=>(0,l.cloneElement)(e,{isShow:t,pageCurrent:n,style:o,pageNumber:s+1,onNextPage:0===s?i:void 0,onPrevPage:0!==s?r:void 0,onClose:a})))},hn={position:"absolute",overflow:"hidden"},mn={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all 750ms ease-out"},gn={pageWidth:100,maxPages:2,initId:"p0",p0:[]},xn=e=>({width:e}),yn=(e,t,o,s)=>{t.push((0,It.jsx)(pn,{title:s,items:e[o],titleCl:e.titleCl,itemCl:e.itemCl},o))},fn=e=>{const t=e.pageWidth,o=e.maxPages,s=e.initId||"p0";return{addPage:r(yn,e),pageWidth:t,pagesStyle:xn(o*t),pageStyle:xn(t),pageCurrent:1,pages:[(0,It.jsx)(pn,{items:e[s],titleCl:e.titleCl,itemCl:e.itemCl},s)]}},jn=(e,t)=>({transform:`translateX(${-1*e*(t-1)+0}px)`}),Cn=e=>{let{model:t=gn,isShow:o,className:s,rootStyle:n,style:i,onClose:r}=e;const[l,a]=Us(fn,t),{pageWidth:c,pagesStyle:d,pageStyle:p,pageCurrent:u,pages:h}=l,m=qs((e=>{a((t=>(t.pageCurrent=e-1,{...t})))})),g=qs(((e,t,o)=>{a((s=>{const{addPage:n,pages:i}=s;return i.length-1+1>o?i[o]&&i[o].key!==e&&(o>0?s.pages.splice(o):s.pages=[],n(s.pages,e,t)):n(i,e,t),s.pageCurrent=o+1,{...s}}))})),x={...i,...hn,...p},y={...mn,...d,...jn(c,u)};return(0,It.jsx)(Qs,{isShow:o,style:n,onClose:r,children:(0,It.jsx)(to,{className:s,style:x,isShow:o,children:(0,It.jsx)("div",{style:y,children:(0,It.jsx)(un,{isShow:o,style:p,pages:h,pageCurrent:u,onNextPage:g,onPrevPage:m,onClose:r})})})})},vn=e=>{let{style:t,svgStyle:o,btRef:s,onClick:n}=e;return(0,It.jsx)("button",{type:"button",ref:s,className:"bt-more",style:t,onClick:n,children:(0,It.jsxs)("svg",{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,It.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,It.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,It.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})},bn=e=>{let{w:t=12,h:o=t,children:s,...n}=e;return(0,It.jsx)("svg",{viewBox:`0 0 ${t} ${o}`,"aria-hidden":"true",width:"100%",height:"100%",...n,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:s})},wn={padding:3,stroke:"inherit"},kn=e=>{let{className:t,style:o,onClose:s}=e;return(0,It.jsx)("button",{type:"button",tabIndex:"-1",className:Qe("svg-close",t),style:o,onClick:s,children:(0,It.jsxs)(bn,{style:wn,strokeWidth:"2",strokeLinecap:"round",children:[(0,It.jsx)("path",{d:"M 0,0 L 12,12"}),(0,It.jsx)("path",{d:"M 12,0 L 0,12"})]})})},Sn="show-popup",Tn={display:"block"},Rn={display:"none"},Dn={backgroundColor:"#4d4d4d",border:"solid 2px #1b2836",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px"},In={position:"absolute",top:4,right:0,marginRight:6},Ln={textAlign:"right",margin:"8px 4px 10px 0"},Nn={color:"#1b2836"},En=rt(),_n={...Dn,position:"absolute",top:30,left:50,zIndex:10},$n={position:"relative",padding:"5px 35px 5px 16px",color:"#c0c0c0",stroke:"#c0c0c0",backgroundColor:"#1b2836",textAlign:"center",fontSize:"18px",fontWeight:500,cursor:"move"},Wn={position:"absolute",top:2,left:0},On={stroke:"inherit",fill:"inherit"},Mn=()=>{},An={...Cs,Toolbar:Ss,ShowHide:to,DraggableDialog:e=>{let{refEl:t,menuModel:o,isShow:s,caption:n,children:i,commandButtons:r,onShowChart:l,onClose:a=Mn}=e;const[c,d]=Hs(t,s),[p,u]=Ye(),h=Rs(a),m=Qe("draggable-dialog",[s,Sn]),g=s?Tn:Rn;return Vs(c),(0,It.jsxs)("div",{ref:c,role:"dialog",tabIndex:"-1","aria-label":n,"aria-hidden":!s,className:m,style:{..._n,...g},onKeyDown:h,children:[(0,It.jsxs)("div",{style:$n,children:[o&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(Cn,{isShow:p,className:"popup-menu dialog__menu-more",model:o,onClose:u}),(0,It.jsx)(vn,{btRef:d,style:Wn,svgStyle:On,onClick:u})]}),(0,It.jsx)("span",{className:En,children:n}),(0,It.jsx)(kn,{style:In,onClose:a})]}),(0,It.jsx)("div",{children:i}),(0,It.jsxs)("div",{style:Ln,children:[r,(x=l,"function"==typeof x&&(0,It.jsx)($t,{timeout:0,rootStyle:Nn,caption:"Show",title:"Show Pane Container",onClick:l},"show")),(0,It.jsx)($t,{timeout:0,rootStyle:Nn,caption:"Close",title:"Close Draggable Dialog",onClick:a},"close")]})]});var x}},Pn=e=>{let{isShow:t,isToolbar:o,caption:s,menuModel:n,commandButtons:i,toolbarButtons:r,validationMessages:l,children:a,onShow:c,onClose:d}=e;return(0,It.jsxs)(An.DraggableDialog,{isShow:t,caption:s,menuModel:n,commandButtons:i,onShowChart:c,onClose:d,children:[(0,It.jsx)(An.Toolbar,{isShow:o,buttons:r}),a,(0,It.jsx)(An.ValidationMessages,{validationMessages:l})]})},Bn=He((e=>{let{isShow:t,caption:o,oneTitle:s,onePlaceholder:n,requestType:i,onShow:r,onLoad:a,onClose:c}=e;const[d,p,u,h]=bt(),m=(0,l.useRef)(),[g,x,f,j]=Ot(((e,t)=>{const o=y(m).getValue(),n=((e,t)=>{const o=[];return e||o.push(`${t} is required`),o.isValid=0===o.length,o})(o,s);n.isValid?(a({repo:o,requestType:i}),t()):e(n)}),c);return(0,It.jsx)(Pn,{isShow:t,isToolbar:u,caption:o,menuModel:d,toolbarButtons:p,commandButtons:x,validationMessages:g,onShow:r,onClose:f,children:(0,It.jsx)(An.RowInputText,{refEl:m,isShowLabel:h,caption:s,placeholder:n,onEnter:j})})})),Fn=e=>{const t=(0,l.useRef)(e||{}),o=(0,l.useCallback)((e=>{f(t,e)}),[]);return[t,o]},Vn=[{caption:"OS: Desktop, Mobile, Tablet, Console",value:"os"},{caption:"OS: Desktop",value:"os-desktop"},{caption:"Windows: Desktop",value:"win-desktop"},{caption:"macOS: Desktop",value:"mac-desktop"},{caption:"Android: Mobile, Tablet",value:"android-mobile"},{caption:"IOS: Mobile, Tablet",value:"ios-mobile"},{caption:"Browser: All Platforms",value:"browser"},{caption:"Social Media Stats",value:"social-media"}],Hn=[{caption:"Worldwide",value:"worlwide",v2:"ww"},{caption:"Africa",value:"africa",v2:"af"},{caption:"Asia",value:"asia",v2:"as"},{caption:"Antarctica",value:"antarctica",v2:"an"},{caption:"Australia",value:"australia",v2:"au"},{caption:"Europe",value:"europe",v2:"eu"},{caption:"North America",value:"north-america",v2:"na"},{caption:"South America",value:"south-america",v2:"sa"},{caption:"Oceania",value:"oceania",v2:"oc"}],Un=e=>e.caption,Gn=Vn[0],zn=Un(Gn),qn=Hn[0],Kn=Un(qn),Yn=He((e=>{let{isShow:t,caption:o,requestType:s,onShow:n,onLoad:i,onClose:r}=e;const[l,a,c,d]=bt(),[p,u]=Fn(Gn),[h,m]=Fn(qn),[g,x,f]=Ot(((e,t)=>{const{value:o,caption:n}=y(p)||Gn;i({requestType:s,value:o,caption:n,region:y(h)||qn})}),r);return(0,It.jsxs)(Pn,{isShow:t,isToolbar:c,caption:o,menuModel:l,toolbarButtons:a,commandButtons:x,validationMessages:g,onShow:n,onClose:f,children:[(0,It.jsx)(An.RowInputSelect,{isShowLabel:d,caption:"Item",placeholder:zn,options:Vn,onSelect:u}),(0,It.jsx)(An.RowInputSelect,{isShowLabel:d,caption:"Region",placeholder:Kn,options:Hn,onSelect:m})]})})),Jn=e=>(y(e)||{}).value,Xn=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Hot Tab",value:"hot"},{caption:"Hot Week Tab",value:"week"},{caption:"Hot Month Tab",value:"month"}],Qn=He((e=>{let{isShow:t,caption:o,requestType:s,oneTitle:n,onePlaceholder:i,onShow:r,onLoad:a,onClose:c}=e;const[d,p]=Ye(),[u,h,m,g]=bt(p),x=(0,l.useRef)(),f=(0,l.useRef)(),[j,C]=Fn(),[v,b,w,k]=Ot(((e,t)=>{const o=y(x).getValue(),n=y(f),{isValid:i,datesMsg:r}=n.getValidation(),{fromDate:l,toDate:c}=n.getValues(),d=((e,t)=>{const o=[];return e||o.push(t),o.isValid=0===o.length,o})(i,r);d.isValid?(a({repo:o,requestType:s,sort:Jn(j),fromdate:Zt(l),todate:Zt(c)}),t()):e(d)}),c);return(0,It.jsxs)(Pn,{isShow:t,isToolbar:m,caption:o,menuModel:u,toolbarButtons:h,commandButtons:b,validationMessages:v,onShow:r,onClose:w,children:[(0,It.jsx)(An.RowInputText,{refEl:x,isShowLabel:g,caption:n,placeholder:i,onEnter:k}),(0,It.jsx)(An.RowInputSelect,{isShowLabel:g,caption:"Sort By",placeholder:"Default: Hot Week Tab",options:Xn,onSelect:C}),(0,It.jsx)(An.RowInputDatePeriod,{refEl:f,isShow:d,isShowLabels:g})]})})),Zn=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Relevance",value:"relevance"}],ei=He((e=>{let{isShow:t,caption:o,oneTitle:s,onePlaceholder:n,twoTitle:i,twoPlaceholder:r,requestType:a,onShow:c,onLoad:d,onClose:p}=e;const[u,h]=Ye(),[m,g,x,f]=bt(h),j=(0,l.useRef)(),C=(0,l.useRef)(),v=(0,l.useRef)(),[b,w]=Fn(),[k,S,T,R]=Ot(((e,t)=>{const o=y(j).getValue(),s=y(C).getValue(),n=y(v),{isValid:i,datesMsg:r}=n.getValidation(),{fromDate:l,toDate:c}=n.getValues(),p=((e,t)=>{const o=[];return e||o.push(t),o.isValid=0===o.length,o})(i,r);p.isValid?d({repo:o,requestType:a,intitle:s,sort:Jn(b),fromdate:Zt(l),todate:Zt(c)}):e(p)}),p);return(0,It.jsxs)(Pn,{isShow:t,isToolbar:x,caption:o,menuModel:m,toolbarButtons:g,commandButtons:S,validationMessages:k,onShow:c,onClose:T,children:[(0,It.jsx)(An.RowInputText,{refEl:j,isShowLabel:f,caption:s,placeholder:n,onEnter:R}),(0,It.jsx)(An.RowInputText,{refEl:C,isShowLabel:f,caption:i,placeholder:r}),(0,It.jsx)(An.RowInputSelect,{isShowLabel:f,caption:"Sort By",placeholder:"Default: Activity",options:Zn,onSelect:w}),(0,It.jsx)(An.RowInputDatePeriod,{refEl:v,isShow:u,isShowLabels:f})]})})),ti={DEFAULT:Bn,DialogType1:Bn,DialogType1A:Yn,DialogType2:Qn,DialogType3:ei,DialogType3A:He((e=>{let{isShow:t,caption:o,requestType:s,oneTitle:n,onePlaceholder:i,onLoad:r,onShow:a,onClose:c}=e;const[d,p]=Ye(),[u,h,m,g]=bt(p),x=(0,l.useRef)(),f=(0,l.useRef)(),[j,C,v,b]=Ot(((e,t)=>{const o=y(x).getValue(),i=y(f),{isValid:l,datesMsg:a}=i.getValidation(),{fromDate:c,toDate:d}=i.getValues(),p=((e,t,o,s)=>{const n=[];return e||n.push(`${s} is required`),t||n.push(o),n.isValid=0===n.length,n})(o,l,a,n);p.isValid?(r({repo:o,requestType:s,fromDate:c,toDate:d}),t()):e(p)}),c);return(0,It.jsxs)(Pn,{isShow:t,isToolbar:m,caption:o,menuModel:u,toolbarButtons:h,commandButtons:C,validationMessages:j,onShow:a,onClose:v,children:[(0,It.jsx)(An.RowInputText,{refEl:x,isShowLabel:g,caption:n,placeholder:i,onEnter:b}),(0,It.jsx)(An.RowInputDatePeriod,{refEl:f,isShow:d,isShowLabels:g})]})}))},oi=(e,t)=>o=>{const{requestType:s=t}=o,n=s&&e[s];return m(n)?n(o):void 0},si=(e,t)=>({errCaption:e,message:t}),ni=Array.isArray,ii={getRequestUrl(e){let{repo:t}=e;return`https://crates.io/api/v1/crates/${t}/downloads`},getOnCheckResponse:()=>ii.checkResponse,crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse(e,t){const{meta:o}=e||{},{extra_downloads:s}=o||{};if(!ni(s))throw si("Request Crate","Incorrect response");return!0}},ri=ii,li="https://api.github.com",ai=`${li}/repos`,ci=e=>t=>{let{repo:o}=t;return`${ai}/${o}/${e}`},di={getRequestUrl:oi({GH_RELEASE_RECENT:ci("releases/latest"),GH_TAGS:ci("tags"),GH_SEARCH_INFO:e=>{let{repo:t}=e;return`${li}/search/repositories?q=repo:${t}`},GH_COMMITS:ci("commits"),GH_ISSUES:ci("issues"),GH_PULL_REQUESTS:ci("pulls")}),getOnCheckResponse:()=>di.checkResponse,crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse:()=>!0},pi=di,ui=e=>g(e)?e[0].toUpperCase()+e.substring(1):e,hi="https://api.npmjs.org",mi="https://www.npmjs.com",gi=`${mi}/package/`,xi=e=>{const{repo:t}=e;var o;e.packageLink=(o=t)?`${gi}${o}`:mi},yi={getRequestUrl:oi({NPM_RECENT_VERSION:e=>`https://registry.npmjs.org/-/package/${e.repo}/dist-tags`,NPM_DOWNLOADS_RECENT_MONTH:e=>(xi(e),`${hi}/downloads/range/last-month/${e.repo}`),NPM_DOWNLOADS:e=>{const{fromDate:t,toDate:o,repo:s}=e;return xi(e),`${hi}/downloads/range/${t}:${o}/${s}`},NPM_TOP_VERSIONS:e=>{return xi(e),`${hi}/versions/${t=e.repo,t.replace("/","%2F")}/last-week`;var t}}),getOnCheckResponse:()=>yi.checkResponse,crKey(e){let{repo:t,requestType:o,fromDate:s=""}=e;return`${t}_${o}_${s}`},checkResponse(e,t){const{error:o}=e||{};if(o)throw si("Request Package",ui(o));return!0}},fi=yi,ji="https://api.stackexchange.com/2.2",Ci="SE_QUESTIONS",vi={getRequestUrl:oi({[Ci]:e=>{let{repo:t,sort:o="week",fromdate:s,todate:n}=e;return`${ji}/questions?page=1&pagesize=50&order=desc&fromdate=${s}&todate=${n}&sort=${o}&tagged=${t||"css"}&site=stackoverflow`},SE_SEARCH_QUESTIONS:e=>{let{repo:t="css",intitle:o="",sort:s="activity",fromdate:n,todate:i}=e;return t||o||(t="css"),`${ji}/search?page=1&pagesize=50&order=desc&fromdate=${n}&todate=${i}&sort=${s}&tagged=${t}&intitle=${o}&site=stackoverflow`}},Ci),getOnCheckResponse(){return this.checkResponse},crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse(e,t){const{error_message:o,error_name:s=""}=e||{};if(o)throw si(ui(s.replace("_"," ")),ui(o));return!0}},bi="os-version-market-share",wi="desktop",ki="mobile-tablet",Si="https://gs.statcounter.com",Ti=`os-market-share/${wi}`,Ri=`${bi}/windows/${wi}`,Di=`${bi}/macos/${wi}`,Ii=`${bi}/android/${ki}`,Li=`${bi}/ios/${ki}`,Ni="device=Desktop&device_hidden=desktop",Ei="granularity=monthly",_i="csv=1",$i="device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true",Wi="device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true",Oi={os:{csv:`${Si}/chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&granularity=monthly&statType=Operating%20System&${_i}`,link:`${Si}/os-market-share/`},"os-desktop":{csv:`${Si}/${Ti}/chart.php?${Ni}&statType_hidden=os_combined&${Ei}&statType=Operating%20System&${_i}`,link:`${Si}/${Ti}/`},"win-desktop":{csv:`${Si}/${Ri}/chart.php?${Ni}&statType_hidden=windows_version&${Ei}&statType=Windows%10Version&${_i}`,link:`${Si}/${Ri}/`},"mac-desktop":{csv:`${Si}/${Di}/chart.php?${Ni}&statType_hidden=macos_version&${Ei}&statType=macOS%20Version&${_i}`,link:`${Si}/${Di}/`},"android-mobile":{csv:`${Si}/${Ii}/chart.php?${$i}&statType_hidden=android_version&${Ei}&statType=Android%20Version&${_i}`,link:`${Si}/${Ii}/`},"ios-mobile":{csv:`${Si}/${Li}/chart.php?${$i}&statType_hidden=ios_version&${Ei}&statType=iOS%20Version&${_i}`,link:`${Si}/${Li}/`},browser:{csv:`${Si}/chart.php?${Wi}&statType_hidden=browser&${Ei}&statType=Browser&${_i}`,link:`${Si}/browser-market-share/all/`},"social-media":{csv:`${Si}/chart.php?${Wi}&statType_hidden=social_media&region_hidden=ww&${Ei}&statType=Social%20Media&${_i}`,link:`${Si}social-media-stats/`}},Mi=Array.isArray;let Ai=null;const Pi=()=>{const e=new Date,t=e.getUTCMonth(),o=t<10?"0"+t:""+t,s=e.getUTCFullYear(),n=s-2;return Ai||(Ai=`fromInt=${n}${o}&toInt=${s}${o}&fromMonthYear=${n}-${o}&toMonthYear=${s}-${o}`)},Bi={getRequestUrl:e=>{const{csv:t,link:o}=(e=>{const{value:t,region:o={}}=e,s=Oi[t],n=Pi();return{csv:`${s.csv}&region=${o.caption}&region_hidden=${o.v2}&${n}`,link:`${s.link}${o.value}`}})(e);return e.fetchType="csv-stream",e.sourceLink=o,t},crKey:e=>{const{value:t,region:o}=e,{value:s=""}=o||{};return`${s}-${t}`},getOnCheckResponse:()=>Bi.checkResponse,checkResponse:(e,t)=>e&&Mi(e.data)},Fi={CR:ri,GH:pi,NPM:fi,SE:vi,ST:Bi},Vi={getApi(e){const{requestType:t}=e,o=t.split("_")[0];return Fi[o]},getRequestUrl:e=>Vi.getApi(e).getRequestUrl(e),getOnCheckResponse:e=>Vi.getApi(e).getOnCheckResponse(),crKey:e=>Vi.getApi(e).crKey(e),checkResponse:()=>!0},Hi=Vi,Ui=function(e){let{json:t,option:o,onCompleted:s}=e;s(o,t)},Gi={LW:{loadItem:function(e,t,o){we({uri:Hi.getRequestUrl(e),option:e,onCheckResponse:Hi.getOnCheckResponse(e),onFetch:Ui,onCompleted:t,onCatch:Pe,onFailed:o})},crKey:Hi.crKey}},zi=()=>(0,It.jsx)("span",{children:"TestItem"}),qi=function(e){let{createElement:t,option:o,json:s,parentProps:n}=e;const{repo:i,requestType:r}=o;return t(zi,{key:`${i}_${r}`,...n})},Ki=["128,192,64","36,156,216","237,86,91","241,174,44","144,89,152"],Yi=e=>`rgba(${e}, 0.4)`,Ji=function(e){let{label:t,data:o,strColor:s=Ki[0],hidden:n=!1}=void 0===e?{}:e;const i=t||o.seriaName||"Downloads",r=`rgba(${s}, 1)`;return{hidden:n,label:i,fill:!1,lineTension:.1,backgroundColor:Yi(s),borderColor:r,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:r,pointBackgroundColor:r,pointBorderWidth:1,pointHoverRadius:8,pointHoverBackgroundColor:r,pointHoverBorderColor:"rgba(164, 135, 212, 1)",pointHoverBorderWidth:4,pointRadius:5,pointHitRadius:10,data:o}},Xi=e=>{let{labels:t=["1","2"],data:o=[0,0]}=e;return{labels:t,datasets:[Ji({data:o})]}};var Qi=o(118);const Zi=Object.assign,er=e=>{const t=e.defaults;t.color="black",t.font.size=14,t.font.weight="bold",t.plugins.tooltip=Zi(t.plugins.tooltip||{},{titleColor:"#a487d4",titleFont:{size:16},bodyColor:"#80c040",bodyFont:{size:16}})};const tr=o(20).a4,{hasOwnProperty:or}=Object.prototype,sr=(e,t)=>{if((o=e)===(s=t)?0!==o||1/o==1/s:o!=o&&s!=s)return!0;var o,s;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);for(let e=0;e<n.length;e++)if(!or.call(t,n[e]))return!1;for(let o in e){if(!or.call(t,o))return!1;if(!sr(e[o],t[o]))return!1}return!0},nr=sr,ir=Object.prototype.hasOwnProperty,rr=(e,t)=>{const o={};for(let s in e)t.indexOf(s)>=0||!ir.call(e,s)||(o[s]=e[s]);return o},lr=["id","width","height","onElementsClick"];Qi.t1.register(Qi.No,Qi.ZT,Qi.E8,Qi.A6,Qi.PP,Qi.kc,Qi.FN,Qi.s$,Qi.m_),er(Qi.t1);const ar={tooltips:{callbacks:{labelTextColor:function(e,t){return t.data.datasets[e.datasetIndex].borderColor}}}},cr=(e,t,o,s,n)=>{f(e,new Qi.t1(y(t),{type:o,data:s,options:tr({...ar},n)}))},dr=(0,l.memo)((e=>{let{type:t="line",height:o=150,width:s=300,redraw:n=!1,data:i,options:r,onElementsClick:a}=e;const c=(0,l.useRef)(),d=(0,l.useRef)(),p=(0,l.useMemo)((()=>m(a)?e=>{const t=y(d).getElementsAtEvent(e);t.length&&a(t)}:null),[a]);return(0,l.useLayoutEffect)((()=>{const e=y(d);e&&(n?(e.destroy(),cr(d,c,t,i,r)):((e,t,o)=>{o&&(e.options=tr(e.options,o)),e.config.data={...e.config.data,...t},e.update()})(e,i,r))})),(0,l.useLayoutEffect)((()=>(cr(d,c,t,i,r),()=>{y(d).destroy(),f(d,null)})),[]),(0,It.jsx)("canvas",{ref:c,height:o,width:s,onClick:p})}),((e,t)=>nr(rr(e,lr),rr(t,lr),{strict:!0}))),pr=dr,ur=e=>(0,It.jsx)(pr,{type:"line",...e}),hr="item-caption",mr=`${hr}__bt-close`,gr=e=>{let{style:t,children:o,onClose:s}=e;return(0,It.jsxs)("div",{className:hr,style:t,children:[o,(0,It.jsx)(kn,{className:mr,onClose:s})]})},xr={color:"grey"},yr={position:"relative",lineHeight:1.5,marginBottom:10},fr={position:"relative",top:3,marginRight:4},jr={display:"inline-block",color:"#a487d4",paddingLeft:8,maxWidth:500,textAlign:"left",fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},Cr={color:"#80c040",paddingLeft:10,paddingRight:10},vr={marginTop:-8,marginLeft:10},br={paddingTop:8},wr={paddingBottom:8},kr={paddingRight:8},Sr={marginLeft:8},Tr=/(.)(?=(\d{3})+$)/g,Rr=e=>e>=1e3?(""+e).replace(Tr,"$1,"):e,Dr=e=>{let{style:t,value:o=0}=e;return(0,It.jsx)("span",{style:t,children:Rr(o)})},Ir={...jr,position:"relative",top:-3},Lr={color:"#80c040",padding:"0 10px"},Nr={paddingRight:10},Er=e=>{let{style:t,caption:o,packageName:s,sumDownloads:n,fromDate:i,toDate:r,onClick:l}=e;return(0,It.jsxs)("button",{className:lt,style:{...Ir,...t},title:o,onClick:l,children:[(0,It.jsx)("span",{children:s}),(0,It.jsx)(Dr,{style:Lr,value:n}),(0,It.jsx)("span",{style:Nr,children:i}),(0,It.jsx)("span",{children:r})]})},_r={paddingLeft:4},$r={top:4},Wr={paddingTop:4},Or={legend:{position:"top"}},Mr=e=>{let{type:t,options:o,caption:s,packageName:n,sumDownloads:i,fromDate:r,toDate:l,labels:a,data:c,onCloseItem:d}=e;const[p,u]=Ye(!0),h=Xi({labels:a,data:c});return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsx)(gr,{style:_r,onClose:d,children:(0,It.jsx)(Er,{style:$r,caption:s,packageName:n,sumDownloads:i,fromDate:r,toDate:l,onClick:u})}),(0,It.jsx)(to,{isShow:p,style:Wr,children:(0,It.jsx)(ur,{type:t,data:h,options:o||Or})})]})},Ar=e=>(e||{}).date,Pr=e=>(e||{}).downloads,Br=e=>{const t=e.split("-");return 3===t.length?`${t[1]}-${t[2]}`:e},Fr=e=>{const{createElement:t,option:o,json:s,onCloseItem:n}=e,{repo:i,chartType:l,browserType:a,key:c}=o,d=[],p=[],m=s.meta.extra_downloads,g=m.length;let x=0;for(const e of m){const t=Pr(e),o=Ar(e);u(t)&&h(o)&&(d.push(Br(o)),p.push(t),x+=t)}return t(Mr,{key:c,caption:i,packageName:i,fromDate:0!==g?Ar(m[0]):"",toDate:g>0?Ar(m[g-1]):"",sumDownloads:x,labels:d,data:p,onCloseItem:r(n,l,a,c)})},Vr=e=>e.repo,Hr=function(e,t,o){void 0===o&&(o=Vr);const{repo:s,requestType:n,version:i=""}=e,r=Vr(e);return{caption:r,config:{descr:t,caption:r,version:i,repo:s,requestType:n}}},Ur=(e,t,o,s)=>(0,l.useCallback)((()=>{e(Hr(t,o,s))}),[]),Gr=e=>"https"===(e||"").split("://")[0]?e:void 0,zr=e=>{let{className:t,style:o,href:s,title:n,children:i}=e;return Gr(s)?(0,It.jsx)("a",{target:"_blank",className:t,style:o,href:s,title:n,children:i}):null},qr=e=>{let{repo:t,version:o}=e;return`${t} ${o}`},Kr=e=>{const{caption:t,repo:o,version:s,published_at:n,html_url:i,onCloseItem:r,onWatchItem:l}=e,[a,c]=Ye(!0),d=Ur(l,e,"GitHub Repository Recent Release",qr);return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsxs)(gr,{style:br,onClose:r,children:[(0,It.jsxs)("button",{className:lt,title:t,style:jr,onClick:c,children:[(0,It.jsx)("span",{children:o}),(0,It.jsx)("span",{style:Cr,children:s}),(0,It.jsx)("span",{children:n})]}),(0,It.jsx)(vs,{caption:"W",title:"Add to Watch",style:vr,onClick:d})]}),(0,It.jsx)(to,{isShow:a,style:br,children:(0,It.jsx)(zr,{className:ut,style:Sr,href:i,children:"Link to description of recent release tag"})})]})},Yr=(e,t)=>g(e)?e.replace("T"," ").replace("Z",""):t||"",Jr=function(e){let{createElement:t,option:o,json:s,parentProps:n,onCloseItem:i,onWatchItem:l}=e;const{repo:a,requestType:c,chartType:d,browserType:p,key:u}=o,{tag_name:h,name:m,published_at:g,html_url:x}=s,y=h||m||"empty",f=Yr(g,"empty");return t(Kr,{key:u,repo:a,requestType:c,html_url:x,caption:`${a} ${y} ${f}`,version:y,published_at:f,onCloseItem:r(i,d,p,u),onWatchItem:l,...n})},Xr=Ts((e=>13===e.keyCode||"Enter"===e.key)),Qr=rt("zhn-oc"),Zr={backgroundColor:"#4d4d4d",lineHeight:2},el={...tt,width:16,height:16},tl={color:"#1b2836",paddingLeft:4,verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},ol="yellow",sl="#4d4d4d",nl=e=>{let{refItem:t,isClose:o=!0,style:s,styleNotSelected:n,styleCaptionRow:i,styleCaption:r,caption:l,fillOpen:a=ol,fillClose:c=sl,dndHandlers:d,children:p}=e;const[u,h]=Ye(!o),m=Xr(h),[g,x,y,f,j]=u?["M 2,14 L 14,14 14,2 2,14",a,et,nt,null]:["M 2,2 L 14,8 2,14 2,2",c,ot,null,n];return(0,It.jsxs)("div",{style:{...Zr,...s},children:[(0,It.jsxs)("div",{ref:t,tabIndex:"0",role:"menuitem",className:Qr,style:{...i,...j},onClick:h,onKeyDown:m,...d,children:[(0,It.jsx)("div",{style:el,children:(0,It.jsx)("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:tt,children:(0,It.jsx)("path",{d:g,fill:x,strokeWidth:"1",stroke:a})})}),(0,It.jsx)("span",{style:{...tl,...r},children:l})]}),(0,It.jsx)("div",{className:f,style:y,children:p})]})},il=Array.isArray,rl=e=>{let{caption:t,value:o}=e;return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("span",{className:xt,children:`${t}:`}),(0,It.jsx)("span",{className:gt,children:o})]})},ll=e=>(0,It.jsx)("div",{children:(0,It.jsx)(rl,{...e})}),al=e=>{let{caption:t,value:o,date:s}=e;return(0,It.jsxs)("div",{children:[(0,It.jsx)(rl,{caption:t,value:o}),(0,It.jsx)(rl,{caption:"Date",value:Yr(s)})]})},cl=e=>{let{files:t}=e;return(t||[]).map(((e,t)=>(0,It.jsx)("div",{className:"row__item",children:e?e.filename:null},t)))},dl=e=>{let{json:t}=e;if(!t)return null;const{commit:o,files:s,stats:n,html_url:i}=t,{author:r,message:l,committer:a}=o||{},{date:c,name:d}=r||{},{date:p,name:u}=a||{},{total:h,additions:m,deletions:g}=n||{};return(0,It.jsxs)("div",{className:ht,children:[(0,It.jsx)(ll,{caption:"Message",value:l}),(0,It.jsx)(al,{caption:"Author",value:d,date:c}),(0,It.jsx)(al,{caption:"Committer",value:u,date:p}),(0,It.jsxs)("div",{children:[(0,It.jsx)(rl,{caption:"Total",value:h}),(0,It.jsx)(rl,{caption:"Additions",value:m}),(0,It.jsx)(rl,{caption:"Deletions",value:g})]}),(0,It.jsx)(nl,{caption:`Files (${il(s)?s.length:""})`,isClose:!0,children:(0,It.jsx)(cl,{files:s})}),(0,It.jsx)(zr,{className:ut,href:i,children:"Link to description of commit"})]})},pl=e=>{let{repo:t,version:o,caption:s,requestType:n,onCloseItem:i,onClickDetail:r,onWatchItem:a}=e;const[c,d]=(0,l.useState)(),[p,u,h]=Ye(!0),m=(0,l.useCallback)((()=>{r().then((e=>{h(!0),d(e)})).catch((e=>console.log(e)))}),[r]),g=(0,l.useCallback)((()=>{const e=(e=>{const{commit:t}=e||{},{committer:o}=t||{},{date:s}=o||{};return Yr(s)})(c),s=`${t} ${o}`;a({caption:s,config:{repo:t,requestType:n,version:o,caption:s,descr:"GitHub Likely Recent Version Tag",date:e}})}),[c]);return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsxs)(gr,{style:br,onClose:i,children:[(0,It.jsxs)("button",{className:lt,title:s,style:jr,onClick:u,children:[(0,It.jsx)("span",{children:t}),(0,It.jsx)("span",{style:Cr,children:o})]}),(0,It.jsx)(vs,{caption:"W",title:"Add to Watch",style:vr,onClick:g}),(0,It.jsx)(vs,{caption:"D",title:"Load Tag Details",style:vr,onClick:m})]}),(0,It.jsx)(to,{isShow:p,children:(0,It.jsx)(dl,{json:c})})]})},ul=e=>{let{uri:t,onCatch:o}=e;return Promise.resolve().then((()=>fetch(t))).then((e=>{const{status:t,statusText:o}=e;if(t>=200&&t<=400)return e.json();if(t>400&&t<500)throw{errCaption:"Request Error",message:`${t} : ${o}`};if(t>=500&&t<600)throw{errCaption:"Response Error",message:`${t} : ${o}`}})).then((e=>e)).catch((e=>{o({error:e})}))},hl=function(e){let{createElement:t,option:o,json:s=[{name:"empty"}],parentProps:n,onCloseItem:i,onWatchItem:l}=e;const{repo:a,requestType:c,chartType:d,browserType:p,key:u}=o,h=s[0],m=r(ul,{uri:`https://api.github.com/repos/${o.repo}/commits/${h.commit.sha}`,onCatch:Pe});return t(pl,{key:u,repo:a,requestType:c,version:h.name,caption:`${a} ${h.name}`,onCloseItem:r(i,d,p,u),onClickDetail:m,onWatchItem:l,...n})},ml=e=>{let{library:t}=e;const{name:o,description:s,size:n,created_at:i,pushed_at:r,stargazers_count:l,open_issues:a,watchers_count:c,html_url:d}=t||{},p=Yr(i),u=Yr(r);return(0,It.jsxs)("div",{className:ht,children:[(0,It.jsx)("div",{children:(0,It.jsx)("span",{className:mt,children:o})}),(0,It.jsx)("div",{children:(0,It.jsx)("span",{children:s})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{className:xt,children:"Size:"}),(0,It.jsx)("span",{className:gt,children:n})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{className:xt,children:"Created At:"}),(0,It.jsx)("span",{className:gt,children:p}),(0,It.jsx)("span",{className:xt,children:"Pushed At:"}),(0,It.jsx)("span",{className:gt,children:u})]}),(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{className:xt,children:"Stars:"}),(0,It.jsx)("span",{className:gt,children:l}),(0,It.jsx)("span",{className:xt,children:"Issues:"}),(0,It.jsx)("span",{className:gt,children:a}),(0,It.jsx)("span",{className:xt,children:"Watchers:"}),(0,It.jsx)("span",{className:gt,children:c})]}),(0,It.jsx)("div",{children:(0,It.jsx)(zr,{className:ut,href:d,children:"Link to GitHub Repository"})})]})},gl=e=>{let{repo:t,stars_count:o,pushed_at:s,caption:n,library:i,onCloseItem:r}=e;const[l,a]=Ye(!0);return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsx)(gr,{style:br,onClose:r,children:(0,It.jsxs)("button",{className:lt,title:n,style:jr,onClick:a,children:[(0,It.jsx)("span",{children:t}),(0,It.jsx)("span",{style:Cr,children:o}),(0,It.jsx)("span",{children:s})]})}),(0,It.jsx)(to,{isShow:l,children:(0,It.jsx)(ml,{library:i})})]})},xl=function(e){let{createElement:t,option:o,json:s,parentProps:n,onCloseItem:i}=e;const{chartType:l,browserType:a,key:c}=o,{items:d=[{}]}=s,p=d[0],{full_name:u="empty",stargazers_count:h="",pushed_at:m}=p,g=Yr(m);return t(gl,{key:c,library:p,repo:u,stars_count:h,pushed_at:g,caption:`${u} ${h} ${g}`,onCloseItem:r(i,l,a,c),...n})},yl="Comment",fl=e=>{let{n:t}=e;return u(t)&&t?(0,It.jsx)("div",{style:xr,children:`${1===t?yl:yl+"s"} ${t}`}):null},jl=Ge(((e,t)=>{const{commit:o,html_url:s}=e,{message:n="",committer:i,comment_count:r}=o||{},{date:l,name:a=""}=i||{},c=Yr(l),d=eo(l);return(0,It.jsx)("div",{className:ct,children:(0,It.jsxs)(zr,{href:s,children:[(0,It.jsxs)("div",{style:wr,children:[(0,It.jsx)("span",{style:kr,children:a}),(0,It.jsx)(zr,{dateAgo:d,date:c})]}),(0,It.jsx)("div",{children:n}),(0,It.jsx)(fl,{n:r})]})},t)})),Cl=e=>{const{caption:t,repo:o,commits:s,onCloseItem:n,onWatchItem:i}=e,[r,l]=Ye(!0),a=Ur(i,e,"GitHub Repository Commits");return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsxs)(gr,{style:br,onClose:n,children:[(0,It.jsx)("button",{className:lt,title:t,style:jr,onClick:l,children:(0,It.jsx)("span",{children:o})}),(0,It.jsx)(vs,{caption:"W",title:"Add to Watch",style:vr,onClick:a})]}),(0,It.jsx)(to,{isShow:r,children:(0,It.jsx)(jl,{items:s})})]})},vl=function(e){let{createElement:t,option:o,json:s=[],parentProps:n,onCloseItem:i,onWatchItem:l}=e;const{repo:a,requestType:c,chartType:d,browserType:p,key:u}=o;return t(Cl,{key:u,repo:a,requestType:c,caption:a,commits:s,onCloseItem:r(i,d,p,u),onWatchItem:l,...n})},bl=Ts((e=>46===e.keyCode)),wl={...kr,color:"#d7bb52"},kl={...kr,color:"#80c040"},Sl={...kr,...xr},Tl={padding:8},Rl=e=>{let{url:t,state:o,number:s,createdAt:n,updatedAt:i,title:r,comments:a,body:c}=e;const d=(0,l.useRef)(),[p,u]=Ye(!1),[h,m]=(0,l.useState)(!0),g=(0,l.useCallback)((()=>{m(!1),S(((y(d)||{}).nextElementSibling||{}).firstElementChild)}),[]),x=bl(g),f=Xr(u,{isPropagation:!0});return(0,It.jsxs)(to,{refEl:d,isShow:h,className:"item",onKeyDown:x,children:[(0,It.jsxs)("div",{role:"button",tabIndex:"0",className:pt,onClick:u,onKeyDown:f,children:[(0,It.jsxs)("div",{style:wr,children:[(0,It.jsx)("span",{style:wl,children:o}),(0,It.jsx)("span",{style:kl,children:`(#${s})`}),(0,It.jsx)("span",{style:Sl,children:n}),(0,It.jsx)("span",{style:Sl,children:i})]}),(0,It.jsx)("div",{children:r})]}),(0,It.jsxs)(to,{isShow:p,style:Tl,children:[(0,It.jsx)(zr,{className:"link-wrapper",href:t,children:c}),(0,It.jsx)(fl,{n:a})]})]})},Dl=Ge(((e,t)=>{const{state:o,number:s,created_at:n,updated_at:i,title:r,body:l,comments:a,html_url:c}=e,d=eo(n),p=n===i?"":eo(i),u=d===p?"":p;return(0,It.jsx)(Rl,{url:c,state:o,number:s,createdAt:d,updatedAt:u,title:r,comments:a,body:l},t)})),Il=e=>{const{caption:t,repo:o,issues:s,onCloseItem:n,onWatchItem:i}=e,[r,l]=Ye(!0),a=Ur(i,e,"GitHub Repository Issues"),c=s.length;return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsxs)(gr,{style:br,onClose:n,children:[(0,It.jsxs)("button",{className:lt,title:t,style:jr,onClick:l,children:[(0,It.jsx)("span",{style:kr,children:o}),(0,It.jsx)("span",{children:c})]}),(0,It.jsx)(vs,{caption:"W",title:"Add to Watch",style:vr,onClick:a})]}),(0,It.jsx)(to,{isShow:r,children:(0,It.jsx)(Dl,{items:s})})]})},Ll=function(e){let{createElement:t,option:o,json:s=[],parentProps:n,onCloseItem:i,onWatchItem:l}=e;const{repo:a,requestType:c,chartType:d,browserType:p,key:u}=o;return t(Il,{key:u,repo:a,requestType:c,caption:a,issues:s,onCloseItem:r(i,d,p,u),onWatchItem:l,...n})},Nl=(e,t)=>{const[o,s,n]=Ye(),i=(0,l.useCallback)((()=>{n(!0)}),[]);return[O((()=>e(t)))[0],o,s,i]},El=function(e,t,o,s){return void 0===o&&(o=dt),void 0===s&&(s=!0),{name:e,onClick:t,cn:o,isClose:s}},_l=e=>{let{onMoveToTop:t,onToggleButtons:o}=e;const s=[El("Move to Top",t),(n=o,"function"==typeof n?El("Toggle Buttons",o):void 0)].filter(Boolean);var n;return{titleCl:dt,pageWidth:150,maxPages:1,p0:s}},$l={position:"relative",top:-2,marginLeft:10},Wl=e=>{let{onClick:t}=e;return(0,It.jsx)(vs,{style:$l,caption:"W",title:"Add to WatchList",onClick:t})},Ol=(e,t)=>{const[{json:o,isLoading:s,isShow:n},i]=(0,l.useState)({json:void 0,isLoading:!1,isShow:!1}),r=(0,l.useCallback)((()=>{i((o=>o.json?{...o,isShow:!o.isShow}:(t({packageName:e,onLoad:e=>{i({json:e,isShow:!0,isLoading:!1})}}),{...o,isLoading:!0})))}),[]);return[o,s,n,r]},Ml=e=>{let{name:t,uri:o,onLoad:s}=e;return fetch(o).then((e=>{const{status:o}=e;if(o>199&&o<300)return e.json();throw new Error((e=>`${e} response isn't OK`)(t))})).then((e=>{if(!e||e.code)throw new Error(e.message||(e=>`${e} response isn't valid`)(t));s(e)})).catch((e=>{console.log(e),s({errMsg:e.message})}))},Al=e=>`https://api.npms.io/v2/package/${e}`,Pl=zs((e=>{let{packageName:t,onLoad:o}=e;return Ml({name:"Npms.io",uri:Al(t),onLoad:o})}),3e3),Bl=e=>`https://bundlephobia.com/api/size?package=${e}`,Fl=zs((e=>{let{packageName:t,onLoad:o}=e;return Ml({name:"Bundlephobia.com",uri:Bl(t),onLoad:o})}),3e3),Vl=(e,t)=>{console.log("Failed to load image with src: "+e)},Hl=e=>{let{alt:t,className:o,src:s}=e;const n=Gr(s);return n?(0,It.jsx)("img",{alt:t,className:o,src:n,onError:r(Vl,n)}):null},Ul=e=>{let{alt:t,href:o,imgClass:s,imgSrc:n}=e;return(0,It.jsx)(zr,{href:o,children:(0,It.jsx)(Hl,{alt:t,className:s,src:n})})},Gl={position:"absolute",display:"inline-block",width:20,height:20},zl=e=>{let{style:t}=e;return(0,It.jsx)("span",{style:{...Gl,...t},"data-loader":"circle"})},ql={position:"relative",display:"inline-block",height:36,border:"1px solid",borderRadius:10},Kl={color:"#a487d4",borderColor:"#a487d4",borderWidth:2,fontWeight:"bold"},Yl={color:"grey",borderColor:"grey",borderWidth:1,fontWeight:"normal"},Jl={display:"inline-block",padding:"0 8px 0 5px"},Xl={display:"inline-block",marginLeft:8,backgroundColor:"grey",width:12,height:12,border:"1px solid grey",borderRadius:"50%"},Ql={backgroundColor:"transparent",border:"none"},Zl={backgroundColor:"#a487d4",borderColor:"#a487d4"},ea={backgroundColor:"grey",borderColor:"grey"},ta={top:5,left:2},oa=(e,t)=>{let o=null;t&&(o=(0,It.jsx)(zl,{style:ta}));const s=t?Ql:e?Zl:ea;return(0,It.jsxs)(It.Fragment,{children:[o,(0,It.jsx)("span",{style:{...Xl,...s}})]})},sa=e=>{let{style:t,isUp:o,isLoading:s,caption:n="",title:i="",onClick:r}=e;const l=o?Kl:Yl;return(0,It.jsxs)("button",{type:"button",title:i,style:{...ql,...t,...l},onClick:r,children:[oa(o,s),(0,It.jsx)("span",{style:Jl,children:n})]})},na=e=>(e||"").replace("git+","").replace(".git","").replace("git://","https://"),ia=e=>-1!==(e||"").indexOf("https://github.com")?"GitHub Repository":"Repository",ra={color:"#f44336",fontWeight:"bold"},la=e=>{let{errMsg:t}=e;return(0,It.jsx)("div",{style:ra,children:t})},aa=e=>{if("object"!=typeof(t=e)||null===t)return null;var t;const{errMsg:o}=e;return!o||(0,It.jsx)(la,{errMsg:o})},ca={display:"inline-block",marginLeft:8},da={fontWeight:600},pa={textAlign:"center"},ua=e=>{let{caption:t="",value:o="N/A"}=e;return(0,It.jsxs)("div",{style:ca,children:[(0,It.jsx)("div",{style:da,children:t}),(0,It.jsx)("div",{style:pa,children:o})]})},ha={padding:"4px 0 0 8px"},ma={marginRight:24},ga=e=>{let{repoHref:t,hpHref:o}=e;return t||o?(0,It.jsxs)("div",{style:ha,children:[(0,It.jsx)(zr,{className:ut,style:ma,href:t,children:ia(t)}),(0,It.jsx)(zr,{className:ut,href:o,children:"Home Page"})]}):null},xa=e=>{let{json:t}=e;const o=aa(t);if(!0!==o)return o;const{analyzedAt:s,collected:n,score:i}=t,{github:r,metadata:l}=n||{},{starsCount:a,issues:c,homepage:d}=r||{},{openCount:p}=c||{},{version:u,license:h,repository:m}=l||{},{final:g}=i||{},x=(e=>{let{type:t,url:o}=e;return"git"===t?na(o):void 0})(m||{});return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{children:[(0,It.jsx)(ua,{caption:"stars",value:a}),(0,It.jsx)(ua,{caption:"issues",value:p}),(0,It.jsx)(ua,{caption:"version",value:u}),(0,It.jsx)(ua,{caption:"score",value:(f=g,(e=>"number"==typeof e)(f)?(""+f).substring(0,5):"")}),(0,It.jsx)(ua,{caption:"license",value:h}),(0,It.jsx)(ua,{caption:"onDate",value:(y=s,"string"==typeof y?y.split("T")[0]:"")})]}),(0,It.jsx)(ga,{repoHref:x,hpHref:d})]});var y,f},ya={marginLeft:8},fa={marginRight:24},ja=e=>(e/1024).toFixed(1),Ca=e=>{let{json:t}=e;const o=aa(t);if(!0!==o)return o;const{name:s,version:n,gzip:i,size:r,dependencyCount:l,description:a,repository:c}=t,d=na(c),p=ia(d),u=((e,t)=>`https://bundlephobia.com/result?p=${e}@${t}`)(s,n);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{children:[(0,It.jsx)(ua,{caption:"name",value:s}),(0,It.jsx)(ua,{caption:"version",value:n}),(0,It.jsx)(ua,{caption:"size kB",value:ja(r)}),(0,It.jsx)(ua,{caption:"gzip kB",value:ja(i)}),(0,It.jsx)(ua,{caption:"dependencyCount",value:l})]}),(0,It.jsx)("div",{style:ya,children:a}),(0,It.jsxs)("div",{style:ya,children:[(0,It.jsx)(zr,{href:d,className:ut,style:fa,children:p}),(0,It.jsx)(zr,{href:u,className:ut,children:"Bundelphobia Link"})]})]})},va={marginLeft:8},ba={marginLeft:16},wa={marginBottom:8},ka={margin:"8px 0"},Sa={height:32,marginLeft:16,marginTop:4,marginBottom:4,padding:"2px 0"},Ta=e=>{let{isButtons:t,packageName:o,packageLink:s}=e;const[{isLoadNodeIco:n,isShowNodeIco:i},r]=(0,l.useState)({isLoadNodeIco:!1,isShowNodeIco:!1}),[a,c,d,p]=Ol(o,Pl),[u,h,m,g]=Ol(o,Fl),x=(0,l.useCallback)((()=>{r((e=>({isLoadNodeIco:!0,isShowNodeIco:!e.isShowNodeIco})))}),[]);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(to,{isShow:t,children:(0,It.jsxs)("div",{style:ba,children:[(0,It.jsx)(zr,{className:ut,href:s,children:"NPM Link"}),(0,It.jsx)(sa,{style:Sa,isUp:i,caption:"NodeICO",title:"Package badge from Nodei.co",onClick:x}),(0,It.jsx)(sa,{style:Sa,isUp:d,isLoading:c,caption:"NPMS.IO",title:"Click to load package info from npms.io",onClick:p}),(0,It.jsx)(sa,{style:Sa,isUp:m,isLoading:h,caption:"Bundlephobia.com",title:"Click to load package info from bundlephobia.com",onClick:g})]})}),(0,It.jsxs)("div",{style:va,children:[(0,It.jsx)(to,{isShow:i,style:ka,children:n&&(0,It.jsx)(Ul,{href:s,imgClass:"node-ico",imgSrc:`https://nodei.co/npm/${o}.png?downloads=true&downloadRank=true&stars=true`})}),(0,It.jsx)(to,{isShow:d,style:wa,children:(0,It.jsx)(xa,{json:a})}),(0,It.jsx)(to,{isShow:m,style:wa,children:(0,It.jsx)(Ca,{json:u})})]})]})},Ra={paddingLeft:4},Da={paddingTop:4},Ia={legend:{position:"top"}},La=e=>{let{type:t,options:o,chartType:s,caption:n,packageName:i,requestType:r,sumDownloads:a=0,toDate:c,fromDate:d,labels:p,data:u,packageLink:h,onWatchItem:m,onMoveToTop:g,onCloseItem:x}=e;const[y,f]=Ye(!0),[j,C]=Ye(!0),[v,b,w,k]=Nl(_l,{onMoveToTop:g,onToggleButtons:C}),S=(0,l.useCallback)((()=>{k(!0)}),[]),T=(0,l.useCallback)((()=>{const e=`${i} ${a}`;m({caption:e,config:{requestType:r,repo:i,descr:"Npm Recent Month Downloads",version:a,caption:e,date:c}})}),[]),R=Xi({labels:p,data:u});return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsx)(Cn,{isShow:b,className:at,model:v,onClose:w}),(0,It.jsxs)(gr,{style:Ra,onClose:x,children:[(0,It.jsx)(vn,{style:fr,onClick:S}),(0,It.jsx)(Er,{caption:n,packageName:i,sumDownloads:a,fromDate:d,toDate:c,onClick:f}),(D=m,"function"==typeof D&&(0,It.jsx)(Wl,{onClick:T}))]}),(0,It.jsxs)(to,{isShow:y,style:Da,children:[(0,It.jsx)(ur,{type:t,data:R,options:o||Ia}),(0,It.jsx)(Ta,{isButtons:j,packageName:i,packageLink:h})]})]});var D},Na=()=>({}),Ea=function(e,t){return void 0===t&&(t=Na),o=>{const{createElement:s,option:n,json:i,parentProps:l,onMoveToTop:a,onCloseItem:c}=o,{requestType:d,chartType:p,browserType:u,key:h,packageLink:m}=n,{downloads:g,package:x}=i,{sumDownloads:y,fromDate:f,toDate:j,labels:C,data:v}=e(g);return s(La,{key:h,packageName:x,caption:x,packageLink:m,requestType:d,sumDownloads:y,fromDate:f,toDate:j,labels:C,data:v,onMoveToTop:a,onCloseItem:r(c,p,u,h),...t(o),...l})}},_a=Ea((function(e){void 0===e&&(e=[{day:"0-0-0",downloads:0}]);const t=[],o=[],s=e[0].day,n=e[e.length-1].day;let i=0;return e.forEach((e=>{const{day:s,downloads:n}=e,r=s.split("-");t.push(`${r[2]}`),o.push(n),i+=n})),{sumDownloads:i,fromDate:s,toDate:n,labels:t,data:o}})),$a=Ea((function(e){void 0===e&&(e=[{day:"1970-01-01",downloads:0}]);const t=[],o=[],s=e.length,n=e[0].day,i=s>0?e[s-1].day:n,r=s>30?Math.round(s/30):1;let l=0;return e.forEach(((s,n)=>{const{day:i,downloads:c}=s,[d,p,u]=i.split("-");if(n%r==0)if(((e,t,o)=>{const s=new Date(Date.UTC(qt(e+""),Kt(t+""),qt(o+"")));if(a(s))return!1;const n=s.getUTCDay();return 0===n||6===n})(d,p,u)){if(n-2>-1){const s=e[n-2],{day:i,downloads:r}=s,[l,a,c]=i.split("-");t.push(`${a}-${c}`),o.push(r)}}else t.push(`${p}-${u}`),o.push(c);l+=c})),((e,t)=>{const o=e.length-1;o>=0&&0===e[o]&&(e.splice(o),t.splice(o))})(o,t),{sumDownloads:l,fromDate:n,toDate:i,labels:t,data:o}})),Wa=Ea((e=>{let t=[],o=[];return Object.keys(e).map((t=>[t,e[t]])).sort(((e,t)=>t[1]-e[1])).slice(0,10).forEach((e=>{t.push(e[0]),o.push(e[1])})),{data:o,labels:t,sumDownloads:o.reduce(((e,t)=>e+t),0)}}),(()=>({type:"bar",options:{indexAxis:"y"}}))),Oa={lt:60,gt:62,quot:34,apos:39,amp:38},Ma=/&(#\d+|[a-z]+);/g,{fromCharCode:Aa,fromCharPoint:Pa}=String,Ba=Aa(65533),Fa=(e,t)=>{let o;return"#"===t[0]?(o=parseInt(t.substring(1),10),o-o==0?o>=1114111?Ba:o>65535?Pa(o):Aa(o):`&${t};`):(o=Oa[t],o?Aa(o):`&${t};`)},Va=e=>h(e)?e.replace(Ma,Fa):"",Ha="border-left";let Ua,Ga=()=>Ua.style;const za=e=>{Ua&&Ga().removeProperty(Ha),Ua=e.currentTarget,Ga().setProperty(Ha,"4px solid #d64336")},qa=()=>{Ua&&(Ga().removeProperty(Ha),Ua=null)},Ka=e=>{e.preventDefault()},Ya=ze?{MARK_REMOVE:50,REMOVE_ITEM:90,REMOVE_UNDER:150}:{MARK_REMOVE:25,REMOVE_ITEM:35,REMOVE_UNDER:150},Ja=e=>(((e||{}).touches||[])[0]||{}).clientX||0,Xa=(e,t,o,s)=>{const n=(0,l.useRef)();return(0,l.useMemo)((()=>{const i=e=>Math.abs(y(n)-e),r=n=>{if(n){const r=i(n);r>Ya.REMOVE_UNDER?s(e):r>Ya.REMOVE_ITEM&&(o(e),t(!0))}};return ze?{onTouchStart:e=>{const t=Ja(e);t&&f(n,t)},onTouchMove:e=>{const t=Ja(e);t&&i(t)>Ya.MARK_REMOVE&&za(e)},onTouchEnd:e=>{qa(),r((e=>(((e||{}).changedTouches||[])[0]||{}).clientX||0)(e))}}:{draggable:!0,onDragStart:e=>{f(n,e.clientX),za(e),e&&e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move")},onDragEnd:e=>{e.preventDefault(),qa(),r(e.clientX)},onDrop:Ka,onDragOver:Ka,onDragEnter:Ka,onDragLeave:Ka}}),[])},Qa={color:"gray"},Za={...tt,color:"black",marginLeft:10},ec=e=>{let{isShowDate:t,style:o,dateAgo:s,date:n=""}=e;const[i,r]=Ye(t,!0),l=i?tt:ot;return(0,It.jsxs)("span",{children:[(0,It.jsx)("span",{role:"button",tabIndex:"-1",style:{...Qa,...o},onClick:n?r:void 0,children:s}),(0,It.jsx)("span",{style:{...Za,...l},children:n})]})},tc={display:"inline-block",color:"black",padding:"4px 8px",margin:"6px 8px 2px 8px",borderRadius:16,backgroundColor:"gray"},oc=e=>{let{tags:t}=e;return(0,It.jsx)("div",{children:(t||[]).map(((e,t)=>(0,It.jsx)("span",{style:tc,children:e},t)))})},sc=(e,t,o)=>ze?e:(0,It.jsx)("span",{role:"img","arial-label":t,children:String.fromCharCode(...o)}),nc=rt("row-item"),ic={display:"none"},rc={display:"inline-block"},lc={fontSize:"18px"},ac={display:"flex",flexWrap:"wrap",paddingBottom:8},cc={color:"#6495ed",padding:"2px 8px 2px 0"},dc={...rc,...lc,paddingRight:8},pc={...dc,color:"#d7bb52"},uc={...dc,color:"#80c040"},hc={...dc,color:"black"},mc={...rc,...lc},gc={...lc,paddingBottom:8},xc=sc("A","hammer and pick",[9874]),yc=sc("S","fish",[55357,56351]),fc=sc("V","wheel of dharma",[9784]),jc=sc("R","shamrock",[9752]),Cc=()=>{},vc=e=>{let{item:t,onRemoveItem:o=Cc,onRemoveUnder:s=Cc}=e;const[n,i]=(0,l.useState)(!1),r=Xa(t,i,o,s),{is_answered:a,bounty_amount:c,answer_count:d,score:p,view_count:u,title:h,dateAgo:m,link:g,owner:x,tags:y}=t,{reputation:f,display_name:j}=x||{};return(0,It.jsx)("div",{className:nc,style:n?ic:void 0,...r,children:(0,It.jsxs)(zr,{href:g,children:[(0,It.jsxs)("div",{style:ac,children:[c&&(0,It.jsx)("span",{style:cc,children:`+${c}`}),(0,It.jsxs)("span",{style:a?uc:pc,children:[xc," ",d]}),(0,It.jsxs)("span",{style:pc,children:[yc," ",p]}),(0,It.jsxs)("span",{style:hc,children:[fc," ",u]}),(0,It.jsxs)("span",{style:uc,children:[jc," ",f]}),(0,It.jsx)("span",{style:hc,children:j}),(0,It.jsx)(ec,{style:mc,dateAgo:m})]}),(0,It.jsx)("div",{style:gc,children:h}),(0,It.jsx)(oc,{tags:y})]})})},bc=Ge(((e,t,o)=>{let{onRemoveItem:s}=o;return(0,It.jsx)(vc,{item:e,onRemoveItem:s},e.question_id||t)})),wc="bounty_amount",kc="reputation",Sc=e=>t=>{const o=(e=>e.split("_").map(ui).join(" "))(t);return{name:o,onClick:r(e,t,o),isClose:!0}},Tc=function(e){let{setSortByProp:t,reverse:o}=void 0===e?{}:e;const s=Sc(t);return{titleCl:dt,pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",cn:dt,name:"Sort By, DESC"}],p1:[s(wc),s("answer_count"),s("score"),s("view_count"),s(kc),{name:"Reverse Items",onClick:o,isClose:!0}]}},Rc=function(e,t,o){void 0===o&&(o=2);const s=u(t),n=u(e);return s||n?s&&!n?1:!s&&n?-1:o:0},Dc=e=>(t,o)=>{const s=e(o),n=e(t),i=Rc(n,s);return 2===i?s-n:i},Ic=Dc((e=>{const{owner:t}=e||{};return(t||{})[kc]||0})),Lc={[kc]:Ic,[wc]:Dc((e=>(e||{})[wc]||0))};var Nc;Nc=Lc,Object.setPrototypeOf(Nc,null);const Ec=(e,t)=>t?e.sort(Lc[t]||(e=>(t,o)=>{const s=o[e],n=t[e],i=Rc(n,s);return 2!==i?i:s===n?Ic(t,o):s-n})(t)):e,_c={position:"relative",top:3,marginRight:12},$c={color:"#a9a9a9",padding:"0 12px"},Wc={color:"#a487d4",fontWeight:"bold",cursor:"pointer"},Oc={float:"none"},Mc=[],Ac=e=>{const{repo:t,caption:o,onCloseItem:s}=e,[n,i]=(0,l.useState)((()=>({items:e.items||Mc,pnForSort:"",titleForSort:"",itemRemoved:0}))),{items:r,titleForSort:a,itemRemoved:c}=n,[d,p]=Ye(!0),u=(0,l.useCallback)((()=>{i((e=>({...e,items:[...e.items.reverse()]})))}),[]),h=(0,l.useCallback)(((e,t)=>{i((o=>({...o,pnForSort:e,titleForSort:t,items:[...Ec(o.items,e)]})))}),[]),m=(0,l.useCallback)((()=>{i((e=>({...e,itemRemoved:e.itemRemoved+1})))}),[]),[g,x,y,f]=Nl(Tc,{setSortByProp:h,reverse:u}),j=r.length,C=c?`${j-c}/${j}`:`${j}`,v=`Sorted By ${a}`;return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsx)(Cn,{isShow:x,className:at,model:g,onClose:y}),(0,It.jsxs)(gr,{onClose:s,children:[(0,It.jsx)(vn,{style:_c,onClick:f}),(0,It.jsxs)("button",{className:it,title:o,style:{...jr,...Oc},onClick:p,children:[(0,It.jsx)("span",{children:t}),(0,It.jsx)("span",{style:$c,children:C})]}),(0,It.jsx)("button",{className:it,style:Wc,title:"Reverse Items",onClick:u,children:v})]}),(0,It.jsx)(to,{isShow:d,children:(0,It.jsx)(bc,{items:r,onRemoveItem:m})})]})},Pc=e=>{const t=Date.now();return E(e,(e=>{const{title:o,last_activity_date:s,owner:n}=e,{display_name:i}=n||{};var r,l;return e.dateAgo=(l=t,u(r=s)?zt(1e3*r,l):""),e.title=Va(o),e.owner.display_name=Va(i),e}))},Bc=e=>{let{createElement:t,option:o,json:s,parentProps:n,onCloseItem:i,onWatchItem:l}=e;const{repo:a,requestType:c,chartType:d,browserType:p,key:u}=o,{items:h}=s||{},m=Pc(h);return t(Ac,{key:u,repo:a,requestType:c,caption:a,items:m,onCloseItem:r(i,d,p,u),onWatchItem:l,...n})},Fc={...jr,position:"relative",top:-3},Vc={paddingLeft:4},Hc={padding:"0 10px"},Uc={paddingTop:12},Gc={margin:"4px 0 0 16px"},zc=(e,t)=>{const o=(e=>{let{labels:t=["1","2"],data:o=[[0,0]],numVisible:s=5}=e;const n=Ki.length;return{labels:t,datasets:o.map(((e,t)=>Ji({data:e,strColor:Ki[t%n],hidden:t>=s})))}})({labels:e,data:t}),s=o.datasets.length;return[o,150+16*Math.floor(s/5)]},qc=e=>{let{caption:t,fromDate:o,toDate:s,labels:n,data:i,sourceLink:r,onMoveToTop:l,onCloseItem:a}=e;const[c,d]=Ye(!0),[p,u,h,m]=Nl(_l,{onMoveToTop:l}),[g,x]=zc(n,i);return(0,It.jsxs)("div",{style:yr,children:[(0,It.jsx)(Cn,{isShow:u,className:at,model:p,onClose:h}),(0,It.jsxs)(gr,{style:Vc,onClose:a,children:[(0,It.jsx)(vn,{style:fr,onClick:m}),(0,It.jsxs)("button",{className:lt,title:t,style:Fc,onClick:d,children:[(0,It.jsx)("span",{children:t}),(0,It.jsx)("span",{style:Hc,children:o}),(0,It.jsx)("span",{children:s})]})]}),(0,It.jsxs)(to,{isShow:c,style:Uc,children:[(0,It.jsx)(ur,{data:g,height:x}),(0,It.jsx)(zr,{className:ut,style:Gc,href:r,children:"Statcounter Chart"})]})]})},Kc=function(e,t){void 0===t&&(t=5);const{Date:o,...s}=e[e.length-1],n=(e=>{const t=[];for(let o in e)t.push({caption:o,value:parseFloat(e[o])});return t})(s);n.sort(((e,t)=>t.value-e.value));const i=[],r=n.length;for(let e=0;e<r;e++){const t=n[e].caption;t&&i.push(t)}return i},Yc={DEFAULT:qi,CR_DOWNLOADS:Fr,GH_RELEASE_RECENT:Jr,GH_TAGS:hl,GH_SEARCH_INFO:xl,GH_COMMITS:vl,GH_ISSUES:Ll,GH_PULL_REQUESTS:Ll,NPM_DOWNLOADS_RECENT_MONTH:_a,NPM_DOWNLOADS:$a,NPM_TOP_VERSIONS:Wa,SE_QUESTIONS:Bc,SE_SEARCH_QUESTIONS:Bc,ST_OSVERSION:e=>{let{createElement:t,option:o,json:s,parentProps:n,onMoveToTop:i,onCloseItem:l,onWatchItem:a}=e;const{requestType:c,chartType:d,browserType:p,key:u,sourceLink:h}=o,m=(e=>e.data.filter((e=>Boolean(e.Date))))(s),{labels:g,data:x}=(e=>{const t=[],o=Kc(e),s=o.length,n=o.map((e=>{const t=[];return t.seriaName=e,t}));return e.forEach((e=>{t.push(e.Date);for(let t=0;t<s;t++){const o=n[t];o.push(e[o.seriaName])}})),{labels:t,data:n}})(m),y=g[0],f=g[g.length-1],j=function(e){let{caption:t,region:o={}}=void 0===e?{}:e;return`${o.caption||""}: ${t}`}(o);return t(qc,{key:u,caption:j,requestType:c,fromDate:y,toDate:f,labels:g,data:x,sourceLink:h,onMoveToTop:i,onCloseItem:r(l,d,p,u),...n})}},Jc=(e,t,o)=>{const{requestType:s,chartType:n,key:i}=e;return(Yc[s]||Yc.DEFAULT)({createElement:l.createElement,option:e,json:t,parentProps:o,onMoveToTop:Cp.bind(null,n,i),onCloseItem:xp,onWatchItem:Mp})},Xc=e=>{let{chartType:t,onMinWidth:o,onInitialWidth:s,onPlusWidth:n,onMinusWidth:i,onRemoveAll:r}=e;return{titleCl:dt,pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Resize"},{name:"Remove All Items",onClick:r,isClose:!0}],p1:[{name:"to MinWidth",onClick:o},{name:"to InitialWidth",onClick:s},{name:"+10px to Width",onClick:n},{name:"-10px to Width",onClick:i}]}},Qc="gap-right cont-caption",Zc={padding:"0 8px 0 6px",fontSize:"18px",fontWeight:"500"},ed={position:"absolute",top:6,right:0},td={paddingLeft:0},od=e=>"function"==typeof e,sd=e=>{let{style:t,moreStyle:o,caption:s="",onMore:n,onClose:i,children:r}=e;return(0,It.jsxs)("div",{className:Qc,style:t,children:[od(n)&&(0,It.jsx)(vn,{style:o,onClick:n}),(0,It.jsx)("span",{className:it,style:st(Zc,od(n)&&td),children:s}),r,(0,It.jsx)(kn,{style:ed,onClose:i})]})},nd=e=>{let{refEl:t,style:o,className:s,onFocusIn:n,children:i}=e;const r=(0,l.useRef)(),a=Qe("with-scroll",s);return(0,l.useImperativeHandle)(t,(()=>({scrollTop:()=>{const e=y(r);e&&(e.scrollTop=0)}})),[]),(0,It.jsx)("div",{ref:r,className:a,style:o,onFocus:n,children:i})},id=Object.assign,rd=e=>{id(e,{id:null,delta:0,step:1,countStep:0})};const ld=class{constructor(e){rd(this);const{elementRef:t,onResizeAfter:o,initWidth:s,minWidth:n,maxWidth:i}=e;this.elementRef=t,this.onResizeAfter=o,this.initWidth=s,this.currentWidth=this.initWidth,this.minDelta=n-this.initWidth,this.maxDelta=i-this.initWidth,this.onStopRezise=r(this._hStopResize,!0),this.onStartResizeLeft=r(this._hStartResize,this._resizeLeft),this.onStartResizeRight=r(this._hStartResize,this._resizeRight)}_increaseStepValue=()=>{this.countStep+=1,this.countStep>30?this.step=3:this.countStep>15&&(this.step=2),(this.maxDelta-this.delta<20||this.delta-this.minDelta<20)&&(this.step=1)};_getElementStyle=()=>{const{current:e}=this.elementRef||{},{style:t}=e||{};return t||{}};_resizeLeft=()=>{this.delta>this.minDelta&&(this.delta-=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())};_resizeRight=()=>{this.delta<this.maxDelta&&(this.delta+=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())};_updateDelta=()=>{const e=parseInt(this._getElementStyle().width,10);isNaN(e)||(this.delta=e-this.initWidth)};_hStartResize=e=>{null!==this.id&&this._hStopResize(!1),this._updateDelta(),this.id=setInterval(e,5)};_hStopResize=(e,t)=>{clearInterval(this.id),rd(this);const{onResizeAfter:o}=this;e&&m(o)&&o(this.currentWidth)}},ad=e=>{const t=O((()=>new ld(e)))[0];return(0,l.useMemo)((()=>{const[e,o]=ze?["onTouchStart","onTouchEnd"]:["onMouseDown","onMouseUp"],{onStopRezise:s,onStartResizeLeft:n,onStartResizeRight:i}=t;return[{[e]:n,[o]:s},{[e]:i,[o]:s}]}),[])},cd="svg-resize",dd={display:"inline-block"},pd={marginLeft:10},ud=e=>{const[t,o]=ad(e);return(0,It.jsxs)("div",{style:dd,children:[(0,It.jsx)("div",{className:cd,style:pd,title:"Resize container horizontal left",...t,children:(0,It.jsxs)(bn,{children:[(0,It.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,It.jsx)("path",{d:"M 6,2 L 1,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})}),(0,It.jsx)("div",{className:cd,style:pd,title:"Resize container horizontal right",...o,children:(0,It.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,It.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,It.jsx)("path",{d:"M 6,2 L 11,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})})]})},hd={backgroundColor:"#4d4d4d",height:"calc(100vh - 71px)",minHeight:500,marginLeft:10,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)"},md={...hd,minWidth:270,maxWidth:400,paddingBottom:16},gd={...hd,position:"relative",minWidth:300,maxWidth:700,padding:"0px 0px 16px"},xd={...hd,position:"relative",width:635,padding:"0px 0px 16px",overflowY:"hidden",overflowX:"hidden"},yd={overflowY:"auto",height:"92%",paddingRight:10},fd={position:"relative",top:3,marginRight:6},jd=e=>parseInt(e.width,10)||635,Cd=e=>e+"px",vd=e=>{const{style:t}=e||{};return t||{}},bd=(e,t)=>{vd(y(e)).width=Cd(t)},wd=e=>{let{caption:t,browserType:o,chartType:s,onRemoveAll:n,onCloseContainer:i}=e;const r=(0,l.useRef)(),a=(0,l.useRef)(),[c,d]=(0,l.useState)((()=>({isShow:!1,configs:[],chartType:s}))),{isShow:p,configs:u}=c,[h,m,g,x]=Nl(Xc,{chartType:s,onMinWidth:()=>bd(r,375),onInitialWidth:()=>bd(r,635),onPlusWidth:()=>(e=>{const t=vd(y(e)),o=jd(t)+10;o<1200&&(t.width=Cd(o))})(r),onMinusWidth:()=>(e=>{const t=vd(y(e)),o=jd(t)-10;o>375&&(t.width=Cd(o))})(r),onRemoveAll:n}),f=(0,l.useCallback)((()=>{i(s,o),d((e=>({...e,isShow:!1})))}),[]);(0,l.useEffect)((()=>{d((e=>({...e,...cp(s)})))}),[]),dp((e=>{if(e&&(e.chartType===s&&e.close&&f(),e.chartCont&&e.chartCont.chartType===s)){const t=y(a);t&&t.scrollTop(),d((t=>({...t,...e.chartCont})))}}));const[j,C]=p?[tt,nt]:[ot];return(0,It.jsxs)("div",{ref:r,className:C,style:{...xd,...j},children:[(0,It.jsx)(Cn,{isShow:m,className:at,model:h,onClose:g}),(0,It.jsx)(sd,{moreStyle:fd,caption:t,onMore:x,onClose:f,children:(0,It.jsx)(ud,{elementRef:r,initWidth:635,minWidth:375,maxWidth:1200})}),(0,It.jsx)(nd,{refEl:a,style:yd,children:(0,It.jsx)("div",{children:u})})]})},kd=(e,t)=>{const o=e.chartContainerComp||wd,s=e.type;return(0,It.jsx)(o,{caption:e.chartContainerCaption,chartType:s,browserType:t,onCloseContainer:yp.bind(null,s,t),onRemoveAll:jp.bind(null,s,t)},s)},Sd="loading",Td="loadingComplete",Rd="loadingFailed",Dd=q(),Id=Dd.setValue,Ld=q(),Nd=e=>{Ld.setValue(null==e?void 0:e)},Ed=Dd.useAtomValue,_d=Ld.useAtomValue,$d=Array.isArray,Wd=(e,t)=>((((e,t)=>{if($d(e))for(const o of e){const e=o.items;if($d(e))for(const o of e)if(o.id===t)return o}})(e,t)||{}).atomCounter||{}).setValue,Od=(e,t,o)=>{const s=Wd(t,e);s&&s((e=>({v:e.v,is:o})))},Md=(e,t,o)=>{const s=Wd(t,e);s&&s((e=>({v:e.v+o,is:!0})))},Ad=Object.create(null),Pd=(e,t)=>{Ad[e]=t||[]},Bd=(e,t)=>(o,s)=>{s!==oe&&e(o,Ad[s],t)},Fd=Bd(Od,!0),Vd=Bd(Od,!1),Hd=Bd(Md,1),Ud=Bd(Md,-1),Gd=Bd(((e,t)=>{const o=Wd(t,e);o&&o((e=>({v:0,is:e.is})))})),zd={WL_WATCH_LIST:{type:"WL_WATCH_LIST",menuTitle:"Watch List",dialogCaption:"Watch List",chartContainerCaption:"Watch List"}},qd=Object.create(null);qd.WL=zd;const Kd=e=>{const t=e.split("_")[0];return qd[t][e]},Yd=Array.isArray,Jd=(e,t)=>{if(!(e=>"object"==typeof e&&null!==e)(e))return!1;const o=e.configs;if(!Yd(o))return!1;const s=o.findIndex((e=>e.key===t));return-1!==s&&(o.unshift(o[s]),o.splice(s+1,1),!0)},Xd={caption:"Already loaded",descr:"This item already has been loaded\nto container, moved to top."},Qd="color:rgb(237, 88, 19);",[Zd,ep]=H("items"),[tp,op]=H("msItem"),sp=G(tp,(e=>({chartCont:e}))),np=G(tp,((e,t)=>({Comp:kd(Kd(e),t)}))),ip=G(tp,(e=>({chartType:e,close:!0}))),rp=F((()=>({...Zd({}),...tp()}))),[lp,ap]=V(rp),cp=e=>ep(ap())[e],dp=z(rp,op),pp=e=>({chartType:e,configs:[],isShow:!0}),up=(e,t)=>{const o=cp(e);if(o)o.isShow=!0,lp(sp(o));else{ep(ap())[e]=pp(e),lp(np(e,t))}Fd(e,t)},hp=(e,t)=>{const{chartType:o,browserType:s}=e,n=Jc(e,t,{chartType:o,browserType:s}),i=cp(o);if(i)i.configs.unshift(n),i.isShow=!0,lp(sp(i));else{const e=ep(ap());e[o]=pp(o),e[o].configs.unshift(n),lp(np(o,s))}var r;r=e.limitRemaining,Id(Td),Nd(r),Hd(o,s)},mp=e=>{var t;e.alertItemId=e.alertItemId||e.repo||"",Ap(e),(e=>{let{alertCaption:t,alertDescr:o,alertItemId:s}=e;console.log("%c"+t+":"+s,Qd),console.log("%c"+o,Qd)})(e),t=e.limitRemaining,Id(Rd),Nd(t)},gp=(e,t,o)=>{const{loadId:s="LW"}=o;o.chartType=e,o.browserType=t;const{crKey:n,loadItem:i}=Gi[s],r=n(o);((e,t)=>{const{chartType:o}=t,s=cp(o);return Jd(s,e)})(r,o)?(setTimeout((()=>Ap(Xd)),1e3),up(e,t)):(o.key=r,Id(Sd),i(o,hp,mp))},xp=(e,t,o)=>{const s=cp(e);s.configs=s.configs.filter((e=>e.key!==o)),lp(sp(s)),Ud(e,t)},yp=Vd,fp=(e,t)=>{lp(ip(e))},jp=(e,t)=>{const o=((e,t)=>{const o=e[t]||{};return o.configs=[],o})(ap().items,e);Gd(e,t),lp(sp(o))},Cp=(e,t)=>{const o=cp(e);Jd(o,t)&&lp(sp(o))},vp=(e,t)=>{const o=e.type,s=e.dialogType&&ti[e.dialogType]||ti.DEFAULT;return(0,It.jsx)(s,{caption:e.dialogCaption,optionURI:e.optionURI,optionsJsonProp:e.optionsJsonProp,onLoad:gp.bind(null,o,t),onShow:up.bind(null,o,t),...e.dialogProps},o)},[bp,wp]=H("msAbout","is"),[kp,Sp]=H("dgOption"),[Tp,Rp]=H("mdOption"),Dp=F((()=>({...bp(!0),...kp(),...Tp()}))),[Ip]=V(Dp),Lp=z(Dp,wp),Np=()=>Ip(bp(!0)),Ep=z(Dp,Sp),_p=Object.create(null),$p=(e,t)=>{if(_p[e])Ip(kp({dialogType:e}));else{_p[e]=!0;const o=vp(Kd(e),t);Ip(kp({dialogType:e,dialogComp:o}))}},Wp=z(Dp,Rp),Op=function(e,t){void 0===t&&(t={}),t.modalDialogType=e,Ip(Tp({...t}))},Mp=r(Op,J),Ap=r(Op,K),Pp=r(Op,Y),Bp=(e,t,o)=>e.map((e=>{let{caption:s,isInitClose:n,items:i}=e;return{caption:s,isInitClose:n,items:i.map((e=>{let{id:s}=e;return{id:s,title:t[s].menuTitle,atomCounter:q({v:0,is:!1}),onClick:$p.bind(null,s,o),onOpen:up.bind(null,s,o),onClose:fp.bind(null,s)}}))}})),Fp=e=>{const[t,o]=(0,l.useState)((()=>[!!e,()=>o((e=>[!0,e[1],e[2]])),()=>o((e=>[!1,e[1],e[2]]))]));return t},Vp=e=>{const[t,o,s]=Fp(e);return[t,o,s,Rs(s)]},Hp=(e,t)=>{const o=(0,l.useRef)();return(0,l.useEffect)((()=>{t&&e&&T(o)}),[e,t]),o},Up=()=>[],Gp=function(e,t){void 0===t&&(t=Up);const[o,s]=(0,l.useState)(t),[n,i,r,a]=Vp(e);return[o,s,n,i,r,a,Hp(n,o)]},zp=[void 0,x],qp=()=>{const e=(0,l.useRef)();return qe?(0,l.useMemo)((()=>[t=>{f(e,t.target)},()=>T(e)]),[]):zp},Kp=e=>{let{isShow:t,style:o,onKeyDown:s,children:n}=e;const[i,r]=(e=>e?[et,nt]:[ot])(t);return(0,It.jsx)("div",{className:r,style:{...md,...o,...i},role:"presentation",onKeyDown:s,children:n})},Yp=e=>{let{style:t,caption:o="",onClose:s,children:n}=e;return(0,It.jsxs)("div",{className:Qc,style:t,children:[(0,It.jsx)("span",{className:it,style:Zc,children:o}),n,(0,It.jsx)(kn,{style:ed,onClose:s})]})},Jp={color:"#a487d4"},Xp=e=>{let{atom:t,onOpen:o,onClose:s}=e;const{useAtomValue:n}=t,{is:i,v:r}=n(),a=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),i?s():o()}),[i,o,s]),c=i?Jp:null;return 0===r?null:(0,It.jsx)(Ho,{className:"menu__badge",style:c,caption:r,onClick:a})},Qp=rt(),Zp={paddingLeft:6},eu=e=>{let{item:t,className:o}=e;const s=Xr(t.onClick);return(0,It.jsxs)("div",{role:"menuitem",tabIndex:0,className:o,onClick:t.onClick,onKeyDown:s,children:[t.title,(0,It.jsx)(Xp,{atom:t.atomCounter,onOpen:t.onOpen,onClose:t.onClose})]})},tu=e=>{let{refFirstItem:t,rowClass:o,caption:s,items:n,isInitClose:i}=e;return(0,It.jsx)(nl,{refItem:t,styleCaptionRow:Zp,fillOpen:"#1b2836",fillClose:"transparent",caption:s,isClose:i,children:(n||[]).map(((e,t)=>(0,It.jsx)(eu,{className:`${o||"row__topic"} ${Qp}`,item:e},e.id||t)))})},ou={overflowY:"auto",height:"92%",paddingRight:10},su=e=>{let{isShowInitial:t,caption:o,rowClass:s,browserType:n,useMsBrowserDynamic:i,onLoadMenu:r,children:a}=e;const c=(0,l.useRef)(!1),[d,p,u,h,m,g,x]=Gp(t),[j,C]=qp();return i((e=>{if(e&&e.browserType===n){const{menuItems:t}=e;t?(f(c,!0),p([...t])):(h(),C())}})),(0,l.useEffect)((()=>{u&&!y(c)&&r()}),[u]),(0,It.jsxs)(Kp,{isShow:u,onKeyDown:g,children:[(0,It.jsx)(Yp,{caption:o,onClose:m}),(0,It.jsxs)(nd,{style:ou,onFocusIn:j,children:[d.map(((e,t)=>(0,l.createElement)(tu,{...e,key:t,rowClass:s,refFirstItem:0===t?x:void 0}))),a]})]})},nu=Fe((e=>(0,It.jsx)(su,{...e}))),iu=e=>{let{browserType:t,caption:o,sourceMenuUrl:s,rowClass:n}=e;return(0,It.jsx)(nu,{isShowInitial:!0,browserType:t,caption:o,rowClass:n,useMsBrowserDynamic:fu,onLoadMenu:r(wu,{browserType:t,caption:o,sourceMenuUrl:s})},t)},[ru,lu]=H("msBrowser","id"),[au,cu]=H("msBrowserDynamic"),du=U(au,"elBrowser"),pu=U(au,"browserType","menuItems"),uu=F((()=>({...ru(),...au()}))),[hu]=V(uu),mu=z(uu,lu),gu=e=>hu(ru(e)),xu=r(gu,oe),yu=r(gu,se),fu=z(uu,cu),ju=e=>{const{browserType:t}=e;if((e=>Ad[e])(t))hu(pu(t));else{const o=iu(e);Pd(t),hu(du(o))}},Cu=e=>{let{json:t,option:o,onCompleted:s}=e;const{menu:n,items:i}=t,{browserType:r}=o;s({menu:n,items:i,browserType:r})},vu=e=>{let{menu:t,items:o,browserType:s}=e;const n=Bp(t,o,s);((e,t)=>{qd[e]=t})(s,o),Pd(s,n),hu(pu(s,n))},bu=e=>{e.alertItemId=e.alertItemId||e.caption||"",Ap(e)},wu=e=>{we({uri:e.sourceMenuUrl,option:e,onCheckResponse:e=>!0,onFetch:Cu,onCompleted:vu,onCatch:Pe,onFailed:bu})},ku=(e,t)=>{try{const o=new Blob([JSON.stringify(e)],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(o),s.rel="noopener",s.target="_blank",s.download=t,s.click(),"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(s.href),s.remove()}catch(e){console.log(e.message)}},Su=window.localStorage,Tu=JSON.stringify,Ru=JSON.parse,Du=e=>({message:e}),Iu=Du("LocalStorage is absent"),Lu=(Du("Use LocalStorage is not allowed"),!!Su);const Nu=e=>`LW_${e}`,Eu=e=>{if(!Lu)return[void 0,{...Iu}];try{return[Ru(Su[Nu(e)])]}catch(e){return[void 0,e]}},_u={groups:[{caption:"GitHub Libraries",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]},{caption:"Npm Packages",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]}]},$u="crGroup",Wu="renGroup",Ou="delGroup",Mu="crList",Au="renList",Pu="delList",Bu="addItem",Fu=e=>(t,o,s)=>c(o)?o[e]((e=>e[t]===s)):void 0,Vu=Fu("findIndex"),Hu=Fu("find"),Uu=(e,t,o,s)=>{return Hu(t,!!(n=o)&&"object"==typeof n&&!c(n)&&o[e],s);var n},Gu=(e,t)=>({isDone:!1,message:Se(e,t)}),zu=e=>({isDone:!1,message:Te(e)}),qu=(e,t)=>({isDone:!1,message:Re(e,t)}),Ku=((e,t,o)=>t.filter(((t,s)=>t[e]!==o))).bind(null,"caption"),Yu=(e,t)=>c(e)?[...e,t]:[t],Ju=(e,t,o)=>[...e.slice(0,t),{...e[t],caption:o},...e.slice(t+1)],Xu=function(e,t,o){return void 0===o&&(o=[]),0===t?[{...e},...o]:[...o.slice(0,t),{...e},...o.slice(t)]},Qu=Uu.bind(null,"groups","caption"),Zu=Uu.bind(null,"lists","caption"),eh=Vu.bind(null,"caption"),th=((e,t,o)=>-1!==(c(t)?Vu(e,t,o):-1)).bind(null,"caption"),oh="WL_LIBRARY_WATCH",sh=F((()=>({isWatchEdited:!1,watchList:_u,msEdit:{}}))),nh=e=>e.watchList,ih=e=>e.isWatchEdited,rh=sh.setState,lh=sh.getState,ah=()=>ih(lh()),ch=()=>nh(lh()),dh=z(sh,nh),ph=z(sh,(e=>e.msEdit)),uh=z(sh,ih),hh=()=>(ch()||{}).groups,mh=e=>{const t=Qu(ch(),e);return t?t.lists:[]},gh=(e,t)=>o=>{var s,n;s=e(ch(),o),n=t,s.isDone?rh({isWatchEdited:!0,watchList:{...ch()},msEdit:{forActionType:n}}):rh({msEdit:{messages:[s.message],forActionType:n}})},xh=gh(((e,t)=>{let{caption:o}=t;const s=e.groups;if(th(s,o))return zu(o);const n=o?{caption:o}:{caption:"Default"};return e.groups=Yu(s,n),{isDone:!0}}),$u),yh=gh(((e,t)=>{let{captionFrom:o,captionTo:s}=t;const n=e.groups,i=eh(n,o);return-1===i?Gu("group",o):th(n,s)?zu(s):(e.groups=Ju(n,i,s),{isDone:!0})}),Wu),fh=gh(((e,t)=>{let{caption:o}=t;return e.groups=Ku(e.groups,o),{isDone:!0}}),Ou),jh=gh(((e,t)=>{let{captionGroup:o,captionList:s}=t;const n=Qu(e,o);if(!n)return Gu("group",o);const{lists:i}=n;return th(i,s)?qu(s,o):(n.lists=Yu(i,{caption:s}),{isDone:!0})}),Mu),Ch=gh(((e,t)=>{let{captionGroup:o,captionListFrom:s,captionListTo:n}=t;const i=Qu(e,o);if(!i)return Gu("group",o);const{lists:r}=i,l=eh(r,s);return-1===l?Gu("list",s):th(r,n)?qu(n,o):(i.lists=Ju(r,l,n),{isDone:!0})}),Au),vh=gh(((e,t)=>{let{captionGroup:o,captionList:s}=t;const n=Qu(e,o);return n?(n.lists=Ku(n.lists,s),{isDone:!0}):Gu("group",o)}),Pu),bh=gh(((e,t)=>{const{groupCaption:o,listCaption:s,caption:n,config:i}=t,r=Qu(e,o),l=Zu(r,s),{items:a}=l;return th(a,n)?((e,t)=>({isDone:!1,message:De(e,t)}))(n,s):(a?l.items.push(i):l.items=[i],{isDone:!0})}),Bu),wh=e=>t=>{var o;(o=e(ch(),t)).isDone?rh({isWatchEdited:!0,watchList:{...ch()}}):Ap(o)},kh=wh(((e,t)=>{let{dragId:o,dropId:s}=t;const n=o.split(";"),i=Qu(e,n[0]),r=Zu(i,n[1]),l=eh(r.items,n[2]),a=r.items[l],c=s.split(";"),d=Qu(e,c[0]),p=Zu(d,c[1]),u=c[2]?eh(p.items,c[2]):0;return r.caption!==p.caption&&th(p.items,n[3])?((e,t)=>({isDone:!1,alertItemId:`${e}:${t}`,alertCaption:Ee.caption,alertDescr:Ee.descr}))(c[1],n[2]):(r.items=Ku(r.items,n[2]),p.items=Xu(a,u,p.items),{isDone:!0})})),Sh=wh(((e,t)=>{let{dragId:o,dropId:s}=t;const[n,i]=o.split(";"),r=Qu(e,n),l=Zu(r,i),[a,c]=s.split(";"),d=Qu(e,a),p=c?eh(d.lists,c):0;return r.caption!==d.caption&&th(d.lists,i)?((e,t)=>({isDone:!1,alertItemId:`${e}:${t}`,alertCaption:_e.caption,alertDescr:_e.descr}))(a,i):(r.lists=Ku(r.lists,i),d.lists=Xu(l,p,d.lists),{isDone:!0})})),Th=wh(((e,t)=>{let{dragId:o,dropId:s}=t;const[n]=o.split(";"),i=Qu(e,n),[r]=s.split(";"),l=r?eh(e.groups,r):0;return e.groups=Ku(e.groups,n),e.groups=Xu(i,l,e.groups),{isDone:!0}})),Rh=e=>({caption:"Watch List:",descr:e}),Dh=function(e){if(void 0===e&&(e=!0),ah()){const t=((e,t)=>{if(!Lu)return{...Iu};try{Su[Nu(e)]=Tu(t)}catch(e){return e}})(oh,ch());t?Ap(Rh(t.message)):(rh({isWatchEdited:!1}),e&&Pp(Rh("Watch List has been saved.")))}else Pp(Rh("Watch List has not been edited\nfrom previous save."))},Ih=function(e){let{isShowDialog:t}=void 0===e?{}:e;Dh(t)},Lh=e=>{((e,t)=>{let{groupCaption:o,listCaption:s,caption:n}=t;const i=Qu(e,o),r=Zu(i,s);r.items=Ku(r.items,n)})(ch(),e),rh({isWatchEdited:!0,watchList:{...ch()}})},Nh=e=>{if((e.altKey||e.metaKey)&&e.key){const t=Rt[e.key.toUpperCase()];"function"==typeof t&&(e.stopImmediatePropagation(),t())}},Eh=()=>{(0,l.useEffect)((()=>St?(document.addEventListener(Tt,Nh,!1),()=>{Rt=null,document.removeEventListener(Tt,Nh,!1)}):void 0),[])},_h=e=>{let{color:t="currentColor",size:o="24",children:s,...n}=e;return(0,It.jsxs)(bn,{w:o,width:o,height:o,fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[(0,It.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,It.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,It.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"8"})]})},$h="grey",Wh={borderColor:$h,color:$h},Oh=e=>{let{className:t,style:o}=e;const[s,n]=(0,l.useState)(ah);uh((e=>{n(!!e)}));const i=st(o,s&&Wh);return(0,It.jsx)(vs,{className:t,caption:"S",title:"Save Watch Items to Locale Storage",style:i,onClick:Ih})},Mh="#2f7ed8",Ah=(e,t,o)=>({backgroundColor:e,width:t+"%",transition:o,opacity:1}),Ph=(e,t,o)=>y(e)?(f(e,!1),Ah(t,0)):Ah(t,((e,t)=>e<0?0:e>=100?(f(t,!0),100):e)(o,e),"width 350ms linear"),Bh=e=>{let{color:t=Mh,completed:o}=e;const s=P(),n=(0,l.useRef)(!1),i=(0,l.useRef)(null);(0,l.useEffect)((()=>{y(n)&&f(i,setTimeout(s,800))})),(0,l.useEffect)((()=>()=>{clearTimeout(y(i))}),[]);const r=Ph(n,t,o);return(0,It.jsx)("div",{className:"progress-line",style:r})},Fh="#2f7ed8",Vh=(e,t)=>[e,t],Hh=Fe((()=>{const e=Ed(),[t,o]=e===Sd?Vh(35,Fh):e===Td?Vh(100,Fh):e===Rd?Vh(100,"#ed5813"):Vh(0,Fh);return(0,It.jsx)(Bh,{color:o,completed:t})})),Uh=e=>{let{className:t,title:o}=e;return(0,It.jsx)("span",{className:t,title:o,children:(0,It.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,It.jsx)("title",{children:o}),(0,It.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,It.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,It.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},Gh=e=>{let{className:t,caption:o,title:s}=e;return(0,It.jsx)("span",{className:t,title:s,children:o})},zh={display:"inline-block",color:"#2f7ed8",padding:"5px 10px 0",fontSize:"16px",fontWeight:"bold"},qh=()=>{const e=_d();return(0,It.jsx)("span",{style:zh,children:e})},Kh="Library Watch v0.12.0",Yh="header",Jh=`${Yh}__icon-app`,Xh=`${Yh}__bt-about`,Qh=`${Yh}__app-label`,Zh=`${Yh}__bt-library`,em={position:"relative",top:-2,verticalAlign:"middle",margin:"0 8px"},tm={marginTop:4,marginLeft:10},om={marginLeft:"auto"},sm={browserType:te,caption:"Library",sourceMenuUrl:"./data/github/source-menu.json",rowClass:"menu-item"},nm=()=>ju(sm),im=()=>(0,It.jsxs)("header",{className:Yh,children:[(0,It.jsx)(Hh,{}),(0,It.jsx)(Uh,{className:Jh,title:Kh}),(0,It.jsx)(Gh,{className:Qh,caption:Kh}),(0,It.jsx)($t,{className:Zh,caption:"Library",title:"Library Browser",hotKey:"L",timeout:0,onClick:nm}),(0,It.jsx)($t,{caption:"Watch",title:"Watch Browser",hotKey:"W",timeout:0,onClick:xu}),(0,It.jsx)(Oh,{style:tm}),(0,It.jsxs)("div",{style:om,children:[(0,It.jsx)(qh,{}),(0,It.jsx)($t,{className:Xh,title:"About webapp Library Watch",hotKey:"A",timeout:0,onClick:Np,children:(0,It.jsx)(_h,{style:em})})]})]}),rm="#80c040",lm={display:"inline-block",color:rm,width:24,height:24,border:`2px solid ${rm}`,borderRadius:"50%",textAlign:"center"},am=e=>{let{step:t}=e;return(0,It.jsx)("span",{style:lm,children:t})},cm=e=>{let{isFirstBlank:t,color:o,children:s}=e;return(0,It.jsxs)("span",{style:{color:o,fontWeight:"bold"},children:[t?" ":null,s]})},dm={display:"inline-block",padding:"0 8px"},pm=e=>{let{color:t,href:o,title:s,caption:n,children:i}=e;return(0,It.jsx)("span",{style:dm,children:(0,It.jsx)(zr,{className:"source-link",style:{color:t},href:o,title:s,children:n||i})})},um=e=>{let{w:t,h:o=t,children:s,...n}=e;return(0,It.jsx)("svg",{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",...n,"aria-hidden":"true",viewBox:`0 0 ${t} ${o}`,xmlns:"http://www.w3.org/2000/svg",children:s})},hm=e=>{let{className:t,href:o,title:s}=e;return(0,It.jsx)(zr,{className:t,href:o,title:s,children:(0,It.jsx)(um,{w:"16",strokeMiterlimit:"1.414",children:(0,It.jsx)("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.4371.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})})})},mm=()=>(0,It.jsx)(zr,{className:"icon__react",href:"https://github.com/facebook/react",title:"React",children:(0,It.jsxs)(um,{w:"600",children:[(0,It.jsx)("circle",{cx:"299.529",cy:"299.628",r:"50.167"}),(0,It.jsx)("path",{fill:"none",d:"M299.529,197.628\r c67.356,0,129.928,9.665,177.107,25.907c56.844,19.569,91.794,49.233,91.794,76.093c0,27.991-37.041,59.503-98.083,79.728\r c-46.151,15.291-106.879,23.272-170.818,23.272c-65.554,0-127.63-7.492-174.29-23.441c-59.046-20.182-94.611-52.103-94.611-79.559\r c0-26.642,33.37-56.076,89.415-75.616C167.398,207.503,231.515,197.628,299.529,197.628z"}),(0,It.jsx)("path",{fill:"none",d:"M210.736,248.922\r c33.649-58.348,73.281-107.724,110.92-140.48c45.35-39.466,88.507-54.923,111.775-41.505\r c24.248,13.983,33.042,61.814,20.067,124.796c-9.81,47.618-33.234,104.212-65.176,159.601\r c-32.749,56.788-70.25,106.819-107.377,139.272c-46.981,41.068-92.4,55.929-116.185,42.213\r c-23.079-13.31-31.906-56.921-20.834-115.233C153.281,368.316,176.758,307.841,210.736,248.922z"}),(0,It.jsx)("path",{fill:"none",d:"M210.821,351.482\r c-33.746-58.292-56.731-117.287-66.312-166.255c-11.544-58.999-3.382-104.109,19.864-117.566\r c24.224-14.024,70.055,2.244,118.14,44.94c36.356,32.28,73.688,80.837,105.723,136.173c32.844,56.733,57.461,114.209,67.036,162.582\r c12.117,61.213,2.309,107.984-21.453,121.74c-23.057,13.348-65.249-0.784-110.239-39.499\r C285.567,460.886,244.898,410.344,210.821,351.482z"})]})}),gm={paddingTop:20,textAlign:"center"},xm=()=>(0,It.jsxs)("div",{style:gm,children:[(0,It.jsx)(hm,{className:"icon__github",title:"GitHub Library Watch",href:"https://github.com/ZhnZhn/library-watch.git"}),(0,It.jsx)(mm,{})]}),ym={display:"block"},fm={display:"none"},jm={overflowY:"auto",height:"92%",paddingRight:10},Cm={color:"grey",padding:"0 5px 0 16px",lineHeight:1.4,fontWeight:"bold"},vm={marginBottom:"1em"},bm={marginTop:3},wm=()=>{const[e,t,o,s]=Vp(!0);Lp((e=>{e&&e.is&&t()})),dp((e=>{e&&(e.Comp||e.chartCont)&&o()}));const[n,i]=e?[ym,"show-popup"]:[fm];return(0,It.jsxs)("div",{className:i,style:{...gd,...n},role:"presentation",onKeyDown:s,children:[(0,It.jsx)(Yp,{caption:"About",onClose:o}),(0,It.jsx)(nd,{style:jm,children:(0,It.jsxs)("div",{style:Cm,children:[(0,It.jsxs)("p",{children:[(0,It.jsx)(cm,{color:"#80c040",children:"Library Watch"}),(0,It.jsx)(cm,{color:"grey",isFirstBlank:!0,children:"is a SPA RESTful client."})]}),(0,It.jsx)("p",{style:vm,children:"By means of web app Library-Watch, it is possible to view information about GitHub's repositories, NPM's packages, StackOverflows's questions."}),(0,It.jsxs)("p",{style:vm,children:[(0,It.jsx)(cm,{color:"grey",children:"Information API providers:"}),(0,It.jsx)(pm,{href:"https://crates.io/",color:"#009ae5",title:"crates.io",caption:"Crates.io"}),(0,It.jsx)(pm,{href:"https://www.github.com/",color:"#009ae5",title:"GitHub",caption:"GitHub"}),(0,It.jsx)(pm,{href:"https://www.npmjs.com/",color:"#273547",title:"NPM",caption:"NPM"}),(0,It.jsx)(pm,{href:"https://api-docs.npms.io/",color:"#273547",title:"NPMS.IO",caption:"NPMS.IO"}),(0,It.jsx)(pm,{href:"https://bundlephobia.com/",color:"#273547",title:"Bundlephobia.com",caption:"Bundlephobia.com"}),(0,It.jsx)(pm,{href:"https://stackexchange.com/",color:"#3186C9",title:"StackExchange",caption:"StackExchange"}),(0,It.jsx)(pm,{href:"https://gs.statcounter.com/",color:"#009ae5",title:"Statcounter",caption:"Statcounter"})]}),(0,It.jsxs)("p",{children:[(0,It.jsx)(am,{step:"1"}),(0,It.jsx)(cm,{color:"black",isFirstBlank:!0,children:"Please, choose an information Browser from the header bar."})]}),(0,It.jsxs)("p",{style:bm,children:[(0,It.jsx)(am,{step:"2"}),(0,It.jsx)(cm,{color:"black",isFirstBlank:!0,children:"Next, choose an information menu item in a Browser."})]}),(0,It.jsxs)("p",{style:bm,children:[(0,It.jsx)(am,{step:"3"}),(0,It.jsx)(cm,{color:"black",isFirstBlank:!0,children:"Enter repository or package name in a draggable Dialog."})]}),(0,It.jsxs)("p",{style:bm,children:[(0,It.jsx)(am,{step:"4"}),(0,It.jsx)(cm,{color:"black",isFirstBlank:!0,children:"Click a button Load."})]}),(0,It.jsx)("p",{style:bm,children:(0,It.jsx)(cm,{color:"grey",children:"The result will be shown in an Item component in a Container."})}),(0,It.jsx)("p",{style:{...vm,...bm},children:(0,It.jsx)(cm,{color:"grey",children:"Also, it possible to add an item to Watch Browser and save to LocalStorage."})}),(0,It.jsx)("p",{style:vm,children:"After clicking a button Show in a Dialog opens Container with Items or empty. After closing a Container all Items remains. In one-time max three Item Dialogs can be opened."}),(0,It.jsxs)("p",{children:[(0,It.jsx)(cm,{color:"grey",children:"In that case of using"}),(0,It.jsx)(pm,{href:"https://developer.github.com/v3/#rate-limiting",color:"#009ae5",isFirstBlank:!0,title:"GitHub API v3 Rate Limiting",children:"GitHub"}),(0,It.jsxs)(cm,{color:"grey",isFirstBlank:!0,children:["API provider, exists some restriction on frequency and amount queries (",(0,It.jsx)(cm,{color:"#2f7ed8",children:"60 calls per hour, 10 requests per minute for Search API"}),(0,It.jsx)(cm,{color:"grey",children:")."})]})]}),(0,It.jsx)(xm,{})]})})]})},km=()=>Op(Q),Sm=()=>Op(Z),Tm=yu,Rm=e=>Op(X,e),Dm=r(Op,ee,{onLoad:e=>{try{const{progressEvent:t}=e;tr(ch(),JSON.parse(t.target.result)),rh({isWatchEdited:!0,watchList:{...ch()}})}catch(e){Ap({...$e})}}}),Im=(e,t)=>{t.stopPropagation(),Lh(e)},Lm=()=>{const e=`WatchItems_${Qt(Date.now())}.json`;ku(ch(),e)},Nm="bt__watch__bar",Em={marginBottom:10},_m={marginLeft:20},$m=e=>{let{is:t}=e;return t?(0,It.jsxs)("div",{style:Em,children:[(0,It.jsx)(vs,{caption:"GROUP",title:"Edit Group",className:Nm,isWithoutDefault:!0,onClick:km}),(0,It.jsx)(vs,{caption:"LIST",title:"Edit Group List",className:Nm,isWithoutDefault:!0,style:_m,onClick:Sm}),(0,It.jsx)(vs,{caption:"DB",title:"Double Watch Browser",className:Nm,isWithoutDefault:!0,style:_m,onClick:Tm})]}):null},Wm={fromLevel3(e){const t="caption",o=[];for(let s of e.groups||[])for(let e of s.lists||[])for(let n of e.items||[])n.topic=`${s[t]}/${e[t]}`,o.push(n);return o}},Om={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},Mm={},Am=e=>{let{item:t=Mm,propCaption:o}=e;return(0,It.jsx)("div",{style:Om,children:t[o]})},Pm={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(164, 135, 212)"},Bm=e=>{const{item:t}=e;return(0,It.jsxs)("div",{children:[(0,It.jsx)(Am,{...e}),(0,It.jsx)("div",{style:Pm,children:t.topic})]})},Fm=()=>{},Vm=(0,l.memo)((e=>{let{style:t,data:o,onSelect:s=Fm}=e;const n=(0,l.useCallback)((e=>{e&&s(e)}),[s]),i=Wm.fromLevel3(o);return(0,It.jsx)("div",{style:t,children:(0,It.jsx)(us,{width:"330",placeholder:"Find Item",propCaption:"caption",options:i,ItemOptionComp:Bm,onSelect:n})})}),((e,t)=>!t.isShouldUpdate)),Hm={width:"100%",padding:"0 0 8px 0"},Um=e=>{let{isShow:t,isShouldUpdate:o,data:s}=e;return s?(0,It.jsx)(to,{isShow:t,children:(0,It.jsx)(Vm,{style:Hm,data:s,isShouldUpdate:o,onSelect:Rm})}):null},Gm={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},zm=e=>JSON.parse(e.dataTransfer.getData("text")),qm="border-bottom",Km="border-left";let Ym,Jm,Xm,Qm;const Zm=e=>e.currentTarget.style,eg=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==Ym.indexOf(e))(e)?t||"green":"red"),tg=e=>{const t=Jm.style;Zm(e).removeProperty(Km),t.removeProperty("border"),t.setProperty(qm,Xm)},og=Object.assign,sg=e=>{let{event:t,dragId:o,xType:s}=e;og(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:o,xType:s}))},ng=(e,t)=>(o,s)=>{((e,t)=>{Jm=e.currentTarget,Ym=t,Xm=Zm(e).getPropertyValue(qm)})(s,e),sg({event:s,dragId:t(o),xType:e[0]})},ig=(e,t)=>o=>{o.preventDefault(),((e,t,o)=>{const s=Zm(e);Qm=s.getPropertyValue(Km),s.setProperty(Km,eg(t,o))})(o,e,t)},rg=e=>{e.preventDefault()},lg=e=>{e.preventDefault(),(e=>{const t=Zm(e);t.removeProperty(Km),t.setProperty(Km,Qm)})(e)},ag=(e,t,o,s,n,i,l)=>i?{draggable:!0,onDragStart:r(e,l),onDrop:r(t,l),onDragEnter:o,onDragOver:s,onDragLeave:n}:void 0,cg=e=>{let{caption:t}=e;return`${t};`},dg=ng([Gm.GROUP],cg),pg=ig(Gm.GROUP,Gm.C_GROUP_ENTER),ug=r(ag,dg,((e,t)=>{tg(t);const{xType:o,dragId:s}=zm(t),n=cg(e);if(o===Gm.GROUP){if(s===n)return;t.preventDefault(),Th({dragId:s,dropId:n})}else o===Gm.LIST&&(t.preventDefault(),Sh({dragId:s,dropId:n}))}),pg,rg,lg),hg=e=>{let{groupCaption:t,caption:o}=e;return`${t};${o};`},mg=ng([Gm.LIST,Gm.GROUP],hg),gg=ig(Gm.LIST,Gm.C_LIST_ENTER),xg=r(ag,mg,((e,t)=>{tg(t);const{xType:o,dragId:s}=zm(t),n=hg(e);if(o===Gm.LIST){if(s===n)return;t.preventDefault(),Sh({dragId:s,dropId:n})}else o===Gm.ITEM&&(t.preventDefault(),kh({dragId:s,dropId:n}))}),gg,rg,lg),yg=e=>{let{groupCaption:t,listCaption:o,caption:s}=e;return`${t};${o};${s}`},fg=ng([Gm.ITEM,Gm.LIST],yg),jg=ig(Gm.ITEM,Gm.C_LIST_ENTER),Cg=r(ag,fg,((e,t)=>{tg(t);const{xType:o,dragId:s}=zm(t),n=yg(e);if(o===Gm.ITEM){if(s===n)return;t.preventDefault(),kh({dragId:s,dropId:n})}}),jg,rg,lg),vg={position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5,paddingLeft:14,lineHeight:1.4},bg={display:"inline-block",verticalAlign:"middle",width:"100%",maxWidth:250,textOverflow:"ellipsis",overflow:"hidden"},wg={position:"absolute",right:0},kg={float:"right"},Sg=e=>{let{version:t,date:o}=e;return t?(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{children:t}),(0,It.jsx)("span",{style:kg,children:(o||"").split(" ")[0]})]}):null},Tg=e=>{let{isModeEdit:t,item:o,className:s,onClick:n,onClose:i,dndItemHandlers:r}=e;const{repo:l,version:a,date:c}=o,d=Xr(n);return(0,It.jsxs)("div",{role:"menuitem",tabIndex:"0",className:s,style:vg,onClick:n,onKeyDown:d,...r,children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{style:bg,children:l}),t?(0,It.jsx)(kn,{style:wg,onClose:i}):null]}),a?(0,It.jsx)(Sg,{version:a,date:c}):null]})},Rg=rt("row__topic"),Dg=e=>{let{isModeEdit:t,items:o,groupCaption:s,listCaption:n}=e;return E(o,(e=>{const{caption:o}=e,i={groupCaption:s,listCaption:n,caption:o};return(0,It.jsx)(Tg,{className:Rg,isModeEdit:t,item:e,onClick:r(Rm,e),onClose:r(Im,i),dndItemHandlers:Cg(t,i)},o)}))},Ig={marginLeft:8,lineHeight:2,borderLeft:"1px solid yellow"},Lg={paddingLeft:12},Ng=e=>{let{isModeEdit:t,groupCaption:o,lists:s}=e;return E(s,(e=>{let{caption:s,items:n}=e;return(0,It.jsx)(nl,{fillOpen:"#80c040",style:Ig,styleCaptionRow:Lg,caption:s,dndHandlers:xg(t,{groupCaption:o,caption:s}),children:(0,It.jsx)(Dg,{isModeEdit:t,items:n,groupCaption:o,listCaption:s})},s)}))},Eg={lineHeight:2},_g={paddingLeft:6},$g=e=>{let{refFirstItem:t,isModeEdit:o,groups:s}=e;return E(s,((e,s)=>{let{caption:n,lists:i}=e;return(0,It.jsx)(nl,{refItem:0===s?t:void 0,style:Eg,styleCaptionRow:_g,caption:n,dndHandlers:ug(o,{caption:n}),children:(0,It.jsx)(Ng,{isModeEdit:o,groupCaption:n,lists:i})},n)}))},Wg="browser-watch",Og=e=>`${Wg} ${Wg}--${e}`,Mg=Og("1r"),Ag=Og("2r"),Pg="bt__watch__caption",Bg={maxWidth:500},Fg={minWidth:340},Vg={minWidth:310},Hg=e=>{let{isShow:t,isEditMode:o,isDoubleWatch:s,caption:n,browserType:i,useMsBrowser:r,useMsBrowserDynamic:a,useWatchList:c}=e;const d=(0,l.useRef)(!1),[p,u]=Ye(o),[h,m,g]=Ye(),[x,j,C,v,b,w,k]=Gp(t,ch),[S,R]=qp(),[D,I]=(0,l.useMemo)((()=>[()=>{s?Tm():b()},()=>{s||v()}]),[s]);r((e=>{e&&e.id===i&&(I(),R()||T(k))})),c((e=>{e&&(f(d,!0),j(e),g(!1))}));const{groups:L}=x||{},N=s?Vg:Fg,[E,_]=p?["V","Toggle to View Mode"]:["E","Toggle to Edit Mode"],$=!(!h||!y(d))&&(()=>(f(d,!1),!0)),W=((e,t)=>e&&t?Ag:e||t?Mg:Wg)(h,p);return(0,It.jsxs)(Kp,{isShow:C,style:Bg,onKeyDown:w,children:[(0,It.jsxs)(Yp,{style:N,caption:n,onClose:D,children:[(0,It.jsx)(Oh,{className:Pg}),(0,It.jsx)(vs,{isWithoutDefault:!0,className:Pg,caption:E,title:_,onClick:u}),(0,It.jsx)(vs,{isWithoutDefault:!0,className:Pg,caption:"F",title:"Show/Hide : Find Item Input",onClick:m}),!s&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(vs,{isWithoutDefault:!0,className:Pg,caption:"B",title:"BackUp Watch Items to JSON File",onClick:Lm}),(0,It.jsx)(vs,{isWithoutDefault:!0,className:Pg,caption:"L",title:"Load Watch Items from JSON File",onClick:Dm})]})]}),(0,It.jsx)($m,{is:p}),(0,It.jsx)(Um,{isShow:h,isShouldUpdate:$,data:x}),(0,It.jsx)(nd,{className:W,onFocusIn:S,children:(0,It.jsx)($g,{refFirstItem:k,isModeEdit:p,groups:L})})]})},Ug={zIndex:30,position:"absolute",top:70,left:10,width:"99%"},Gg=(e,t)=>{let o,s;for(s=0;s<e.length;s++)if(e[s].key===t){o=s;break}return[...e.slice(0,o),...e.slice(o+1),e[o]]},zg=(e,t,o,s)=>(t.push(s),t.length>e?(o[t[0]]=!1,t.slice(1)):t),qg={dialog:{},compDialogs:[],openDialogs:[]},Kg=e=>{let{useDgOption:t,maxDialog:o}=e;const[s,n]=(0,l.useState)(qg),{dialog:i,compDialogs:r}=s;return t((e=>{if(e){const{dialogType:t,dialogComp:s}=e;n(s?e=>{const{dialog:n,compDialogs:i,openDialogs:r}=e;return n[t]=!0,i.push(s),{dialog:n,compDialogs:i,openDialogs:zg(o,r,n,t)}}:e=>{const{dialog:s,compDialogs:n,openDialogs:i}=e;let r;return s[t]||(s[t]=!0,r=zg(o,i,s,t)),{dialog:s,compDialogs:Gg(n,t),openDialogs:r||i}})}})),(0,It.jsx)("div",{style:Ug,children:r.map((e=>{const{key:t}=e;return(0,l.cloneElement)(e,{key:t,isShow:i[t],onClose:()=>{return e=t,void n((t=>{const{dialog:o,openDialogs:s}=t;return o[e]=!o[e],{...t,dialog:o,openDialogs:o[e]?s:s.filter((t=>t!==e))}}));var e}})}))})},Yg=e=>{let{useMsBrowser:t,useMsBrowserDynamic:o,useWatchList:s,updateWatchAction:n,useDgOption:i}=e;const[r,a]=Ye(!1),[c,d]=(0,l.useState)([]);return t((e=>{e&&e.id===se&&a()})),o((e=>{e&&e.elBrowser&&d((t=>[e.elBrowser,...t]))})),(0,It.jsxs)("div",{className:"hrz-container",children:[(0,It.jsx)(Hg,{caption:"Watch",browserType:oe,useMsBrowser:t,useWatchList:s}),r&&(0,It.jsx)(Hg,{isShow:!0,isEditMode:!0,isDoubleWatch:!0,caption:"Watch 2",browserType:oe,useMsBrowser:t,useWatchList:s}),c,(0,It.jsx)(Kg,{maxDialog:3,useDgOption:i})]})},Jg=()=>{const[e,t]=(0,l.useState)([]);return dp((e=>{e&&e.Comp&&t((t=>[e.Comp,...t]))})),(0,It.jsx)("div",{className:"hrz-container",children:e})},Xg=e=>{let{isShow:t,onClose:o,children:s}=e;const[n,i]=t?["modal-root show-modal",et]:["modal-root",ot];return(0,It.jsx)("div",{role:"presentation",className:n,style:i,onClick:o,children:s})},Qg={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},Zg=e=>{let{useMdOption:t,routerDialog:o}=e;const[s,n]=(0,l.useState)(Qg),{isShow:i,shows:r,data:a,dialogs:c,currentDialog:d}=s,p=e=>{n((t=>(t.shows[e]=!1,{...t,isShow:!1,currentDialog:null})))};return t((e=>{if(e){const{modalDialogType:t}=e;n((s=>{const{inits:n,shows:i,data:r,dialogs:l}=s;return r[t]=e,i[t]=!0,n[t]||(l.push({type:t,comp:o[t]}),n[t]=!0),{...s,isShow:!0,currentDialog:t}}))}})),(0,It.jsx)(Xg,{isShow:i,onClose:()=>p(d),children:c.map((e=>{let{type:t,comp:o}=e;return(0,l.createElement)(o,{key:t,isShow:r[t],data:a[t],onClose:()=>p(t)})}))})},ex={color:"silver",stroke:"silver",backgroundColor:"#232f3b",padding:5,textAlign:"center",fontSize:18},tx={position:"absolute",top:6,right:0},ox=e=>{let{caption:t,onClose:o}=e;return(0,It.jsxs)("div",{style:ex,children:[(0,It.jsx)("span",{className:it,children:t}),(0,It.jsx)(kn,{style:tx,onClose:o})]})},sx={opacity:0,transform:"scaleY(0)"},nx={...Dn,position:"absolute",top:"20%",left:"40%",display:"block",zIndex:10},ix=e=>{let{isShow:t,isWithButton:o=!0,timeout:s=450,style:n,caption:i,commandButtons:r,onClose:a,children:c}=e;const d=P(),p=Rs(a),u=(0,l.useRef)(),h=(0,l.useCallback)((e=>{e.stopPropagation()}),[]);let m,g;return(0,l.useEffect)((()=>{y(u)&&setTimeout(d,s)})),y(u)?(g=Rn,f(u,!1)):([m,g]=t?[Sn,Tn]:["hide-popup",sx],t||f(u,!0)),(0,It.jsxs)("div",{role:"dialog",tabIndex:"-1","aria-label":i,"aria-hidden":!t,className:m,style:{...nx,...n,...g},onClick:h,onKeyDown:p,children:[(0,It.jsx)(ox,{caption:i,onClose:a}),(0,It.jsx)("div",{children:c}),o&&(0,It.jsxs)("div",{style:Ln,children:[r,(0,It.jsx)($t,{caption:"Close",title:"Click to close modal dialog",timeout:0,onClick:a},"close")]})]})},rx={color:"#f44336",display:"inline-block",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},lx={color:"#a487d4",fontWeight:"bold"},ax={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre-line",fontWeight:"bold"},cx=()=>{},dx=He((e=>{let{isShow:t,data:o,onClose:s=cx}=e;const{alertCaption:n,alertItemId:i,alertDescr:r,caption:l,itemId:a,descr:c}=o||{},d=n||l||"",p=(h=i||a)?h.substring(0,20)+"...":"",u=r||c||"";var h;return(0,It.jsxs)(ix,{caption:"Alert",isShow:t,onClose:s,children:[(0,It.jsx)(An.Row,{children:(0,It.jsxs)("span",{style:rx,children:[(0,It.jsx)("span",{children:d}),(0,It.jsx)("span",{children:":"}),(0,It.jsx)("span",{style:lx,title:p,children:p})]})}),(0,It.jsx)(An.Row,{children:(0,It.jsx)("p",{style:ax,children:u})})]})})),px={color:"#a487d4",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},ux={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre",fontWeight:"bold"},hx=He((e=>{let{isShow:t,data:o,onClose:s}=e;const{caption:n,descr:i}=o;return(0,It.jsxs)(ix,{caption:"Information",isShow:t,onClose:s,children:[(0,It.jsx)(An.Row,{children:(0,It.jsx)("p",{style:px,children:n})}),(0,It.jsx)(An.Row,{children:(0,It.jsx)("p",{style:ux,children:i})})]})})),mx="Choose a file...",gx=()=>{},xx=e=>{let{as:t="text",onChange:o=gx}=e;const[s,n]=(0,l.useState)(mx),i=(0,l.useCallback)((e=>{const s=[];for(let t=0;t<e.target.files.length;t++)s.push(e.target.files[t]);Promise.all(s.map((e=>new Promise(((o,s)=>{let n=new FileReader;switch(n.onload=t=>{o([t,e])},t.toLowerCase()){case"binary":n.readAsBinaryString(e);break;case"buffer":n.readAsArrayBuffer(e);break;case"text":default:n.readAsText(e);break;case"url":n.readAsDataURL(e)}}))))).then((e=>{const t=e&&e[0]?(e[0][1]||{}).name:mx;n(t),o(e)}))}),[]);return(0,It.jsxs)("div",{className:"_react-file-reader-input",children:[(0,It.jsx)("input",{className:"inputfile",type:"file",id:"file",name:"file",as:t,onChange:i}),(0,It.jsxs)("label",{htmlFor:"file",children:[(0,It.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",children:(0,It.jsx)("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})}),(0,It.jsx)("span",{children:s})]})]})},yx={minWidth:320},fx={margin:"16px 0"},jx={width:"100%",marginRight:16},Cx=He((e=>{let{isShow:t,data:o,onClose:s}=e;const{onLoad:n}=o,i=(0,l.useRef)(null),r=(0,l.useCallback)((e=>{const[t]=e||[],o=t?[t[0],t[1]]:null;f(i,o)}),[]),[a,c,d]=Ot(((e,t)=>{const[o,s]=y(i)||[];o&&s?(n({progressEvent:o}),t()):e(["Please choose file for loading."])}),s);return(0,It.jsxs)(ix,{style:yx,caption:"Load Watch Items from File",isShow:t,commandButtons:c,onClose:d,children:[(0,It.jsx)(An.Row,{style:fx,children:(0,It.jsx)(xx,{as:"text",onChange:r})}),(0,It.jsx)(An.Row,{style:jx,children:(0,It.jsx)(An.ValidationMessages,{validationMessages:a})})]})})),vx=e=>{const t=(0,l.useRef)(),{current:o}=t;return t.current=e,o},bx=()=>{const e=(0,l.useRef)(null),t=(0,l.useCallback)((t=>{e.current=t&&t.caption||null}),[]);return[e,t]},wx=e=>{let{style:t,caption:o,isCaption:s=!0,textStyle:n,text:i}=e;return(0,It.jsxs)(An.Row,{style:t,children:[(0,It.jsx)(An.Caption,{is:s,caption:o}),(0,It.jsx)("span",{style:n,children:i})]})},kx={fontWeight:"bold"},Sx={lineHeight:2},Tx={fontWeight:"bold",color:"gray"},Rx=He((e=>{const t=vx(e),{isShow:o,data:s,onClose:n}=e,[i,r]=ss(null),[a,c]=bx(),[d,p]=(0,l.useState)((()=>({groupOptions:hh(),listOptions:[]}))),{groupOptions:u,listOptions:h}=d,[m,g,x]=kt(),j=(0,l.useCallback)((e=>{const{caption:t,lists:o}=e||{},s=t?(p((e=>({...e,listOptions:o||[]}))),t):null;i(s)}),[i]),C=(0,l.useCallback)((()=>{x(),n()}),[]),v=(0,l.useCallback)((()=>{const e=r(),t=y(a),o=[];if(e||o.push(Le("Group")),t||o.push(Le("List")),0===o.length){const{caption:o,config:n}=s;bh({caption:o,groupCaption:e,listCaption:t,config:n})}else g(o)}),[s]),b=(0,l.useMemo)((()=>[(0,It.jsx)($t,{caption:"Add",title:"Click to add to watch list",timeout:0,onClick:v},"add")]),[v]);ph((e=>{e&&e.forActionType===Bu&&(e.message?g(e.messages):C())})),(0,l.useEffect)((()=>{if(t&&t!==e&&t.isShow!==o){const e=r(),t=hh();if(t!==u)i(null),f(a,null),p({groupOptions:t,listOptions:[]});else if(e){const t=mh(e);t!==h&&(f(a,null),p((e=>({...e,listOptions:t}))))}}}));const{caption:w,config:k}=s,{descr:S}=k||{};return(0,It.jsxs)(ix,{caption:"Add To Watch List",isShow:o,commandButtons:b,onClose:C,children:[(0,It.jsx)(hs,{caption:"Group",options:u,onSelect:j}),(0,It.jsx)(hs,{caption:"List",options:h,onSelect:c}),(0,It.jsx)(wx,{style:Sx,caption:"Item",textStyle:kx,text:w}),(0,It.jsx)(wx,{style:Sx,caption:"Descr",textStyle:Tx,text:S}),(0,It.jsx)(js,{validationMessages:m})]})})),Dx={fontWeight:"bold",color:"gray",padding:"8px 8px 0 8px"},Ix={lineHeight:2},Lx={lineHeight:1.5},Nx={fontWeight:"bold"},Ex=He((e=>{let{isShow:t,data:o,onClose:s}=e;const n=[(0,It.jsx)($t,{isPrimary:!0,caption:"Load",onClick:()=>{gp(ne,oe,o),s()}},"load")],{caption:i,descr:r,date:l}=o;return(0,It.jsxs)(ix,{caption:"Load Watch Item",isShow:t,commandButtons:n,onClose:s,children:[(0,It.jsx)(wx,{style:Lx,isCaption:!1,text:r,textStyle:Dx},"1"),(0,It.jsx)(wx,{style:Ix,caption:"Item",text:i,textStyle:Nx},"2"),l&&(0,It.jsx)(wx,{style:Ix,caption:"Date",text:l,textStyle:Nx},"3")]})})),_x={margin:"10px 5px 0 10px",borderBottom:"2px solid #a487d4"},$x={width:"100%",height:"100%"},Wx={display:"block",width:"100%",height:"100%"},Ox={display:"none"},Mx=e=>{let{width:t,height:o,children:s}=e;const n=O((()=>s.map(((e,t)=>(0,l.cloneElement)(e.props.children,{key:t})))))[0],[i,r]=(0,l.useState)(0),a=e=>e===i;return(0,It.jsxs)("div",{style:{width:t,height:o},children:[(0,It.jsx)("div",{style:_x,children:s.map(((e,t)=>(0,l.cloneElement)(e,{key:t,onClick:()=>r(t),isSelected:a(t)})))}),(0,It.jsx)("div",{style:$x,children:n.map(((e,t)=>{const o=a(t)?Wx:Ox;return(0,It.jsx)("div",{style:o,children:e},t)}))})]})},Ax="#a487d4",Px={borderColor:Ax,color:Ax},Bx=e=>{let{isSelected:t,title:o,onClick:s}=e;const n=t?Px:void 0;return(0,It.jsx)("button",{role:"tab","aria-selected":t,tabIndex:"0",className:"tab",style:n,onClick:s,children:(0,It.jsx)("span",{children:o})})},Fx={textAlign:"right",margin:"8px 4px 10px 0",cursor:"default"},Vx=e=>{let{caption:t,onClick:o,onClear:s,onClose:n}=e;return(0,It.jsxs)("div",{style:Fx,children:[(0,It.jsx)($t,{isPrimary:!0,caption:t,timeout:0,onClick:o}),s&&(0,It.jsx)($t,{caption:"Clear",timeout:0,onClick:s}),(0,It.jsx)($t,{caption:"Close",timeout:0,onClick:n})]})},Hx=(e,t,o)=>{ph((s=>{s&&s.forActionType===e&&(s.messages?t(s.messages):o())}))},Ux=e=>{let{forActionType:t,msgOnIsEmptyName:o,onCreate:s,onClose:n}=e;const i=(0,l.useRef)(),[r,a,c]=kt((()=>y(i).setValue(""))),d=(0,l.useCallback)((()=>{const e=y(i),t=e.getValue();t?s({caption:t}):(e.setValue(""),a([o("Group")]))}),[]);return Hx(t,a,c),(0,It.jsxs)("div",{children:[(0,It.jsx)(To,{refEl:i,caption:"Group"}),(0,It.jsx)(js,{validationMessages:r}),(0,It.jsx)(Vx,{caption:"Create",onClick:d,onClear:c,onClose:n})]})},Gx=e=>{const[t,o]=O(hh),s=P();return[t,()=>{o.current=hh(),s()}]},zx=()=>{},qx=function(e,t,o,s){void 0===s&&(s=zx);const[n,i]=Gx();return Hx(e,t,o),dh((e=>{e&&(i(),s())})),n},Kx=e=>{let{forActionType:t,msgOnNotSelect:o,msgOnIsEmptyName:s,onRename:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=bx(),[d,p,u]=kt((()=>y(r).setValue(""))),h=qx(t,p,u),m=(0,l.useCallback)((()=>{const e=y(r).getValue(),t=y(a);if(e&&t)n({captionFrom:t,captionTo:e});else{const n=[];t||n.push(o("Group From")),e||n.push(s("Group To")),p(n)}}),[]);return(0,It.jsxs)("div",{children:[(0,It.jsx)(hs,{caption:"Group From",options:h,onSelect:c}),(0,It.jsx)(To,{refEl:r,caption:"Group To"}),(0,It.jsx)(js,{validationMessages:d}),(0,It.jsx)(Vx,{caption:"Rename",onClick:m,onClear:u,onClose:i})]})},Yx=e=>{let{forActionType:t,msgOnNotSelect:o,onDelete:s,onClose:n}=e;const[i,r]=bx(),[a,c,d]=kt(),p=qx(t,c,d),u=(0,l.useCallback)((()=>{const e=y(i);e?s({caption:e}):c([o("Group")])}),[]);return(0,It.jsxs)("div",{children:[(0,It.jsx)(hs,{caption:"Group",options:p,onSelect:r}),(0,It.jsx)(js,{validationMessages:a}),(0,It.jsx)(Vx,{caption:"Delete",onClick:u,onClose:n})]})},Jx=He((e=>{let{isShow:t,store:o,onClose:s}=e;return(0,It.jsx)(ix,{caption:"Watch Groups Edit",isShow:t,isWithButton:!1,onClose:s,children:(0,It.jsxs)(Mx,{width:"380px",children:[(0,It.jsx)(Bx,{title:"Create",children:(0,It.jsx)(Ux,{forActionType:$u,msgOnIsEmptyName:Ie,onCreate:xh,onClose:s})}),(0,It.jsx)(Bx,{title:"Rename",children:(0,It.jsx)(Kx,{forActionType:Wu,msgOnNotSelect:Le,msgOnIsEmptyName:Ie,onRename:yh,onClose:s})}),(0,It.jsx)(Bx,{title:"Delete",children:(0,It.jsx)(Yx,{forActionType:Ou,msgOnNotSelect:Le,onDelete:fh,onClose:s})})]},"1")})})),Xx=e=>{let{forActionType:t,msgOnNotSelect:o,msgOnIsEmptyName:s,onCreate:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=bx(),[d,p,u]=kt((()=>y(r).setValue(""))),h=qx(t,p,u),m=(0,l.useCallback)((()=>{const e=y(r).getValue(),t=y(a);if(t&&e)n({captionGroup:t,captionList:e});else{const n=[];t||n.push(o("In Group")),e||n.push(s("List")),p(n)}}),[]);return(0,It.jsxs)("div",{children:[(0,It.jsx)(hs,{caption:"In Group",options:h,onSelect:c}),(0,It.jsx)(To,{refEl:r,caption:"List"}),(0,It.jsx)(js,{validationMessages:d}),(0,It.jsx)(Vx,{caption:"Create",onClick:m,onClear:u,onClose:i})]})},Qx=e=>{let{refEl:t,...o}=e;const s=vx(o),n=(0,l.useRef)(null),[i,r]=bx(),[a,c]=(0,l.useState)([]),d=(0,l.useCallback)((e=>{e&&e.caption?(f(n,e.caption),c(e.lists||[])):f(n,null)}),[]),{getWatchListsByGroup:p,groupCaption:u,groupOptions:h,listCaption:m}=o;return(0,l.useEffect)((()=>{if(s&&o!==s){const e=y(n);o.groupOptions!==s.groupOptions?(f(n,null),f(i,null),c([])):e&&c((t=>{const o=p(e);return o!==t?(f(i,null),o):t}))}})),(0,l.useImperativeHandle)(t,(()=>({getValue:()=>({captionGroup:y(n),captionList:y(i)}),setValueNull:()=>{f(n,null),f(i,null)}}))),(0,It.jsxs)("div",{children:[(0,It.jsx)(hs,{caption:u,options:h,onSelect:d}),(0,It.jsx)(hs,{caption:m,options:a,onSelect:r})]})},Zx=e=>{let{getWatchListsByGroup:t,forActionType:o,msgOnIsEmptyName:s,msgOnNotSelect:n,onRename:i,onClose:r}=e;const a=(0,l.useRef)(),c=(0,l.useRef)(),[d,p,u]=kt((()=>y(c).setValue(""))),h=P(),m=qx(o,p,u,h),g=(0,l.useCallback)((()=>{const{captionGroup:e,captionList:t}=y(a).getValue(),o=y(c).getValue();if(e&&t&&o)i({captionGroup:e,captionListFrom:t,captionListTo:o});else{const i=[];e||i.push(n("Group")),t||i.push(n("List From")),o||i.push(s("List To")),p(i)}}),[]);return(0,It.jsxs)("div",{children:[(0,It.jsx)(Qx,{refEl:a,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:m,listCaption:"List From"}),(0,It.jsx)(To,{refEl:c,caption:"List To"}),(0,It.jsx)(js,{validationMessages:d}),(0,It.jsx)(Vx,{caption:"Rename",onClick:g,onClear:u,onClose:r})]})},ey=e=>{let{getWatchListsByGroup:t,forActionType:o,msgOnNotSelect:s,onDelete:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c,d]=kt(),p=P(),u=qx(o,c,d,p),h=(0,l.useCallback)((()=>{const e=y(r),{captionGroup:t,captionList:o}=e.getValue();if(t&&o)n({captionGroup:t,captionList:o});else{const e=[];t||e.push(s("Group")),o||e.push(s("List")),c(e)}}),[]);return(0,It.jsxs)("div",{children:[(0,It.jsx)(Qx,{refEl:r,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:u,listCaption:"List"}),(0,It.jsx)(js,{validationMessages:a}),(0,It.jsx)(Vx,{caption:"Delete",onClick:h,onClear:d,onClose:i})]})},ty=He((e=>{let{isShow:t,store:o,onClose:s}=e;return(0,It.jsx)(ix,{caption:"Watch Lists Edit",isShow:t,isWithButton:!1,onClose:s,children:(0,It.jsxs)(Mx,{width:"380px",children:[(0,It.jsx)(Bx,{title:"Create",children:(0,It.jsx)(Xx,{forActionType:Mu,msgOnNotSelect:Le,msgOnIsEmptyName:Ie,onCreate:jh,onClose:s})}),(0,It.jsx)(Bx,{title:"Rename",children:(0,It.jsx)(Zx,{getWatchListsByGroup:mh,forActionType:Au,msgOnNotSelect:Le,msgOnIsEmptyName:Ie,onRename:Ch,onClose:s})}),(0,It.jsx)(Bx,{title:"Delete",children:(0,It.jsx)(ey,{getWatchListsByGroup:mh,forActionType:Pu,msgOnNotSelect:Le,onDelete:vh,onClose:s})})]},"1")})})),oy={[K]:dx,[Y]:hx,[ee]:Cx,[J]:Rx,[X]:Ex,[Q]:Jx,[Z]:ty},sy=e=>(Eh(),(0,l.useEffect)((()=>{rh({watchList:Eu(oh)[0]||_u})}),[]),(0,It.jsxs)("div",{children:[(0,It.jsx)(im,{}),(0,It.jsxs)("div",{className:"component-container",children:[(0,It.jsx)(Yg,{useMsBrowser:mu,useMsBrowserDynamic:fu,useWatchList:dh,useDgOption:Ep}),(0,It.jsx)(wm,{}),(0,It.jsx)(Jg,{})]}),(0,It.jsx)(Zg,{useMdOption:Wp,routerDialog:oy})]}));i().config("https://59cd430997004591af3320a9875237d7@sentry.io/99461").install();const ny=()=>{document.getElementById("preloader")&&document.body.removeChild(document.getElementById("preloader")),(0,s.H)(document.getElementById("app")).render((0,It.jsx)(sy,{}))};!function(){const e=window.preloader;e&&(e.isErrCss||e.isErrScript)?e.stop():ny()}()},338:(e,t,o)=>{var s=o(961);t.H=s.createRoot,s.hydrateRoot},639:(e,t,o)=>{var s=o(540),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var s,i={},c=null,d=null;for(s in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,s)&&!a.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===i[s]&&(i[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},848:(e,t,o)=>{e.exports=o(639)}},e=>{var t;t=516,e(e.s=t)}]);