/*! For license information please see app_c8977db9da04ba38f56c.js.LICENSE.txt */
"use strict";(self.webpackChunklibrary_watch=self.webpackChunklibrary_watch||[]).push([[524],{618:(e,t,o)=>{var s=o(338),n=o(687),i=o.n(n);const r=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];return e.bind(null,...o)};var l=o(540);const a=Number.isNaN,c=Array.isArray,d=e=>t=>typeof t===e,p=d("number"),u=e=>p(e)&&e-e==0,h=d("string"),m=d("boolean"),g=d("function"),x=e=>h(e)&&""!==e;var f=o(848);const y=function(e,t,o){return void 0===o&&(o=e.key),(0,f.jsx)(e.type,{...e.props,...t},o)},j=e=>(e||{}).current,v=(e,t)=>{e&&(e.current=t)},C=(e,t)=>o=>{const s=j(o);return s&&g(s[e])?s[e]():t},b=C("isValid",!1),w=C("getValue"),k=e=>(t,o)=>{const s=j(t);s&&g(s[e])&&s[e](o)},S=k("setValue"),T=k("focus"),I=e=>{if(e&&g(e.focus))return e.focus(),!0},N=e=>I(j(e)),L=e=>e&&e[0]||{},D=e=>L(e).clientX,$=e=>L(e).clientY,R=e=>e.clientX||D(e.targetTouches)||D(e.changedTouches)||0,E=e=>e.clientY||$(e.targetTouches)||$(e.changedTouches)||0,_=(e,t)=>c(e)&&e.length>0?e.map(t):null,W=Object.is,M=Object.assign,O=e=>{let t;const o=new Set,s=(e,s)=>{const n="function"==typeof e?e(t):e;if(!W(n,t)){const e=t;t=(null!=s?s:"object"!=typeof n||null===n)?n:M({},t,n),o.forEach((o=>o(t,e)))}},n=()=>t,i={getState:n,setState:s,subscribe:e=>(o.add(e),()=>o.delete(e))};return t=e(s,n,i),i},A=e=>{const t=(0,l.useRef)(null);return null===t.current&&(t.current=e()),[t.current,t]},P=(e,t,o)=>{(0,l.useSyncExternalStore)(...A((()=>[()=>e.subscribe(t,o),()=>t(e.getState())]))[0])},B=()=>({}),F=()=>(0,l.useReducer)(B)[1],V=e=>"function"==typeof e,H=e=>{return o=e,(t=(e,t,s)=>{const n=s.subscribe;return s.subscribe=(e,t,o)=>{let i=e;if(t){const n=(null==o?void 0:o.equalityFn)||W;let r=e(s.getState());i=o=>{const s=e(o);if(!n(r,s)){const e=r;t(r=s,e)}},null!=o&&o.fireImmediately&&t(r,r)}return n(i)},o(e,t,s)})?O(t):O;var t,o},U=e=>[e.setState,e.getState],G=(e,t)=>[o=>({[e]:t?{[t]:o}:o}),t=>t[e]],z=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];return function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e(o.reduce(((e,t,o)=>(e[t]=s[o],e)),{}))}},q=(e,t)=>function(){return e(t(...arguments))},K=(e,t,o)=>r(P,e,t),Y=e=>{const t=Object.create(null);return t.value=e,{useAtomValue:()=>(t.rerender=F(),t.value),setValue:e=>{const o=t.value,s=t.rerender;t.value=((e,t)=>V(t)?t(e):t)(o,e),o!==t.value&&V(s)&&s()}}},J="alert",X="info",Q="addToWatch",Z="loadWatchItem",ee="editWatchGroup",te="editWatchList",oe="loadFile",se="LW",ne="WL",ie="WL_DB",re="WL_WATCH_LIST",le=e=>{let{uri:t,option:o,onFetch:s,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_nowTime:c,_doneOk:d,_doneFailure:p}=e;return fetch(t).then((e=>{const{status:t,headers:s}=e;if(o.limitRemaining=s.get("X-RateLimit-Remaining"),t>=200&&t<=400)return e.json();throw a(e)})).then((e=>{n(e,o)&&s({json:e,option:o,onCompleted:i}),d(c)})).catch((e=>{r({error:e,option:o,onFailed:l}),p(c)}))};var ae=o(809),ce=o.n(ae);const de=e=>{let{uri:t,option:o,onFetch:s,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_crErrResp:c,_nowTime:d,_doneOk:p,_doneFailure:u}=e;return fetch(t).then((e=>{if(e.body){return e.body.getReader().read()}throw a(e)})).then((e=>{const t=String.fromCharCode(...e.value);return ce().parse(t,{header:!0})})).then((e=>{if(!n(e))throw c();s({json:e,option:o,onCompleted:i}),p(d)})).catch((e=>{r({error:e,option:o,onFailed:l}),u(d)}))},pe=3e3,ue="DONE",he=(e,t)=>({errCaption:e,message:t}),me=he("Route is not exist"),ge=he("Load Frequency","Exceed item load frequency restriction of 3s"),xe=he("Loading In Progress","Loading data for this item in progress.\nIt seems several clicks on button Load repeatedly happend."),fe=function(e){let{status:t,statusText:o}=void 0===e?{}:e;return he("Request Error",`${t}: ${o}`)},ye=()=>he("Response Error","Response format is incorrect.");let je=ue,ve=Date.now()-pe,Ce=ve;const be=(e,t)=>{je=e,Ce=t},we=e=>{be(ue,e)},ke=e=>{be(ue,e)},Se=e=>{const{uri:t,option:o,onFailed:s,onCatch:n}=e,i=Date.now();if(!(i-Ce<300))if(t)if(t===je)n({error:xe,option:o,onFailed:s});else if(i-ve<pe)n({error:ge,option:o,onFailed:s});else{const s={...e,_crErr:fe,_crErrResp:ye,_nowTime:i,_doneOk:we,_doneFailure:ke};((e,t)=>{be(e,t)})(t,i);const{fetchType:n}=o;"csv-stream"===n?de(s):le(s)}else n({error:me,option:o,onFailed:s})},Te=(e,t)=>{const{caption:o,descr:s}=t;e.alertCaption=o,e.alertDescr=s},Ie=(e,t)=>`The ${e} witn name ${t} not found.`,Ne=e=>`Group with name ${e} is already existed.`,Le=(e,t)=>`List with name ${e}\n      In Group ${t} is already existed.`,De=(e,t)=>`Item with name ${e}\n      In List ${t} is already existed.`,$e=e=>`${e} name can not be empty.`,Re=e=>`${e} is not selected.`,Ee=(e,t)=>({caption:e,descr:t}),_e=(Ee("Loading In Progress","Loading the chart for this item-code in progress.\nIt seems several clicks on button Load repeatedly happend."),Ee("Drag Drop Item","Item in List already has been existed.")),We=Ee("Drag Drop List","List in Group already has been existed."),Me=Ee("Load from JSON File","Can not Load Watch Items from JSON File"),Oe=Ee("Runtime Error"),Ae=Ee("Network Error","Network error is encountered. Failed to fetch. May be you are offline, a DNS lookup failure or a resource unreachable."),Pe=Ee("Service Unavailable 503","Back-end server is at capacity. HTTP Code 503"),Be=(e,t)=>-1!==(e||"").indexOf(t),Fe=e=>{let{error:t,option:o,onFailed:s}=e;const{errCaption:n,message:i}=t||{};t instanceof TypeError?Be(i,"code 503")?Te(o,Pe):Be(i,"fetch")?Te(o,Ae):(o.alertCaption=n||Oe.caption,o.alertDescr=i):(o.alertCaption=n||Oe.caption,o.alertDescr=i),s(o)},Ve=()=>!0,He=function(e,t){return void 0===t&&(t=Ve),(0,l.memo)(e,t)},Ue=e=>t=>(0,l.memo)(t,e),Ge=Ue(((e,t)=>e.isShow===t.isShow)),ze=Ue(((e,t)=>e.items===t.items)),qe=e=>ze((t=>_(t.items,((o,s)=>e(o,s,t))))),Ke=document&&"ontouchstart"in document.documentElement,Ye=!Ke,Je=()=>!window.innerWidth||window.innerWidth>700,Xe=(e,t)=>{const[o,s]=(0,l.useState)((()=>g(e)?e():!!e)),n=(0,l.useCallback)((e=>{t&&e&&e.stopPropagation(),s((e=>!e))}),[]);return[o,n,s]},Qe=function(e,t,o){return void 0===o&&(o=!1),t?{name:e,onClick:t,isInitial:o,isClose:!0}:null},Ze=(e,t)=>A((()=>({pageWidth:175,maxPages:1,p0:[Qe("Input Labels",e,Je()),Qe("Input Dates",t)].filter(Boolean)})))[0],et=e=>{const[t,o]=Xe(Je);return[Ze(o,e),t]},tt=()=>{},ot=function(e){void 0===e&&(e=tt);const[t,o]=(0,l.useState)([]),s=(0,l.useCallback)((()=>{e(),o((e=>e.length>0?[]:e))}),[]);return[t,o,s]},st=Array.isArray,nt=e=>st(e)?e[0]?e[1]:"":e||"",it=(e,t)=>{const o=nt(e),s=nt(t);return o?s?`${o} ${s}`:o:s||void 0},rt=e=>({display:e}),lt=rt("block"),at=rt("inline-block"),ct=rt("none"),dt=(e,t)=>t?{...e,...t}:e,pt="show-popup",ut="not-selected",ht=e=>e?`${e} ${ut}`:ut,mt=ht("bt-item"),gt="popup-menu charts__menu-more",xt=ht("row-item"),ft=ht("item-title"),yt="source-link",jt="library",vt=`${jt}__title`,Ct=`${jt}__value`,bt=`${Ct}-title`,wt=e=>e?void 0:{visibility:"hidden"},kt=!Ke,St="keydown";let Tt=Object.create(null);const It=(e,t)=>{(0,l.useEffect)((()=>kt&&e?(((e,t)=>{Tt&&(Tt[e]=t)})(e,t),()=>(e=>Tt&&(Tt[e]=void 0))(e)):void 0),[])},Nt={textDecoration:"underline"},Lt=(e,t)=>{if(Ke||!e)return t;const o=((e,t)=>e?t.toUpperCase().indexOf(e):-1)(e,t);if(-1===o)return t;const s=t.substring(0,o),n=t.substring(o,o+1),i=t.substring(o+1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{children:s}),(0,f.jsx)("span",{style:Nt,children:n}),(0,f.jsx)("span",{children:i})]})},Dt=e=>{let{className:t,caption:o,hotKey:s,children:n}=e;return o?(0,f.jsxs)("span",{className:t,children:[Lt(s,o),n]}):null},$t={color:"#607d8b"},Rt=e=>{let{refBt:t,isArrow:o,timeout:s=3e3,className:n,style:i,isPrimary:r,title:a="",caption:c,hotKey:d,children:p,onClick:u}=e;const h=(0,l.useRef)(null),m=(0,l.useCallback)((e=>{if(0===s)return void u(e);const t=j(h),{timeStamp:o}=e;(null==t||o-t>s)&&(u(e),v(h,o))}),[s,u]),g=it("bt-flat",n),x=r?{...i,...$t}:i,y=d?`${a} [${d.toLowerCase()}]`:a;return It(d,u),(0,f.jsxs)("button",{ref:t,type:"button",className:g,style:x,title:y,onClick:m,children:[(0,f.jsx)(Dt,{className:"bt-flat__caption",caption:c,hotKey:d,children:o&&(0,f.jsx)("span",{className:"arrow-down"})}),p]})},Et=e=>A((()=>[(0,f.jsx)(Rt,{isPrimary:!0,caption:"Load",onClick:e},"load")]))[0],_t=(e,t)=>{const[o,s,n]=ot(),i=(0,l.useCallback)((()=>{e(s,n)}),[]);return[o,Et(i),(0,l.useCallback)((()=>{n(),t()}),[]),i]},Wt=e=>function(t,o){let{deps:s,isPropagation:n}=void 0===o?{}:o;return(0,l.useCallback)((o=>{e(o)&&(o.preventDefault(),n||o.stopPropagation(),t(event))}),s||[])},Mt=Wt((e=>13===e.keyCode||"Enter"===e.key)),Ot=Ye?Wt((e=>27===e.keyCode||"Escape"===e.key)):void 0,At=Wt((e=>46===e.keyCode||"Delete"===e.key)),Pt=Object.assign,[Bt,Ft,Vt,Ht]=Ke?["touchstart","touchmove","touchcancel","touchend"]:["mousedown","mousemove","mouseleave","mouseup"],Ut={passive:!0},Gt={passive:!1},zt=e=>t=>parseInt(t[e],10),qt=zt("top"),Kt=zt("left"),Yt=(e,t)=>e>0?e>t?t-16:e:8,Jt=(e,t,o)=>o-e>22&&t-o>22,Xt=e=>"BUTTON"===e.tagName||(e.dataset||{}).scrollable,Qt=(e,t,o,s)=>{const n=(e=>g(e.composedPath)?e.composedPath():void 0)(e);if(c(n))for(let e=0;e<n.length;e++){const t=n[e];if(Xt(t))return!1;if(t===s)break}if(!Ke)return!0;const{left:i,top:r,right:l,bottom:a}=s.getClientRects()[0];return Jt(i,l,t)&&Jt(r,a,o)},Zt=e=>{(0,l.useEffect)((()=>{let t,o,s=j(e),n=s.style,i=0,r=0;function l(e){e.cancelable&&(e.stopPropagation(),e.preventDefault()),0===i&&0===r&&(n.cursor="move"),i=R(e)-t,r=E(e)-o;const s=`translate(${i}px,${r}px)`;Pt(n,{webkitTransform:s,transform:s})}function a(){c(),function(){const e=qt(n),t=Kt(n),o=Yt(t+i,window.innerWidth-s.clientWidth),l=Yt(e+r,window.innerHeight-s.clientHeight);Pt(n,{top:`${l}px`,left:`${o}px`,webkitTransform:"",transform:""}),i=0,r=0}()}function c(){n.cursor="",s.removeEventListener(Ft,l,Gt),s.removeEventListener(Vt,a,Ut),s.removeEventListener(Ht,a,Ut)}return s.addEventListener(Bt,(e=>{t=R(e),o=E(e),s&&Qt(e,t,o,s)&&(s.addEventListener(Ft,l,Gt),s.addEventListener(Vt,a,Ut),s.addEventListener(Ht,a,Ut))}),Ut),()=>{c(),n=null,s=null}}),[])},eo=(e,t)=>{const o=(0,l.useRef)(),s=(0,l.useRef)(),n=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useCallback)((()=>{n.current=document.activeElement,I(j(s)||j(o))}),[]),a=(0,l.useCallback)((()=>{I(j(n)),n.current=null}),[]);return(0,l.useEffect)((()=>{const e=j(i);t&&!e?r():!t&&e&&a(),i.current=t}),[t]),(0,l.useImperativeHandle)(e,(()=>({focus:r,focusPrev:a})),[]),[o,s]},to=(e,t)=>{const o=()=>({...e(t),_props:t}),[s,n]=(0,l.useState)(o);return t!==s._props&&n(o()),[s,n]},oo=Date.now||(()=>new Date.getTime),so=function(e,t){void 0===t&&(t=800);let o=0;return function(){const s=oo();if(s-o>t)return o=s,e(...arguments)}},no=(e,t,o)=>(0,l.useCallback)(so(e,o),t||[]),io=(e,t)=>{j(t)&&(document.removeEventListener("click",e,!0),t.current=null)},ro=(e,t)=>{const o=(0,l.useRef)(null),s=(0,l.useRef)(null),n=(0,l.useCallback)((e=>{const s=j(o);s&&s.contains&&!s.contains(e.target)&&(e.stopPropagation(),t(e))}),[]);return(0,l.useEffect)((()=>{e&&!j(s)?(document.addEventListener("click",n,!0),s.current=!0):e||io(n,s)})),(0,l.useEffect)((()=>()=>io(n,s)),[]),o},lo=(e,t,o)=>{const s=(0,l.useRef)();(0,l.useEffect)((()=>(e&&g(t)&&o>=0&&v(s,setTimeout(t,o)),()=>clearTimeout(j(s)))),[e])},ao=function(e,t,o){void 0===o&&(o=!0);const s=(0,l.useRef)(),n=(0,l.useRef)();return function(e,t,o){void 0===o&&(o=350),lo(Ye&&e,(()=>N(t)),o)}(t,s),[s,n,t=>o&&0===t?s:t===e.length-1?n:void 0]},co={backgroundColor:"#4d4d4d"},po=()=>{},uo=e=>{let{isShow:t,className:o,style:s,onClose:n=po,children:i,...r}=e;const a=ro(t,n),c=Ot(n);return(e=>{const t=(0,l.useRef)();(0,l.useEffect)((()=>{let o;return e?v(t,document.activeElement):o=setTimeout((()=>N(t)),100),()=>clearTimeout(o)}),[e])})(t),(0,f.jsx)("div",{...r,ref:a,className:o,style:{...co,...s},hidden:!t,onKeyDown:t?c:void 0,children:i})},ho=e=>{let{refEl:t,isShow:o,style:s,className:n,onKeyDown:i,children:r}=e;const l=it(n,[o,pt]),a=o?lt:ct;return(0,f.jsx)("div",{ref:t,role:"presentation","aria-hidden":o,className:l,style:{...s,...a},onKeyDown:i,children:r})},mo=e=>{const[t,o]=(0,l.useState)(!1);return lo(e,(()=>o(!0)),500),(0,l.useEffect)((()=>{e||o(!1)}),[e]),t?ct:lt},go=e=>{let{style:t,onFocus:o}=e;return(0,f.jsx)("div",{style:t,tabIndex:"0","aria-hidden":"true",onFocus:o})},xo=e=>{let{refEl:t,refFirst:o,refLast:s,style:n,children:i}=e;return Ye?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(go,{style:n,onFocus:()=>{N(s)}}),i,(0,f.jsx)(go,{style:n,onFocus:()=>{N(o)}})]}):i},fo=e=>({"aria-labelledby":e}),yo=e=>({role:"combobox","aria-autocomplete":"list",...fo(e)}),jo=function(e){return void 0===e&&(e="0"),{role:"menuitem",className:`menu-item ${ut}`,tabIndex:e}},vo=()=>{},Co=e=>{let{refEl:t,onClick:o,onReg:s=vo,children:n,...i}=e;return(0,f.jsx)("div",{...i,...jo(),ref:t,onClick:o,onKeyDown:e=>{32===e.keyCode&&e.preventDefault()},onKeyUp:e=>{13!==e.keyCode&&32!==e.keyCode||o()},children:n})},bo={position:"relative"},wo={position:"absolute",top:0,left:16},ko={paddingLeft:16},So=e=>{let{refEl:t,titleCl:o,title:s,pageNumber:n,onClick:i}=e;return s?(0,f.jsxs)(Co,{refEl:t,className:o,style:bo,onClick:i,children:[(0,f.jsx)("span",{style:wo,children:"<"}),(0,f.jsx)("span",{style:ko,children:s})]}):null},To="switch",Io=`label-${To}`,No=`${To}-track`,Lo=`${To}-thumb`,Do=`${To}-label`,$o=()=>{},Ro=e=>{let{refEl:t,initialValue:o,className:s,style:n,caption:i,onToggle:r,onCheck:a=$o,onUnCheck:c=$o}=e;const d=(0,l.useId)(),[p,u]=(0,l.useState)((()=>!!o)),[h,m,g]=(e=>{const[t,o,s,n]=e?["#2f7ed8","var(--c-bg, #4d4d4d)","16px","var(--c-bl, black)"]:["#9e9e9e","#d3d3d3","4px","#9e9e9e"];return[{backgroundColor:t},{backgroundColor:o,transform:`translate(${s}, 3px)`},{color:n}]})(p);return(0,f.jsxs)("label",{className:it(Io,s),style:n,htmlFor:d,children:[(0,f.jsx)("input",{ref:t,id:d,type:"checkbox",role:"switch",className:To,"aria-checked":p,checked:p,onChange:e=>{const t=!p;(r||(t?a:c))(t),u(t)}}),(0,f.jsx)("span",{"aria-hidden":"true",className:No,style:h,children:(0,f.jsx)("span",{className:Lo,style:m})}),(0,f.jsx)("span",{className:Do,style:g,children:i})]})},Eo={height:38,padding:"9px 12px 0 0",alignItems:"baseline",fontSize:"16px"},_o={position:"relative"},Wo={position:"absolute",display:"inline-block",top:0,right:4,color:"inherit",padding:"1px 16px 1px 0px",fontWeight:"bold"},Mo=e=>{let{type:t}=e;return"sub"===t?(0,f.jsx)("span",{style:Wo,children:">"}):null},Oo=e=>{let{getRefItem:t,items:o,itemCl:s,pageNumber:n,onNextPage:i,onClose:l}=e;return(0,f.jsx)(f.Fragment,{children:o.map(((e,o)=>{const{name:s,type:a,id:c,isInitial:d,isClose:p,onClick:u}=e,h="sub"===a?r(i,c,s,n):(e=>{let{isClose:t,onClick:o,onClose:s}=e;return g(o)?t?()=>{o(),s()}:o:void 0})({isClose:p,onClick:u,onClose:l});return m(d)?(0,f.jsx)("div",{...jo("-1"),children:(0,f.jsx)(Ro,{refEl:t(o),style:Eo,initialValue:d,caption:s,onToggle:h})},s):(0,f.jsxs)(Co,{refEl:t(o),style:_o,onClick:h,children:[(0,f.jsx)("span",{children:s}),(0,f.jsx)(Mo,{type:a})]},s)}))})},Ao=e=>{let{isShow:t,items:o=[],style:s,isVisible:n,canBeHidden:i,title:r,titleCl:a,itemCl:c,pageCurrent:d,pageNumber:p,onClose:u,children:h,onNextPage:m,onPrevPage:g}=e;const x=(0,l.useCallback)((()=>{g(p)}),[g,p]),[y,j,v]=ao(o,n,!r),C=mo(i);return(0,f.jsx)("div",{style:{...s,...wt(n),...C},children:(0,f.jsxs)(xo,{refFirst:y,refLast:j,children:[(0,f.jsx)(So,{refEl:y,titleCl:a,title:r,onClick:x}),(0,f.jsx)(Oo,{getRefItem:v,items:o,itemCl:c||a,pageNumber:p,onNextPage:m,onClose:u}),h]})})},Po=e=>{let{isShow:t,style:o,pages:s,pageCurrent:n,onNextPage:i,onPrevPage:r,onClose:l}=e;return s.map(((e,s)=>{const a=s+1;return y(e,{isShow:t,pageCurrent:n,style:o,isVisible:t&&a===n,canBeHidden:a>n,pageNumber:a,onNextPage:0===s?i:void 0,onPrevPage:0!==s?r:void 0,onClose:l})}))},Bo={position:"absolute",overflow:"hidden"},Fo={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all .3s ease-out"},Vo={pageWidth:100,maxPages:2,initId:"p0",p0:[]},Ho=e=>({width:e}),Uo=(e,t,o,s)=>{t.push((0,f.jsx)(Ao,{title:s,items:e[o],titleCl:e.titleCl,itemCl:e.itemCl},o))},Go=e=>{const t=e.pageWidth,o=e.maxPages,s=e.initId||"p0";return{addPage:r(Uo,e),pageWidth:t,pagesStyle:Ho(o*t),pageStyle:Ho(t),pageCurrent:1,pages:[(0,f.jsx)(Ao,{items:e[s],titleCl:e.titleCl,itemCl:e.itemCl},s)]}},zo=(e,t)=>({transform:`translateX(${-1*e*(t-1)+0}px)`}),qo=e=>{let{model:t=Vo,isShow:o,className:s,onClose:n}=e;const[i,r]=to(Go,t),{pageWidth:l,pagesStyle:a,pageStyle:c,pageCurrent:d,pages:p}=i,u=no((e=>{r((t=>(t.pageCurrent=e-1,{...t})))})),h=no(((e,t,o)=>{r((s=>{const{addPage:n,pages:i}=s;return i.length-1+1>o?i[o]&&i[o].key!==e&&(o>0?s.pages.splice(o):s.pages=[],n(s.pages,e,t)):n(i,e,t),s.pageCurrent=o+1,{...s}}))})),m={...Bo,...c},g={...Fo,...a,...zo(l,d)};return(0,f.jsx)(uo,{isShow:o,onClose:n,children:(0,f.jsx)(ho,{className:s,style:m,isShow:o,children:(0,f.jsx)("div",{style:g,children:(0,f.jsx)(Po,{isShow:o,style:c,pages:p,pageCurrent:d,onNextPage:h,onPrevPage:u,onClose:n})})})})},Ko=e=>{let{style:t,svgStyle:o,btRef:s,onClick:n}=e;return(0,f.jsx)("button",{type:"button",ref:s,className:"bt-more",style:t,onClick:n,children:(0,f.jsxs)("svg",{style:o,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,f.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,f.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})},Yo=e=>{let{w:t=12,h:o=t,children:s,...n}=e;return(0,f.jsx)("svg",{viewBox:`0 0 ${t} ${o}`,"aria-hidden":"true",width:"100%",height:"100%",...n,xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:s})},Jo={padding:3,stroke:"inherit"},Xo=e=>{let{className:t,style:o,onClose:s}=e;return(0,f.jsx)("button",{type:"button",tabIndex:"-1",className:it("svg-close",t),style:o,onClick:s,children:(0,f.jsxs)(Yo,{style:Jo,strokeWidth:"2",strokeLinecap:"round",children:[(0,f.jsx)("path",{d:"M 0,0 L 12,12"}),(0,f.jsx)("path",{d:"M 12,0 L 0,12"})]})})},Qo="show-popup",Zo={display:"block"},es={display:"none"},ts={backgroundColor:"#4d4d4d",border:"solid 2px #1b2836",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px"},os={position:"absolute",top:4,right:0,marginRight:6},ss={textAlign:"right",margin:"8px 4px 10px 0"},ns={color:"#1b2836"},is=ht(),rs={...ts,position:"absolute",top:30,left:50,zIndex:10},ls={position:"relative",padding:"5px 35px 5px 16px",color:"#c0c0c0",stroke:"#c0c0c0",backgroundColor:"#1b2836",textAlign:"center",fontSize:"18px",fontWeight:500,marginBottom:10,cursor:"move"},as={position:"absolute",top:2,left:0},cs={stroke:"inherit",fill:"inherit"},ds=()=>{},ps=e=>{let{refEl:t,menuModel:o,isShow:s,caption:n,children:i,commandButtons:r,onShowChart:l,onClose:a=ds}=e;const[c,d]=eo(t,s),[p,u]=Xe(),h=Ot(a),m=it("draggable-dialog",[s,Qo]),x=s?Zo:es;return Zt(c),(0,f.jsxs)("div",{ref:c,role:"dialog",tabIndex:"-1","aria-label":n,"aria-hidden":!s,className:m,style:{...rs,...x},onKeyDown:h,children:[(0,f.jsxs)("div",{style:ls,children:[o&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(qo,{isShow:p,className:"popup-menu dialog__menu-more",model:o,onClose:u}),(0,f.jsx)(Ko,{btRef:d,style:as,svgStyle:cs,onClick:u})]}),(0,f.jsx)("span",{className:is,children:n}),(0,f.jsx)(Xo,{style:os,onClose:a})]}),(0,f.jsx)("div",{children:i}),(0,f.jsxs)("div",{style:ss,children:[r,g(l)&&(0,f.jsx)(Rt,{timeout:0,rootStyle:ns,caption:"Show",title:"Show Pane Container",onClick:l},"show"),(0,f.jsx)(Rt,{timeout:0,rootStyle:ns,caption:"Close",title:"Close Draggable Dialog",onClick:a},"close")]})]})},us={display:"flex",alignItems:"center",margin:5},hs=e=>{let{style:t,children:o}=e;return(0,f.jsx)("div",{style:{...us,...t},children:o})},ms=e=>{let{isWithoutDefault:t,className:o,style:s,caption:n="",title:i,onClick:r}=e;const l=it([!t,"zhn-bt-circle"],o);return(0,f.jsx)("button",{type:"button",className:l,style:s,title:i,onClick:r,children:(0,f.jsx)("div",{children:n})})},gs={padding:"4px 0 8px 0"},xs={marginLeft:20},fs=(0,l.memo)((e=>{let{buttons:t}=e;return(0,f.jsx)(hs,{style:gs,children:_(t,((e,t)=>{let{caption:o,title:s,onClick:n}=e;return(0,f.jsx)(ms,{style:xs,caption:o,title:s,onClick:n},o+t)}))})})),ys=fs,js=e=>{let{isShow:t,buttons:o}=e;return(0,f.jsx)(ho,{isShow:t,children:(0,f.jsx)(ys,{buttons:o})})},vs=Array.isArray,Cs={color:"#f44336",padding:"5px 0 0 10px"},bs={display:"inline-block",width:22,height:22,marginRight:5,border:"solid 2px #f44336",borderRadius:"50%",textAlign:"center"},ws={whiteSpace:"pre",fontWeight:"bold"},ks=e=>{let{index:t,msg:o}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:bs,children:t}),(0,f.jsx)("span",{style:ws,children:o})]})},Ss=e=>{let{validationMessages:t}=e;return vs(t)?(0,f.jsx)("div",{style:Cs,children:t.map(((e,t)=>(0,f.jsx)(ks,{msg:e,index:t+1},t)))}):null},Ts=e=>{let{isShow:t,isToolbar:o,caption:s,menuModel:n,commandButtons:i,toolbarButtons:r,validationMessages:l,children:a,onShow:c,onClose:d}=e;return(0,f.jsxs)(ps,{isShow:t,caption:s,menuModel:n,commandButtons:i,onShowChart:c,onClose:d,children:[(0,f.jsx)(js,{isShow:o,buttons:r}),a,(0,f.jsx)(Ss,{validationMessages:l})]})},Is="m-field",Ns=`${Is}__input`,Ls=`${Is}__bt-clear`,Ds=e=>{let{isValue:t,onClick:o}=e;return(0,f.jsx)("button",{type:"button",className:Ls,tabIndex:"-1",onClick:o,children:t?"x":""})},$s=()=>{},Rs=e=>{let{refEl:t,style:o,initValue:s,placeholder:n,maxLength:i=50,labelId:r,onEnter:a=$s}=e;const c=(0,l.useRef)(),[d,p]=(0,l.useState)((()=>s||"")),u=(0,l.useCallback)((e=>{p(e.target.value)}),[]),h=(0,l.useCallback)((e=>{(e=>{let{keyCode:t}=e;return 27===t||46===t})(e)?p(""):(e=>{let{keyCode:t}=e;return 13===t})(e)&&a(e.target.value)}),[a]),m=(0,l.useCallback)((()=>{p(""),N(c)}),[]);return(0,l.useImperativeHandle)(t,(()=>({getValue:()=>{const e=j(c);return e?e.value.trim():void 0},setValue:e=>p(e),focus:()=>{N(c)}})),[]),(0,f.jsxs)("div",{className:Is,children:[(0,f.jsx)("input",{...fo(r),type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,ref:c,className:Ns,style:o,value:d,placeholder:n,maxLength:i,onChange:u,onKeyDown:h}),Ke&&(0,f.jsx)(Ds,{isValue:Boolean(d),onClick:m})]})},Es={color:"#1b75bb",display:"inline-block",width:120,paddingRight:8,textAlign:"right",fontSize:"16px",fontWeight:"bold"},_s=e=>{let{is:t=!0,caption:o,labelId:s}=e;return t?(0,f.jsx)("span",{style:Es,id:s,children:o}):null},Ws={margin:5,lineHeight:2},Ms={width:250,height:30,paddingLeft:10,marginLeft:0,marginRight:0},Os=e=>{let{refEl:t,isShowLabel:o,caption:s,placeholder:n,onEnter:i}=e;const r=(0,l.useId)(),a=o?n:n||s;return(0,f.jsxs)("div",{style:Ws,children:[(0,f.jsx)(_s,{is:o,caption:s,labelId:r}),(0,f.jsx)(Rs,{refEl:t,style:Ms,placeholder:a,labelId:r,onEnter:i})]})},As=Ge((e=>{let{isShow:t,caption:o,oneTitle:s,onePlaceholder:n,requestType:i,onShow:r,onLoad:a,onClose:c}=e;const[d,p]=et(),u=(0,l.useRef)(),[h,m,g,x]=_t(((e,t)=>{const o=j(u).getValue(),n=((e,t)=>{const o=[];return e||o.push(`${t} is required`),o.isValid=0===o.length,o})(o,s);n.isValid?(a({repo:o,requestType:i}),t()):e(n)}),c);return(0,f.jsx)(Ts,{isShow:t,caption:o,menuModel:d,commandButtons:m,validationMessages:h,onShow:r,onClose:g,children:(0,f.jsx)(Os,{refEl:u,isShowLabel:p,caption:s,placeholder:n,onEnter:x})})})),Ps=e=>{const t=(0,l.useRef)(e||{}),o=(0,l.useCallback)((e=>{v(t,e)}),[]);return[t,o]},Bs=e=>{let{item:t,propCaption:o}=e;return(0,f.jsx)("span",{children:t[o]})},Fs="zhn-select",Vs=`${Fs}__input`,Hs=`${Fs}__spinner`,Us=`${Hs}--failed`,Gs=`${Fs}__bt-arrow`,zs=`${Fs}__input__hr`,qs=`${Fs}__options`,Ks=`${qs}__div`,Ys=`${Fs}__row`,Js=`${Ys}--active`,Xs=`${Fs}__footer`,Qs=`${Xs}__index`,Zs=`${Xs}__bts`,en=`${Xs}--margin`,tn=ht(),on=(e,t)=>e?-1!==(""+e).indexOf("%")?{...t,width:e}:{...t,width:e+"px"}:null,sn=e=>{let{className:t,style:o,caption:s="",onClick:n,...i}=e;return(0,f.jsx)("button",{type:"button",className:it("zhn-bt-circle2",t),style:o,onClick:n,...i,children:(0,f.jsx)("div",{children:s})})},nn={backgroundColor:"#949ab4"},rn=e=>{let{refIndexElement:t,indexActiveOption:o,nFiltered:s,nAll:n,onStepDown:i,onStepUp:r,onClear:l}=e;return(0,f.jsxs)("div",{className:`${Xs} ${tn}`,children:[(0,f.jsxs)("span",{className:Qs,children:[(0,f.jsx)("span",{ref:t,children:o}),(0,f.jsxs)("span",{children:[": ",s,": ",n]})]}),(0,f.jsxs)("span",{className:Zs,children:[(0,f.jsx)(sn,{className:en,style:nn,caption:"Dn",onClick:i}),(0,f.jsx)(sn,{className:en,style:nn,caption:"Up",onClick:r}),(0,f.jsx)(sn,{style:nn,caption:"CL",onClick:l})]})]})},ln={display:"block"},an={display:"none"},cn=e=>{let{id:t,refOptionsElement:o,refIndexElement:s,optionsStyle:n,width:i,isShowOption:r,indexActiveOption:l,nFiltered:a,nAll:c,onStepUp:d,onStepDown:p,onClear:u,children:h}=e;const m=on(i,r?ln:an);return(0,f.jsxs)("div",{id:t,className:qs,style:m,"data-scrollable":!0,children:[(0,f.jsx)("div",{ref:o,className:Ks,style:{...n,...m},children:h}),(0,f.jsx)(rn,{refIndexElement:s,indexActiveOption:l,nAll:c,nFiltered:a,onStepUp:d,onStepDown:p,onClear:u})]})},dn=e=>{let{options:t,indexActiveOption:o,propCaption:s,ItemOptionComp:n,onClick:i}=e;return t.map(((e,t)=>(0,f.jsx)("div",{role:"option","aria-selected":o===t,tabIndex:"-1",className:Ys,"data-index":t,onClick:t=>i(e,t),children:(0,f.jsx)(n,{item:e,propCaption:s})},t)))},pn={color:"#1b75bb"},un={color:"#858585"},hn=e=>{let{isShowOption:t,onClick:o}=e;return(0,f.jsx)("button",{className:Gs,type:"button",tabIndex:"-1","aria-label":"Toggle suggestions",onClick:o,children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",style:t?pn:un,children:(0,f.jsx)("path",{d:"M 3,6 L 10,12.5 M 10,12.5 L 17,6"})})})},mn=(e,t,o,s)=>{const{isLoading:n,isLoadingFailed:i,placeholder:r,optionName:l="",onLoadOption:a}=e,{optionNames:c}=t;return n||i?n?[`Loading ${c}...`,(0,f.jsx)("span",{className:Hs,"data-loader":"circle"})]:i?[`Loading ${c} Failed`,(0,f.jsx)(sn,{className:Us,"data-loader":"circle-failed",onClick:a})]:[]:[r||`Select ${l}...`,(0,f.jsx)(hn,{isShowOption:o,onClick:s})]},gn="From input:",xn=(e,t,o,s)=>{const n=((e,t,o)=>{const s=t.toLowerCase();return(e||[]).filter((e=>-1!==e[o].toLowerCase().indexOf(s)))})(t,e,o);return 0===n.length&&n.push(((e,t,o)=>{const s=String(e).replace(gn,"").trim(),n=o?`${gn} ${s}`:"No results found";return{[t]:n,value:"noresult",inputValue:s}})(e,o,s)),n},fn=e=>{const t=(0,l.useRef)(e);return(0,l.useMemo)((()=>[e=>{t.current=e},()=>t.current]),[])},yn=e=>{const{dataset:t}=e,{index:o}=t||{};return Number(o)},jn=(e,t)=>(0,l.useMemo)((()=>[t=>{if(t){t.classList.add(Js);const o=yn(t),s=j(e);s&&u(o)&&(s.textContent=o+1)}},e=>{const o=e||t();o&&o.classList.remove(Js)}]),[]),vn=e=>(e.children||{}).length,Cn=()=>{const e=(0,l.useRef)(),t=(0,l.useRef)(),[o,s]=fn(0),n=(0,l.useMemo)((()=>()=>((j(e)||{}).childNodes||[])[s()]),[]),[i,r]=jn(t,n);return[e,t,o,s,n,i,r,...(0,l.useMemo)((()=>[()=>{const t=n();if(t){r(t);const l=j(e);o(s()+1),s()>=vn(l)&&(o(0),l.scrollTop=0);const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d>70&&(l.scrollTop+=c-d-70)}},()=>{const t=n();if(t){r(t);const s=j(e);o(0),s.scrollTop=0;const l=n();i(l)}},()=>{const t=n();if(t){r(t);const l=j(e);if(o(s()-1),s()<0){o(vn(l)-1);const e=n();l.scrollTop=e.offsetTop}const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d<70&&(l.scrollTop-=70-(c-d))}},()=>{const t=n();if(t){r(t);const s=j(e);o(vn(s)-1);const l=n();s.scrollTop=l.offsetTop;const a=n();i(a)}}]),[])]},bn=[],wn=e=>{let{optionName:t,optionNames:o,options:s=bn}=e;return{value:"",initialOptions:s,options:s,optionNames:o||t||""}},kn=()=>{},Sn=e=>{const{style:t,width:o,optionsStyle:s,labelId:n,propCaption:i="caption",ItemOptionComp:r=Bs,isWithInput:a=!1,onSelect:c=kn}=e,d=(0,l.useId)(),p=(0,l.useRef)(),[h,m]=(0,l.useState)((()=>wn(e))),{value:g,options:x,initialOptions:y}=h,[j,v,C]=Xe(!1),[b,w,k,S,T,I,N,L,D,$,R]=Cn(),E=(0,l.useCallback)((()=>{N(),m((()=>wn(e))),C(!1),k(0),c()}),[e.options,c]),_=(0,l.useCallback)(((e,t)=>{N(),k(yn(t.currentTarget)),C(!1),m((t=>({...t,value:e[i]}))),c(e)}),[]),W=(0,l.useMemo)((()=>(0,f.jsx)(dn,{options:x,indexActiveOption:S(),propCaption:i,ItemOptionComp:r,onClick:_})),[x]);(0,l.useEffect)((()=>{if(j){const e=T();I(e),(e=>{if(e){const{offsetTop:t}=e,o=e.parentElement,{scrollTop:s}=o;t-s>70&&(o.scrollTop+=t-s-70),t-s<0&&(o.scrollTop=0)}})(e)}}),[j]),e.options!==y&&E();const M=S(),O=on(o,t),[A,P]=mn(e,h,j,v),[B,F]=((e,t)=>[e[0]&&"noresult"!==e[0].value?e.length:0,t?t.length:0])(x,y);return(0,f.jsxs)("div",{className:Fs,style:O,children:[(0,f.jsx)("input",{...(V=j,H=d,{"aria-expanded":V,"aria-controls":V?H:void 0}),...yo(n),type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,ref:p,className:Vs,value:g,placeholder:A,onChange:e=>{const t=e.target.value,o=t.length,s=g.length;o!==s&&(0!==S()&&(N(),k(0)),m((e=>({...e,value:t,options:xn(t,o>s?x:y,i,a)}))),C(!0))},onKeyDown:e=>{let t;switch(e.keyCode){case 13:{const e=S();if(u(e)){const t=x[e];t&&t[i]&&(c(((e,t,o)=>"noresult"!==e.value?e:o?{[t]:"From Input",value:e.inputValue}:void 0)(t,i,a)),C(!1),m((e=>({...e,value:t[i]}))))}else c();break}case 27:case 46:e.preventDefault(),j?C(!1):E();break;case 40:j?t=L:C(!0);break;case 38:t=$;break;case 36:t=D;break;case 35:t=R;break;default:return}j&&t&&(e.preventDefault(),t())}}),P,(0,f.jsx)("hr",{className:zs}),(0,f.jsx)(cn,{id:d,refOptionsElement:b,refIndexElement:w,optionsStyle:s,width:o,isShowOption:j,indexActiveOption:M,nFiltered:B,nAll:F,onStepUp:$,onStepDown:L,onClear:E,children:W})]});var V,H},Tn=e=>{let{isShowLabel:t,caption:o,placeholder:s,options:n,onSelect:i}=e;const r=(0,l.useId)();return(0,f.jsxs)(hs,{children:[(0,f.jsx)(_s,{is:t,caption:o,labelId:r}),(0,f.jsx)(Sn,{width:"250",placeholder:s,options:n,labelId:r,onSelect:i})]})},In=[{caption:"OS: Desktop, Mobile, Tablet, Console",value:"os"},{caption:"OS: Desktop",value:"os-desktop"},{caption:"Windows: Desktop",value:"win-desktop"},{caption:"macOS: Desktop",value:"mac-desktop"},{caption:"Android: Mobile, Tablet",value:"android-mobile"},{caption:"IOS: Mobile, Tablet",value:"ios-mobile"},{caption:"Browser: All Platforms",value:"browser"},{caption:"Social Media Stats",value:"social-media"}],Nn=[{caption:"Worldwide",value:"worlwide",v2:"ww"},{caption:"Africa",value:"africa",v2:"af"},{caption:"Asia",value:"asia",v2:"as"},{caption:"Antarctica",value:"antarctica",v2:"an"},{caption:"Australia",value:"australia",v2:"au"},{caption:"Europe",value:"europe",v2:"eu"},{caption:"North America",value:"north-america",v2:"na"},{caption:"South America",value:"south-america",v2:"sa"},{caption:"Oceania",value:"oceania",v2:"oc"}],Ln=e=>e.caption,Dn=In[0],$n=Ln(Dn),Rn=Nn[0],En=Ln(Rn),_n=Ge((e=>{let{isShow:t,caption:o,requestType:s,onShow:n,onLoad:i,onClose:r}=e;const[l,a]=et(),[c,d]=Ps(Dn),[p,u]=Ps(Rn),[h,m,g]=_t(((e,t)=>{const{value:o,caption:n}=j(c)||Dn;i({requestType:s,value:o,caption:n,region:j(p)||Rn})}),r);return(0,f.jsxs)(Ts,{isShow:t,caption:o,menuModel:l,commandButtons:m,validationMessages:h,onShow:n,onClose:g,children:[(0,f.jsx)(Tn,{isShowLabel:a,caption:"Item",placeholder:$n,options:In,onSelect:d}),(0,f.jsx)(Tn,{isShowLabel:a,caption:"Region",placeholder:En,options:Nn,onSelect:u})]})})),Wn=e=>(j(e)||{}).value,Mn=[["just now",999],["sec",1e3],["min",6e4],["hour",36e5],["day",864e5],["week",6048e5],["month",2592e6],["year",31536e6]],On=Mn.length,An=On-1,Pn=(e,t)=>{const[o,s]=Mn[t],n=Math.round(e/s);return`${n} ${o}${1===n?"":"s"} ago`},Bn=(e,t)=>{const o=t||Date.now(),s=Math.abs(e-o);for(let e=0;e<On;e++)if(s<Mn[e][1])return 0===e?Mn[0][0]:Pn(s,e-1);return Pn(s,An)},Fn=Math.floor,Vn=Math.min,Hn=e=>parseInt(e,10),Un=e=>Hn(e)-1,Gn=(e,t,o,s)=>h(e)&&e.length!==t||((e,t,o)=>a(e)||e<t||e>o)(parseInt(e,10),o,s),zn=(e,t,o)=>{if(!h(e))return!1;const s=e.trim();return 10===s.length&&function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=1999);const[s,n,i]=e.split("-"),r=(new Date).getFullYear();return!(Gn(s,4,o,r+t)||Gn(n,2,1,12)||Gn(i,2,1,31))}(s,t,o)},qn=e=>("0"+e).slice(-2),Kn=(e,t)=>new Date(e,t,0).getDate(),Yn=function(e){void 0===e&&(e=2);return((e,t)=>e.getUTCFullYear()-t+"-"+qn(e.getUTCMonth()+1)+"-"+qn(e.getUTCDate()))(new Date,e)},Jn=()=>Yn(0),Xn=e=>{const t=(e=>{if(!u(e)||!isFinite(e))return"";const t=new Date(e);return"Invalid Date"===t.toString()?"":qn(t.getUTCDate())+"-"+qn(t.getUTCMonth()+1)+"-"+t.getUTCFullYear()})(e);if(""===t)return"";const[o,s,n]=t.split("-");return`${n}-${s}-${o}`},Qn=e=>(e=>{if(!h(e))return NaN;const t=e.split("-");return Date.UTC(t[0],Un(t[1]),t[2])})(e)/1e3,Zn=(e,t)=>((e,t)=>u(e)?Bn(e,t):"")(20===(e||"").trim().length?Date.UTC(e.slice(0,4),Un(e.slice(5,7)),Hn(e.slice(8,10)),Hn(e.slice(11,13)),Hn(e.slice(14,16))):void 0,t),ei={position:"relative",display:"inline-block",width:250,backgroundColor:"#e1e1cb"},ti={color:"green",width:"100%",height:30,paddingLeft:10,fontSize:"16px",fontWeight:"bold",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},oi={width:230,margin:"0 0 5px 10px",borderWidth:"medium medium 1px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},si="#f44336",ni={borderColor:"#1b75bb"},ii={borderColor:si},ri={color:si,padding:"0 0 5px 10px",fontSize:"12px",fontWeight:"bold"},li=()=>{},ai=e=>{let{labelId:t,refEl:o,initialValue:s,errorMsg:n,onTest:i=li}=e;const r=(0,l.useRef)(),[a,c]=(0,l.useState)({value:s||"",isValid:!0,errMsg:null}),{value:d,isValid:p,errMsg:u}=a,h=p?ni:ii;return(0,l.useImperativeHandle)(o,(()=>({getValue:()=>d,isValid:()=>p,focus:()=>T(r)})),[p,d]),(0,f.jsxs)("div",{style:ei,children:[(0,f.jsx)("input",{...fo(t),type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,ref:r,style:ti,placeholder:"YYYY-MM-DD",value:d,onChange:e=>{const{value:t}=e.target;c((e=>{const[o,s]=i(t)?[!0,null]:[!1,e.errMsg];return{value:t,isValid:o,errMsg:s}}))},onBlur:()=>{const[e,t]=i(d)?[!0,null]:[!1,n];c({value:d,isValid:e,errMsg:t})}}),(0,f.jsx)("hr",{style:{...oi,...h}}),(0,f.jsx)("div",{style:ri,children:u})]})},ci=Yn(1),di=Jn(),pi="YYYY-MM-DD format must be",ui=e=>`${e} is not in valid format`,hi=e=>(w(e)||"").trim(),mi=e=>{let{refEl:t,isShow:o,isShowLabels:s=!0,msgOnNotValidFormat:n=ui,initialFromDate:i=ci,initialToDate:r=di,onTestDate:a=zn}=e;const c=(0,l.useId)(),d=(0,l.useId)(),p=(0,l.useRef)(),u=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({getValues:()=>({fromDate:w(p),toDate:w(u)}),setValues:(e,t)=>{S(p,e),S(u,t)},getValidation:()=>{const e=[];return b(p)||e.push(n("From Date")),b(u)||e.push(n("To Date")),hi(p)>hi(u)&&e.push("From Date is near that To Date"),e.length>0?{isValid:!1,datesMsg:e}:{isValid:!0}},focusInput:()=>{T(p)},focusNotValidInput:()=>b(p)?!b(u)&&(T(u),!0):(T(p),!0)})),[n]),(0,f.jsxs)(ho,{isShow:o,children:[(0,f.jsxs)(hs,{children:[(0,f.jsx)(_s,{is:s,caption:"From Date",labelId:c}),(0,f.jsx)(ai,{labelId:c,refEl:p,initialValue:i,errorMsg:pi,onTest:a})]}),(0,f.jsxs)(hs,{children:[(0,f.jsx)(_s,{is:s,caption:"To Date",labelId:d}),(0,f.jsx)(ai,{labelId:d,refEl:u,initialValue:r,errorMsg:pi,onTest:a})]})]})},gi=(e,t,o)=>({caption:e,placeholder:t,options:o}),xi=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Hot Tab",value:"hot"},{caption:"Hot Week Tab",value:"week"},{caption:"Hot Month Tab",value:"month"}],fi=[{caption:"Only releases",value:"R"},{caption:"All versions",value:"A"}],yi=e=>e?Qn(e):void 0,ji=Ge((e=>{let{isShow:t,caption:o,requestType:s,oneTitle:n,onePlaceholder:i,isPeriod:r,onShow:a,onLoad:c,onClose:d}=e;const p=(0,l.useMemo)((()=>(e=>"SE_QUESTIONS"===e?gi("Sort By","Default: Hot Week Tab",xi):"NPM_TOP_VERSIONS"===e?gi("Versions","Default: Only releases",fi):{})(s)),[s]),[u,h]=Xe(),[m,g]=et(r?h:void 0),x=(0,l.useRef)(),y=(0,l.useRef)(),[v,C]=Ps(),[b,w,k,S]=_t(((e,t)=>{const o=j(x).getValue(),[n,i,r,l]=(e=>{if(e){const{isValid:t,datesMsg:o}=e.getValidation(),{fromDate:s,toDate:n}=e.getValues();return[t,o,s,n]}return[!0,""]})(j(y)),a=((e,t)=>{const o=[];return e||o.push(t),o.isValid=0===o.length,o})(n,i);a.isValid?(c({repo:o,requestType:s,sort:Wn(v),fromdate:yi(r),todate:yi(l)}),t()):e(a)}),d);return(0,f.jsxs)(Ts,{isShow:t,caption:o,menuModel:m,commandButtons:w,validationMessages:b,onShow:a,onClose:k,children:[(0,f.jsx)(Os,{refEl:x,isShowLabel:g,caption:n,placeholder:i,onEnter:S}),(0,f.jsx)(Tn,{...p,isShowLabel:g,onSelect:C}),r&&(0,f.jsx)(mi,{refEl:y,isShow:u,isShowLabels:g})]})})),vi=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Relevance",value:"relevance"}],Ci=Ge((e=>{let{isShow:t,caption:o,oneTitle:s,onePlaceholder:n,twoTitle:i,twoPlaceholder:r,requestType:a,onShow:c,onLoad:d,onClose:p}=e;const[u,h]=Xe(),[m,g]=et(h),x=(0,l.useRef)(),y=(0,l.useRef)(),v=(0,l.useRef)(),[C,b]=Ps(),[w,k,S,T]=_t(((e,t)=>{const o=j(x).getValue(),s=j(y).getValue(),n=j(v),{isValid:i,datesMsg:r}=n.getValidation(),{fromDate:l,toDate:c}=n.getValues(),p=((e,t)=>{const o=[];return e||o.push(t),o.isValid=0===o.length,o})(i,r);p.isValid?d({repo:o,requestType:a,intitle:s,sort:Wn(C),fromdate:Qn(l),todate:Qn(c)}):e(p)}),p);return(0,f.jsxs)(Ts,{isShow:t,caption:o,menuModel:m,commandButtons:k,validationMessages:w,onShow:c,onClose:S,children:[(0,f.jsx)(Os,{refEl:x,isShowLabel:g,caption:s,placeholder:n,onEnter:T}),(0,f.jsx)(Os,{refEl:y,isShowLabel:g,caption:i,placeholder:r}),(0,f.jsx)(Tn,{isShowLabel:g,caption:"Sort By",placeholder:"Default: Activity",options:vi,onSelect:b}),(0,f.jsx)(mi,{refEl:v,isShow:u,isShowLabels:g})]})})),bi=Jn(),wi={DEFAULT:As,DialogType1:As,DialogType1A:_n,DialogType2:ji,DialogType3:Ci,DialogType3A:Ge((e=>{let{isShow:t,caption:o,requestType:s,oneTitle:n,fromDate:i,onePlaceholder:r,onLoad:a,onShow:c,onClose:d}=e;const[p]=A((()=>u(i)&&i<36?((e,t)=>{const[o,s,n]=e.split("-"),i=t%12,r=parseInt(s);let l,a=parseInt(o)-Fn(t/12);r>i?l=r-i:(a-=1,l=r===i?12:l=r-i+12);const c=Kn(a,l),d=qn(Kn(o,s))===n?c:Vn(parseInt(n),c);return`${a}-${qn(l)}-${qn(d)}`})(bi,i):void 0)),[h,m]=Xe(),[g,x]=et(m),y=(0,l.useRef)(),v=(0,l.useRef)(),[C,b,w,k]=_t(((e,t)=>{const o=j(y).getValue(),i=j(v),{isValid:r,datesMsg:l}=i.getValidation(),{fromDate:c,toDate:d}=i.getValues(),p=((e,t,o,s)=>{const n=[];return e||n.push(`${s} is required`),t||n.push(o),n.isValid=0===n.length,n})(o,r,l,n);p.isValid?(a({repo:o,requestType:s,fromDate:c,toDate:d}),t()):e(p)}),d);return(0,f.jsxs)(Ts,{isShow:t,caption:o,menuModel:g,commandButtons:b,validationMessages:C,onShow:c,onClose:w,children:[(0,f.jsx)(Os,{refEl:y,isShowLabel:x,caption:n,placeholder:r,onEnter:k}),(0,f.jsx)(mi,{refEl:v,isShow:h,isShowLabels:x,initialFromDate:p,initialToDate:bi})]})}))},ki=(e,t)=>o=>{const{requestType:s=t}=o,n=s&&e[s];return g(n)?n(o):void 0},Si=(e,t)=>({errCaption:e,message:t}),Ti="https://crates.io",Ii=`${Ti}/api/v1/crates`,Ni=Array.isArray,Li={getRequestUrl(e){const{repo:t}=e;return e.sourceLink=`${Ti}/crates/${t}`,[`${Ii}/${t}`,`${Ii}/${t}/downloads`]},crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse(e,t){if(t.json1){const{meta:t}=e||{},{extra_downloads:o}=t||{};if(!Ni(o))throw Si("Request Crate","Incorrect response");return!0}return!0}},Di="https://api.github.com",$i=`${Di}/repos`,Ri=e=>t=>{let{repo:o}=t;return`${$i}/${o}/${e}`},Ei={getRequestUrl:ki({GH_RELEASE_RECENT:Ri("releases/latest"),GH_TAGS:Ri("tags"),GH_SEARCH_INFO:e=>{let{repo:t}=e;return`${Di}/search/repositories?q=repo:${t}`},GH_COMMITS:Ri("commits"),GH_ISSUES:Ri("issues"),GH_PULL_REQUESTS:Ri("pulls")}),crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse:()=>!0},_i=e=>x(e)?e[0].toUpperCase()+e.substring(1):e,Wi="https://api.npmjs.org",Mi="https://www.npmjs.com",Oi=`${Mi}/package/`,Ai=e=>{const{repo:t}=e;var o;e.packageLink=(o=t)?`${Oi}${o}`:Mi},Pi={getRequestUrl:ki({NPM_RECENT_VERSION:e=>`https://registry.npmjs.org/-/package/${e.repo}/dist-tags`,NPM_DOWNLOADS_RECENT_MONTH:e=>(Ai(e),`${Wi}/downloads/range/last-month/${e.repo}`),NPM_DOWNLOADS:e=>{const{fromDate:t,toDate:o,repo:s}=e;return Ai(e),`${Wi}/downloads/range/${t}:${o}/${s}`},NPM_TOP_VERSIONS:e=>{return Ai(e),`${Wi}/versions/${t=e.repo,t.replace("/","%2F")}/last-week`;var t}}),crKey(e){let{repo:t,requestType:o,fromDate:s=""}=e;return`${t}_${o}_${s}`},checkResponse(e,t){const{error:o}=e||{};if(o)throw Si("Request Package",_i(o));return!0}},Bi="https://api.stackexchange.com/2.2",Fi="SE_QUESTIONS",Vi={getRequestUrl:ki({[Fi]:e=>{let{repo:t,sort:o="week",fromdate:s,todate:n}=e;return`${Bi}/questions?page=1&pagesize=50&order=desc&fromdate=${s}&todate=${n}&sort=${o}&tagged=${t||"css"}&site=stackoverflow`},SE_SEARCH_QUESTIONS:e=>{let{repo:t="css",intitle:o="",sort:s="activity",fromdate:n,todate:i}=e;return t||o||(t="css"),`${Bi}/search?page=1&pagesize=50&order=desc&fromdate=${n}&todate=${i}&sort=${s}&tagged=${t}&intitle=${o}&site=stackoverflow`}},Fi),crKey(e){let{repo:t,requestType:o}=e;return`${t}_${o}`},checkResponse(e,t){const{error_message:o,error_name:s=""}=e||{};if(o)throw Si(_i(s.replace("_"," ")),_i(o));return!0}},Hi="os-version-market-share",Ui="desktop",Gi="mobile-tablet",zi="https://gs.statcounter.com",qi=`os-market-share/${Ui}`,Ki=`${Hi}/windows/${Ui}`,Yi=`${Hi}/macos/${Ui}`,Ji=`${Hi}/android/${Gi}`,Xi=`${Hi}/ios/${Gi}`,Qi="device=Desktop&device_hidden=desktop",Zi="granularity=monthly",er="csv=1",tr="device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true",or="device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true",sr={os:{csv:`${zi}/chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&granularity=monthly&statType=Operating%20System&${er}`,link:`${zi}/os-market-share/`},"os-desktop":{csv:`${zi}/${qi}/chart.php?${Qi}&statType_hidden=os_combined&${Zi}&statType=Operating%20System&${er}`,link:`${zi}/${qi}/`},"win-desktop":{csv:`${zi}/${Ki}/chart.php?${Qi}&statType_hidden=windows_version&${Zi}&statType=Windows%10Version&${er}`,link:`${zi}/${Ki}/`},"mac-desktop":{csv:`${zi}/${Yi}/chart.php?${Qi}&statType_hidden=macos_version&${Zi}&statType=macOS%20Version&${er}`,link:`${zi}/${Yi}/`},"android-mobile":{csv:`${zi}/${Ji}/chart.php?${tr}&statType_hidden=android_version&${Zi}&statType=Android%20Version&${er}`,link:`${zi}/${Ji}/`},"ios-mobile":{csv:`${zi}/${Xi}/chart.php?${tr}&statType_hidden=ios_version&${Zi}&statType=iOS%20Version&${er}`,link:`${zi}/${Xi}/`},browser:{csv:`${zi}/chart.php?${or}&statType_hidden=browser&${Zi}&statType=Browser&${er}`,link:`${zi}/browser-market-share/all/`},"social-media":{csv:`${zi}/chart.php?${or}&statType_hidden=social_media&region_hidden=ww&${Zi}&statType=Social%20Media&${er}`,link:`${zi}social-media-stats/`}},nr=Array.isArray;let ir=null;const rr=()=>{const e=new Date,t=e.getUTCMonth(),o=t<10?"0"+t:""+t,s=e.getUTCFullYear(),n=s-2;return ir||(ir=`fromInt=${n}${o}&toInt=${s}${o}&fromMonthYear=${n}-${o}&toMonthYear=${s}-${o}`)},lr={getRequestUrl:e=>{const{csv:t,link:o}=(e=>{const{value:t,region:o={}}=e,s=sr[t],n=rr();return{csv:`${s.csv}&region=${o.caption}&region_hidden=${o.v2}&${n}`,link:`${s.link}${o.value}`}})(e);return e.fetchType="csv-stream",e.sourceLink=o,t},crKey:e=>{const{value:t,region:o}=e,{value:s=""}=o||{};return`${s}-${t}`},checkResponse:(e,t)=>e&&nr(e.data)},ar={CR:Li,GH:Ei,NPM:Pi,SE:Vi,ST:lr},cr={getApi:e=>ar[e.requestType.split("_")[0]],crKey:e=>cr.getApi(e).crKey(e)},dr=cr,pr=e=>{let{json:t,option:o,onCompleted:s}=e;s(o,t)},ur=(e,t,o,s)=>n=>{let{json:i,option:r,onCompleted:l}=n;var a,c;r.json1=i,a=e,c=()=>Se({uri:t,option:r,onCheckResponse:o,onFetch:pr,onCompleted:l,onCatch:Fe,onFailed:s}),new Promise((e=>{setTimeout(e,a)})).then(c)},hr={LW:{loadItem:(e,t,o)=>{const s=dr.getApi(e),n=s.getRequestUrl(e),i=s.checkResponse,[r,l]=h(n)?[n,pr]:c(n)?[n[0],ur(3200,n[1],i,o)]:[];Se({uri:r,onFetch:l,onCheckResponse:i,option:e,onCompleted:t,onCatch:Fe,onFailed:o})},crKey:dr.crKey}},mr=()=>(0,f.jsx)("span",{children:"TestItem"}),gr=e=>{let{option:t,parentProps:o}=e;return(0,f.jsx)(mr,{...o},`${t.repo}_${t.requestType}`)},xr=(e,t)=>{const[o,s,n]=Xe(),i=(0,l.useCallback)((()=>{n(!0)}),[]);return[A((()=>e(t)))[0],o,s,i]},fr=function(e,t,o){return void 0===o&&(o=!0),{name:e,onClick:t,isClose:o}},yr=e=>{let{onMoveToTop:t,onToggleButtons:o}=e;return{pageWidth:195,maxPages:1,p0:[fr("Move to Top",t),g(o)?{...fr("Buttom Buttons",o),isInitial:!0}:void 0].filter(Boolean)}},jr={color:"grey"},vr={position:"relative",lineHeight:1.5,marginBottom:10},Cr={position:"relative",top:3,marginRight:4},br={display:"inline-block",color:"#a487d4",paddingLeft:8,maxWidth:500,textAlign:"left",fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},wr={color:"#80c040",paddingLeft:10,paddingRight:10},kr={marginTop:-8,marginLeft:10},Sr={paddingTop:8},Tr={paddingBottom:8},Ir={paddingRight:8},Nr={marginLeft:8},Lr={legend:{position:"top"}},Dr={margin:"4px 0 0 16px"},$r=(e,t)=>{const[o,s,n,i]=xr(yr,{onMoveToTop:e,onToggleButtons:t});return[(0,f.jsx)(qo,{isShow:s,className:gt,model:o,onClose:n}),(0,f.jsx)(Ko,{style:Cr,onClick:i})]},Rr=1e3,Er=1e6,_r=e=>(e||{}).value,Wr=e=>{const t=(e=>t=>{const o=t%e;return 0===o||10*o%e==0})(e);return(o,s)=>{const n=_r(o),i=_r(s);return 2*n>=e&&t(n)&&t(i)}},Mr=Wr(Er),Or=Wr(Rr),Ar=(e,t)=>o=>o?(o/e).toFixed(1).replace(".0","")+t:"0",Pr=Ar(Rr,"K"),Br=Ar(Er,"M"),Fr=(e,t,o)=>{const s=o[1],n=o[o.length-1];return Mr(s,n)?Br(e):Or(s,n)?Pr(e):""+e},Vr=["128,192,64","36,156,216","237,86,91","241,174,44","144,89,152"],Hr={fill:!1,lineTension:.1,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:8,pointHoverBorderColor:"rgba(164, 135, 212, 1)",pointHoverBorderWidth:4,pointRadius:5,pointHitRadius:10},Ur=e=>`rgba(${e}, 0.4)`,Gr=function(e){let{label:t,data:o,strColor:s,hidden:n}=void 0===e?{}:e;const i=s||Vr[0],r=`rgba(${i}, 1)`;return{...Hr,label:t||o.seriaName||"Downloads",backgroundColor:Ur(i),borderColor:r,pointBorderColor:r,pointBackgroundColor:r,pointHoverBackgroundColor:r,hidden:!!n,data:o}},zr=e=>{let{labels:t=["1","2"],data:o=[[0,0]],numVisible:s=5}=e;const n=Vr.length;return{labels:t,datasets:o.map(((e,t)=>Gr({data:e,strColor:e.color||Vr[t%n],hidden:t>=s})))}},qr=(e,t,o,s,n)=>({labels:t,datasets:[{...Hr,label:e,data:o,backgroundColor:s,borderColor:n,borderRadius:2,minBarLength:10}]}),Kr=e=>({scales:{[e]:{type:"linear",ticks:{callback:Fr}}}});var Yr=o(118);const Jr=Object.assign,Xr=e=>{const t=e.defaults;t.color="black",t.font.size=14,t.font.weight="bold",t.plugins.tooltip=Jr(t.plugins.tooltip||{},{titleColor:"#a487d4",titleFont:{size:16},bodyColor:"#80c040",bodyFont:{size:16}})};const Qr=o(692).a4,{hasOwnProperty:Zr}=Object.prototype,el=(e,t)=>{if((o=e)===(s=t)?0!==o||1/o==1/s:o!=o&&s!=s)return!0;var o,s;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);for(let e=0;e<n.length;e++)if(!Zr.call(t,n[e]))return!1;for(let o in e){if(!Zr.call(t,o))return!1;if(!el(e[o],t[o]))return!1}return!0},tl=el,ol=Object.prototype.hasOwnProperty,sl=(e,t)=>{const o={};for(let s in e)t.indexOf(s)>=0||!ol.call(e,s)||(o[s]=e[s]);return o},nl=["id","width","height","onElementsClick"];Yr.t1.register(Yr.No,Yr.ZT,Yr.E8,Yr.A6,Yr.PP,Yr.kc,Yr.FN,Yr.s$,Yr.m_),Xr(Yr.t1);const il={tooltips:{callbacks:{labelTextColor:function(e,t){return t.data.datasets[e.datasetIndex].borderColor}}}},rl=(e,t,o,s,n)=>{v(e,new Yr.t1(j(t),{type:o,data:s,options:Qr({...il},n)}))},ll=(0,l.memo)((e=>{let{type:t="line",height:o=150,width:s=300,redraw:n=!1,data:i,options:r,onElementsClick:a}=e;const c=(0,l.useRef)(),d=(0,l.useRef)(),p=(0,l.useMemo)((()=>g(a)?e=>{const t=j(d).getElementsAtEvent(e);t.length&&a(t)}:null),[a]);return(0,l.useLayoutEffect)((()=>{const e=j(d);e&&(n?(e.destroy(),rl(d,c,t,i,r)):((e,t,o)=>{o&&(e.options=Qr(e.options,o)),e.config.data={...e.config.data,...t},e.update()})(e,i,r))})),(0,l.useLayoutEffect)((()=>(rl(d,c,t,i,r),()=>{j(d).destroy(),v(d,null)})),[]),(0,f.jsx)("canvas",{ref:c,height:o,width:s,onClick:p})}),((e,t)=>tl(sl(e,nl),sl(t,nl),{strict:!0}))),al="item-caption",cl=`${al}__bt-close`,dl=e=>{let{style:t,children:o,onClose:s}=e;return(0,f.jsxs)("div",{className:al,style:t,children:[o,(0,f.jsx)(Xo,{className:cl,onClose:s})]})},pl=/(.)(?=(\d{3})+$)/g,ul=e=>e>=1e3?(""+e).replace(pl,"$1,"):e,hl=e=>{let{style:t,value:o=0}=e;return(0,f.jsx)("span",{style:t,children:ul(o)})},ml={...br,position:"relative",top:-3},gl={color:"#80c040",padding:"0 10px"},xl={paddingRight:10},fl=e=>{let{style:t,caption:o,packageName:s,sumDownloads:n,fromDate:i,toDate:r,onClick:l}=e;return(0,f.jsxs)("button",{className:mt,style:{...ml,...t},title:o,onClick:l,children:[(0,f.jsx)("span",{children:s}),(0,f.jsx)(hl,{style:gl,value:n}),(0,f.jsx)("span",{style:xl,children:i}),(0,f.jsx)("span",{children:r})]})},yl=e=>"https"===(e||"").split("://")[0]?e:void 0,jl=e=>{let{className:t,style:o,href:s,title:n,children:i}=e;return yl(s)?(0,f.jsx)("a",{target:"_blank",className:t,style:o,href:s,title:n,children:i}):null},vl={paddingLeft:4},Cl={paddingTop:4},bl=e=>{let{type:t,options:o,caption:s,packageName:n,sumDownloads:i,fromDate:r,toDate:l,labels:a,data:c,sourceLink:d,onMoveToTop:p,onCloseItem:u}=e;const[h,m]=Xe(!0),[g,x]=$r(p),y=zr({labels:a,data:c});return(0,f.jsxs)("div",{style:vr,children:[g,(0,f.jsxs)(dl,{style:vl,onClose:u,children:[x,(0,f.jsx)(fl,{caption:s,packageName:n,sumDownloads:i,fromDate:r,toDate:l,onClick:m})]}),(0,f.jsxs)(ho,{isShow:h,style:Cl,children:[(0,f.jsx)(ll,{type:t,data:y,options:o||Lr}),(0,f.jsx)(jl,{className:yt,style:Dr,href:d,children:`Crates.io ${n}`})]})]})},wl=Object.keys,kl=e=>e.length,Sl=["112,15,44","181,34,52","215,103,85","244,165,130","146,197,222","82,156,199"],Tl=e=>(e||{}).date,Il=e=>(e||{}).downloads,Nl=e=>(e||{}).version,Ll=e=>[Tl(e),Il(e),Nl(e)],Dl=e=>{const t=e.split("-");return 3===kl(t)?`${t[1]}-${t[2]}`:e},$l=(e,t,o)=>(e.seriaName=t,e.color=o,e),Rl=e=>{const{option:t,json:o,onMoveToTop:s,onCloseItem:n}=e,{repo:i,key:r}=t,{version_downloads:l,meta:a}=o,c=a.extra_downloads,d=kl(c),[p,m]=(e=>{const t={},o=[];for(const s of e){const[e,n]=Ll(s);u(n)&&h(e)&&(t[e]=n,o.push([e,n]))}return o.sort(((e,t)=>e>t?1:e<t?-1:0)),[t,o.map((e=>e[1]))]})(c),g=((e,t)=>{const o={};for(const s of t){const[t,n,i]=Ll(s);if(u(n)&&h(t))if(u(e[t])?e[t]+=n:e[t]=n,o[i])o[i].push(n);else{const e=[n];e.seriaName=i,o[i]=e}}return wl(o).map((e=>o[e])).sort(((e,t)=>t.seriaName-e.seriaName))})(p,l),x=(C=p,Object.keys(C).map((e=>[e,C[e]])).sort(((e,t)=>e>t?1:-1))),[y,j,v]=(e=>{const t=[],o=[];let s=0;for(const n of e)t.push(Dl(n[0])),o.push(n[1]),s+=n[1];return[t,o,s]})(x);var C;return((e,t,o,s)=>{const n=kl(e);for(let e=0;e<kl(o);e++){const t=o[e],i=n-kl(t);$l(t,s[t.seriaName],Sl[e]);for(let e=0;e<i;e++)t.unshift(NaN)}o.push($l(t,"Other",Sl[5]),$l(e,"Total","128,192,64"))})(j,m,g,(e=>{const t={},o=e.versions||[];for(let e of o)t[e.id]=e.num;return t})(t.json1)),(0,f.jsx)(bl,{caption:i,packageName:i,fromDate:0!==d?Tl(c[0]):"",toDate:d>0?Tl(c[d-1]):"",sumDownloads:v,labels:y,data:g,sourceLink:t.sourceLink,onMoveToTop:s,onCloseItem:n},r)},El=e=>e.repo,_l=function(e,t,o){void 0===o&&(o=El);const{repo:s,requestType:n,version:i=""}=e,r=El(e);return{caption:r,config:{descr:t,caption:r,version:i,repo:s,requestType:n}}},Wl=(e,t,o,s)=>(0,l.useCallback)((()=>{e(_l(t,o,s))}),[]),Ml=e=>{let{repo:t,version:o}=e;return`${t} ${o}`},Ol=e=>{const{caption:t,repo:o,version:s,published_at:n,html_url:i,onCloseItem:r,onWatchItem:l}=e,[a,c]=Xe(!0),d=Wl(l,e,"GitHub Repository Recent Release",Ml);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(dl,{style:Sr,onClose:r,children:[(0,f.jsxs)("button",{className:mt,title:t,style:br,onClick:c,children:[(0,f.jsx)("span",{children:o}),(0,f.jsx)("span",{style:wr,children:s}),(0,f.jsx)("span",{children:n})]}),(0,f.jsx)(ms,{caption:"W",title:"Add to Watch",style:kr,onClick:d})]}),(0,f.jsx)(ho,{isShow:a,style:Sr,children:(0,f.jsx)(jl,{className:yt,style:Nr,href:i,children:"Link to description of recent release tag"})})]})},Al=(e,t)=>x(e)?e.replace("T"," ").replace("Z",""):t||"",Pl=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n,onWatchItem:i}=e;const r=o.tag_name||o.name||"empty",l=Al(o.published_at,"empty");return(0,f.jsx)(Ol,{repo:t.repo,requestType:t.requestType,html_url:o.html_url,caption:`${t.repo} ${r} ${l}`,version:r,published_at:l,onCloseItem:n,onWatchItem:i,...s},t.key)},Bl=ht("zhn-oc"),Fl={backgroundColor:"#4d4d4d",lineHeight:2},Vl={...at,width:16,height:16},Hl={color:"#1b2836",paddingLeft:4,verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},Ul="yellow",Gl="#4d4d4d",zl=e=>{let{refItem:t,isClose:o=!0,style:s,styleNotSelected:n,styleCaptionRow:i,styleCaption:r,caption:l,fillOpen:a=Ul,fillClose:c=Gl,dndHandlers:d,children:p}=e;const[u,h]=Xe(!o),m=Mt(h),[g,x,y,j,v]=u?["M 2,14 L 14,14 14,2 2,14",a,lt,pt,null]:["M 2,2 L 14,8 2,14 2,2",c,ct,null,n];return(0,f.jsxs)("div",{style:{...Fl,...s},children:[(0,f.jsxs)("div",{ref:t,tabIndex:"0",role:"menuitem",className:Bl,style:{...i,...v},onClick:h,onKeyDown:m,...d,children:[(0,f.jsx)("div",{style:Vl,children:(0,f.jsx)("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:at,children:(0,f.jsx)("path",{d:g,fill:x,strokeWidth:"1",stroke:a})})}),(0,f.jsx)("span",{style:{...Hl,...r},children:l})]}),(0,f.jsx)("div",{className:j,style:y,children:p})]})},ql=Array.isArray,Kl=e=>{let{caption:t,value:o}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:bt,children:`${t}:`}),(0,f.jsx)("span",{className:Ct,children:o})]})},Yl=e=>(0,f.jsx)("div",{children:(0,f.jsx)(Kl,{...e})}),Jl=e=>{let{caption:t,value:o,date:s}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)(Kl,{caption:t,value:o}),(0,f.jsx)(Kl,{caption:"Date",value:Al(s)})]})},Xl=e=>{let{files:t}=e;return _(t,((e,t)=>(0,f.jsx)("div",{className:"row__item",children:e?e.filename:null},t)))},Ql=e=>{let{json:t}=e;if(!t)return null;const{commit:o,files:s,stats:n,html_url:i}=t,{author:r,message:l,committer:a}=o||{},{date:c,name:d}=r||{},{date:p,name:u}=a||{},{total:h,additions:m,deletions:g}=n||{};return(0,f.jsxs)("div",{className:jt,children:[(0,f.jsx)(Yl,{caption:"Message",value:l}),(0,f.jsx)(Jl,{caption:"Author",value:d,date:c}),(0,f.jsx)(Jl,{caption:"Committer",value:u,date:p}),(0,f.jsxs)("div",{children:[(0,f.jsx)(Kl,{caption:"Total",value:h}),(0,f.jsx)(Kl,{caption:"Additions",value:m}),(0,f.jsx)(Kl,{caption:"Deletions",value:g})]}),(0,f.jsx)(zl,{caption:`Files (${ql(s)?s.length:""})`,isClose:!0,children:(0,f.jsx)(Xl,{files:s})}),(0,f.jsx)(jl,{className:yt,href:i,children:"Link to description of commit"})]})},Zl=e=>{let{repo:t,version:o,caption:s,requestType:n,onCloseItem:i,onClickDetail:r,onWatchItem:a}=e;const[c,d]=(0,l.useState)(),[p,u,h]=Xe(!0),m=(0,l.useCallback)((()=>{r().then((e=>{h(!0),d(e)})).catch((e=>console.log(e)))}),[r]),g=(0,l.useCallback)((()=>{const e=(e=>{const{commit:t}=e||{},{committer:o}=t||{},{date:s}=o||{};return Al(s)})(c),s=`${t} ${o}`;a({caption:s,config:{repo:t,requestType:n,version:o,caption:s,descr:"GitHub Likely Recent Version Tag",date:e}})}),[c]);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(dl,{style:Sr,onClose:i,children:[(0,f.jsxs)("button",{className:mt,title:s,style:br,onClick:u,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:wr,children:o})]}),(0,f.jsx)(ms,{caption:"W",title:"Add to Watch",style:kr,onClick:g}),(0,f.jsx)(ms,{caption:"D",title:"Load Tag Details",style:kr,onClick:m})]}),(0,f.jsx)(ho,{isShow:p,children:(0,f.jsx)(Ql,{json:c})})]})},ea=e=>{let{uri:t,onCatch:o}=e;return Promise.resolve().then((()=>fetch(t))).then((e=>{const{status:t,statusText:o}=e;if(t>=200&&t<=400)return e.json();if(t>400&&t<500)throw{errCaption:"Request Error",message:`${t} : ${o}`};if(t>=500&&t<600)throw{errCaption:"Response Error",message:`${t} : ${o}`}})).then((e=>e)).catch((e=>{o({error:e})}))},ta=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n,onWatchItem:i}=e;const{repo:l,requestType:a,key:c}=t,d=o[0]||[{name:"empty"}],p=r(ea,{uri:`https://api.github.com/repos/${l}/commits/${d.commit.sha}`,onCatch:Fe});return(0,f.jsx)(Zl,{repo:l,requestType:a,version:d.name,caption:`${l} ${d.name}`,onClickDetail:p,onCloseItem:n,onWatchItem:i,...s},c)},oa=e=>{let{library:t}=e;const{name:o,description:s,size:n,created_at:i,pushed_at:r,stargazers_count:l,open_issues:a,watchers_count:c,html_url:d}=t||{},p=Al(i),u=Al(r);return(0,f.jsxs)("div",{className:jt,children:[(0,f.jsx)("div",{children:(0,f.jsx)("span",{className:vt,children:o})}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:s})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:bt,children:"Size:"}),(0,f.jsx)("span",{className:Ct,children:n})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:bt,children:"Created At:"}),(0,f.jsx)("span",{className:Ct,children:p}),(0,f.jsx)("span",{className:bt,children:"Pushed At:"}),(0,f.jsx)("span",{className:Ct,children:u})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:bt,children:"Stars:"}),(0,f.jsx)("span",{className:Ct,children:l}),(0,f.jsx)("span",{className:bt,children:"Issues:"}),(0,f.jsx)("span",{className:Ct,children:a}),(0,f.jsx)("span",{className:bt,children:"Watchers:"}),(0,f.jsx)("span",{className:Ct,children:c})]}),(0,f.jsx)("div",{children:(0,f.jsx)(jl,{className:yt,href:d,children:"Link to GitHub Repository"})})]})},sa=e=>{let{repo:t,stars_count:o,pushed_at:s,caption:n,library:i,onCloseItem:r}=e;const[l,a]=Xe(!0);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsx)(dl,{style:Sr,onClose:r,children:(0,f.jsxs)("button",{className:mt,title:n,style:br,onClick:a,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:wr,children:o}),(0,f.jsx)("span",{children:s})]})}),(0,f.jsx)(ho,{isShow:l,children:(0,f.jsx)(oa,{library:i})})]})},na=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n}=e;const{items:i=[{}]}=o,r=i[0],{full_name:l="empty",stargazers_count:a="",pushed_at:c}=r,d=Al(c);return(0,f.jsx)(sa,{library:r,repo:l,stars_count:a,pushed_at:d,caption:`${l} ${a} ${d}`,onCloseItem:n,...s},t.key)},ia="Comment",ra=e=>{let{n:t}=e;return u(t)&&t?(0,f.jsx)("div",{style:jr,children:`${1===t?ia:ia+"s"} ${t}`}):null},la=qe(((e,t)=>{const{commit:o,html_url:s}=e,{message:n="",committer:i,comment_count:r}=o||{},{date:l,name:a=""}=i||{},c=Al(l),d=Zn(l);return(0,f.jsx)("div",{className:xt,children:(0,f.jsxs)(jl,{href:s,children:[(0,f.jsxs)("div",{style:Tr,children:[(0,f.jsx)("span",{style:Ir,children:a}),(0,f.jsx)(jl,{dateAgo:d,date:c})]}),(0,f.jsx)("div",{children:n}),(0,f.jsx)(ra,{n:r})]})},t)})),aa=e=>{const{caption:t,repo:o,commits:s,onCloseItem:n,onWatchItem:i}=e,[r,l]=Xe(!0),a=Wl(i,e,"GitHub Repository Commits");return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(dl,{style:Sr,onClose:n,children:[(0,f.jsx)("button",{className:mt,title:t,style:br,onClick:l,children:(0,f.jsx)("span",{children:o})}),(0,f.jsx)(ms,{caption:"W",title:"Add to Watch",style:kr,onClick:a})]}),(0,f.jsx)(ho,{isShow:r,children:(0,f.jsx)(la,{items:s})})]})},ca=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(aa,{commits:o||[],caption:t.repo,repo:t.repo,requestType:t.requestType,onCloseItem:n,onWatchItem:i,...s},t.key)},da={...Ir,color:"#d7bb52"},pa={...Ir,color:"#80c040"},ua={...Ir,...jr},ha={padding:8},ma=e=>{let{url:t,state:o,number:s,createdAt:n,updatedAt:i,title:r,comments:a,body:c}=e;const d=(0,l.useRef)(),[p,u]=Xe(!1),[h,m]=(0,l.useState)(!0),g=(0,l.useCallback)((()=>{m(!1),I(((j(d)||{}).nextElementSibling||{}).firstElementChild)}),[]),x=At(g),y=Mt(u,{isPropagation:!0});return(0,f.jsxs)(ho,{refEl:d,isShow:h,className:"item",onKeyDown:x,children:[(0,f.jsxs)("div",{role:"button",tabIndex:"0",className:ft,onClick:u,onKeyDown:y,children:[(0,f.jsxs)("div",{style:Tr,children:[(0,f.jsx)("span",{style:da,children:o}),(0,f.jsx)("span",{style:pa,children:`(#${s})`}),(0,f.jsx)("span",{style:ua,children:n}),(0,f.jsx)("span",{style:ua,children:i})]}),(0,f.jsx)("div",{children:r})]}),(0,f.jsxs)(ho,{isShow:p,style:ha,children:[(0,f.jsx)(jl,{className:"link-wrapper",href:t,children:c}),(0,f.jsx)(ra,{n:a})]})]})},ga=qe(((e,t)=>{const{state:o,number:s,created_at:n,updated_at:i,title:r,body:l,comments:a,html_url:c}=e,d=Zn(n),p=n===i?"":Zn(i),u=d===p?"":p;return(0,f.jsx)(ma,{url:c,state:o,number:s,createdAt:d,updatedAt:u,title:r,comments:a,body:l},t)})),xa=e=>{const{caption:t,repo:o,issues:s,onCloseItem:n,onWatchItem:i}=e,[r,l]=Xe(!0),a=Wl(i,e,"GitHub Repository Issues"),c=s.length;return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(dl,{style:Sr,onClose:n,children:[(0,f.jsxs)("button",{className:mt,title:t,style:br,onClick:l,children:[(0,f.jsx)("span",{style:Ir,children:o}),(0,f.jsx)("span",{children:c})]}),(0,f.jsx)(ms,{caption:"W",title:"Add to Watch",style:kr,onClick:a})]}),(0,f.jsx)(ho,{isShow:r,children:(0,f.jsx)(ga,{items:s})})]})},fa=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(xa,{caption:t.repo,repo:t.repo,requestType:t.requestType,issues:o||[],onCloseItem:n,onWatchItem:i,...s},t.key)},ya={position:"relative",top:-2,marginLeft:10},ja=e=>{let{onClick:t}=e;return(0,f.jsx)(ms,{style:ya,caption:"W",title:"Add to WatchList",onClick:t})},va=(e,t)=>{const[{json:o,isLoading:s,isShow:n},i]=(0,l.useState)({json:void 0,isLoading:!1,isShow:!1}),r=(0,l.useCallback)((()=>{i((o=>o.json?{...o,isShow:!o.isShow}:(t({packageName:e,onLoad:e=>{i({json:e,isShow:!0,isLoading:!1})}}),{...o,isLoading:!0})))}),[]);return[o,s,n,r]},Ca=e=>{let{name:t,uri:o,onLoad:s}=e;return fetch(o).then((e=>{const{status:o}=e;if(o>199&&o<300)return e.json();throw new Error((e=>`${e} response isn't OK`)(t))})).then((e=>{if(!e||e.code)throw new Error(e.message||(e=>`${e} response isn't valid`)(t));s(e)})).catch((e=>{console.log(e),s({errMsg:e.message})}))},ba=e=>`https://api.npms.io/v2/package/${e}`,wa=so((e=>{let{packageName:t,onLoad:o}=e;return Ca({name:"Npms.io",uri:ba(t),onLoad:o})}),3e3),ka=e=>`https://bundlephobia.com/api/size?package=${e}`,Sa=so((e=>{let{packageName:t,onLoad:o}=e;return Ca({name:"Bundlephobia.com",uri:ka(t),onLoad:o})}),3e3),Ta=(e,t)=>{console.log("Failed to load image with src: "+e)},Ia=e=>{let{alt:t,className:o,src:s}=e;const n=yl(s);return n?(0,f.jsx)("img",{alt:t,className:o,src:n,onError:r(Ta,n)}):null},Na=e=>{let{alt:t,href:o,imgClass:s,imgSrc:n}=e;return(0,f.jsx)(jl,{href:o,children:(0,f.jsx)(Ia,{alt:t,className:s,src:n})})},La={position:"absolute",display:"inline-block",width:20,height:20},Da=e=>{let{style:t}=e;return(0,f.jsx)("span",{style:{...La,...t},"data-loader":"circle"})},$a={position:"relative",display:"inline-block",height:36,border:"1px solid",borderRadius:10},Ra={color:"#a487d4",borderColor:"#a487d4",borderWidth:2,fontWeight:"bold"},Ea={color:"grey",borderColor:"grey",borderWidth:1,fontWeight:"normal"},_a={display:"inline-block",padding:"0 8px 0 5px"},Wa={display:"inline-block",marginLeft:8,backgroundColor:"grey",width:12,height:12,border:"1px solid grey",borderRadius:"50%"},Ma={backgroundColor:"transparent",border:"none"},Oa={backgroundColor:"#a487d4",borderColor:"#a487d4"},Aa={backgroundColor:"grey",borderColor:"grey"},Pa={top:5,left:2},Ba=(e,t)=>{let o=null;t&&(o=(0,f.jsx)(Da,{style:Pa}));const s=t?Ma:e?Oa:Aa;return(0,f.jsxs)(f.Fragment,{children:[o,(0,f.jsx)("span",{style:{...Wa,...s}})]})},Fa=e=>{let{style:t,isUp:o,isLoading:s,caption:n="",title:i="",onClick:r}=e;const l=o?Ra:Ea;return(0,f.jsxs)("button",{type:"button",title:i,style:{...$a,...t,...l},onClick:r,children:[Ba(o,s),(0,f.jsx)("span",{style:_a,children:n})]})},Va=e=>(e||"").replace("git+","").replace(".git","").replace("git://","https://"),Ha=e=>-1!==(e||"").indexOf("https://github.com")?"GitHub Repository":"Repository",Ua={color:"#f44336",fontWeight:"bold"},Ga=e=>{let{errMsg:t}=e;return(0,f.jsx)("div",{style:Ua,children:t})},za=e=>{if("object"!=typeof(t=e)||null===t)return null;var t;const{errMsg:o}=e;return!o||(0,f.jsx)(Ga,{errMsg:o})},qa={display:"inline-block",marginLeft:8},Ka={fontWeight:600},Ya={textAlign:"center"},Ja=e=>{let{caption:t="",value:o="N/A"}=e;return(0,f.jsxs)("div",{style:qa,children:[(0,f.jsx)("div",{style:Ka,children:t}),(0,f.jsx)("div",{style:Ya,children:o})]})},Xa={padding:"4px 0 0 8px"},Qa={marginRight:24},Za=e=>{let{repoHref:t,hpHref:o}=e;return t||o?(0,f.jsxs)("div",{style:Xa,children:[(0,f.jsx)(jl,{className:yt,style:Qa,href:t,children:Ha(t)}),(0,f.jsx)(jl,{className:yt,href:o,children:"Home Page"})]}):null},ec=e=>{let{json:t}=e;const o=za(t);if(!0!==o)return o;const{analyzedAt:s,collected:n,score:i}=t,{github:r,metadata:l}=n||{},{starsCount:a,issues:c,homepage:d}=r||{},{openCount:p}=c||{},{version:m,license:g,repository:x}=l||{},{final:y}=i||{},j=(e=>{let{type:t,url:o}=e;return"git"===t?Va(o):void 0})(x||{});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(Ja,{caption:"stars",value:a}),(0,f.jsx)(Ja,{caption:"issues",value:p}),(0,f.jsx)(Ja,{caption:"version",value:m}),(0,f.jsx)(Ja,{caption:"score",value:(C=y,u(C)?(""+C).substring(0,5):"")}),(0,f.jsx)(Ja,{caption:"license",value:g}),(0,f.jsx)(Ja,{caption:"onDate",value:(v=s,h(v)?v.split("T")[0]:"")})]}),(0,f.jsx)(Za,{repoHref:j,hpHref:d})]});var v,C},tc={marginLeft:8},oc={marginRight:24},sc=e=>(e/1024).toFixed(1),nc=e=>{let{json:t}=e;const o=za(t);if(!0!==o)return o;const{name:s,version:n,gzip:i,size:r,dependencyCount:l,description:a,repository:c}=t,d=Va(c),p=Ha(d),u=((e,t)=>`https://bundlephobia.com/result?p=${e}@${t}`)(s,n);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(Ja,{caption:"name",value:s}),(0,f.jsx)(Ja,{caption:"version",value:n}),(0,f.jsx)(Ja,{caption:"size kB",value:sc(r)}),(0,f.jsx)(Ja,{caption:"gzip kB",value:sc(i)}),(0,f.jsx)(Ja,{caption:"dependencyCount",value:l})]}),(0,f.jsx)("div",{style:tc,children:a}),(0,f.jsxs)("div",{style:tc,children:[(0,f.jsx)(jl,{href:d,className:yt,style:oc,children:p}),(0,f.jsx)(jl,{href:u,className:yt,children:"Bundelphobia Link"})]})]})},ic={marginLeft:8},rc={marginLeft:16},lc={marginBottom:8},ac={margin:"8px 0"},cc={height:32,marginLeft:16,marginTop:4,marginBottom:4,padding:"2px 0"},dc=e=>{let{isButtons:t,packageName:o,packageLink:s}=e;const[{isLoadNodeIco:n,isShowNodeIco:i},r]=(0,l.useState)({isLoadNodeIco:!1,isShowNodeIco:!1}),[a,c,d,p]=va(o,wa),[u,h,m,g]=va(o,Sa),x=(0,l.useCallback)((()=>{r((e=>({isLoadNodeIco:!0,isShowNodeIco:!e.isShowNodeIco})))}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ho,{isShow:t,children:(0,f.jsxs)("div",{style:rc,children:[(0,f.jsx)(jl,{className:yt,href:s,children:"NPM Link"}),(0,f.jsx)(Fa,{style:cc,isUp:i,caption:"NodeICO",title:"Package badge from Nodei.co",onClick:x}),(0,f.jsx)(Fa,{style:cc,isUp:d,isLoading:c,caption:"NPMS.IO",title:"Click to load package info from npms.io",onClick:p}),(0,f.jsx)(Fa,{style:cc,isUp:m,isLoading:h,caption:"Bundlephobia.com",title:"Click to load package info from bundlephobia.com",onClick:g})]})}),(0,f.jsxs)("div",{style:ic,children:[(0,f.jsx)(ho,{isShow:i,style:ac,children:n&&(0,f.jsx)(Na,{href:s,imgClass:"node-ico",imgSrc:`https://nodei.co/npm/${o}.png?downloads=true&downloadRank=true&stars=true`})}),(0,f.jsx)(ho,{isShow:d,style:lc,children:(0,f.jsx)(ec,{json:a})}),(0,f.jsx)(ho,{isShow:m,style:lc,children:(0,f.jsx)(nc,{json:u})})]})]})},pc={paddingLeft:4},uc={paddingTop:4},hc=e=>{let{type:t,options:o,chartType:s,caption:n,packageName:i,requestType:r,sumDownloads:a=0,toDate:c,fromDate:d,chartConfig:p,labels:u,data:h,height:m,packageLink:x,onWatchItem:y,onMoveToTop:j,onCloseItem:v}=e;const[C,b]=Xe(!0),[w,k]=Xe(!0),[S,T]=$r(j,k),I=(0,l.useCallback)((()=>{const e=`${i} ${a}`;y({caption:e,config:{requestType:r,repo:i,descr:"Npm Recent Month Downloads",version:a,caption:e,date:c}})}),[]),N=p||(e=>{let{labels:t=["1","2"],data:o=[0,0]}=e;return{labels:t,datasets:[Gr({data:o})]}})({labels:u,data:h});return(0,f.jsxs)("div",{style:vr,children:[S,(0,f.jsxs)(dl,{style:pc,onClose:v,children:[T,(0,f.jsx)(fl,{caption:n,packageName:i,sumDownloads:a,fromDate:d,toDate:c,onClick:b}),g(y)&&(0,f.jsx)(ja,{onClick:I})]}),(0,f.jsxs)(ho,{isShow:C,style:uc,children:[(0,f.jsx)(ll,{type:t,height:m,data:N,options:o||Lr}),(0,f.jsx)(dc,{isButtons:w,packageName:i,packageLink:x})]})]})},mc=()=>({type:"line",options:{...Kr("y")}}),gc=function(e,t){return void 0===t&&(t=mc),o=>{const{option:s,json:n,parentProps:i,onMoveToTop:r,onCloseItem:l}=o,{sort:a}=s||{};return(0,f.jsx)(hc,{packageName:n.package,caption:n.package,packageLink:s.packageLink,requestType:s.requestType,...e(n.downloads,a),onMoveToTop:r,onCloseItem:l,...t(o),...i},s.key)}},xc=gc((function(e){void 0===e&&(e=[{day:"0-0-0",downloads:0}]);const t=[],o=[],s=e[0].day,n=e[e.length-1].day;let i=0;return e.forEach((e=>{const{day:s,downloads:n}=e,r=s.split("-");t.push(`${r[2]}`),o.push(n),i+=n})),{sumDownloads:i,fromDate:s,toDate:n,labels:t,data:o}})),fc=gc((function(e){void 0===e&&(e=[{day:"1970-01-01",downloads:0}]);const t=[],o=[],s=e.length,n=e[0].day,i=s>0?e[s-1].day:n,r=s>30?Math.round(s/30):1;let l=0;return e.forEach(((s,n)=>{const{day:i,downloads:c}=s,[d,p,u]=i.split("-");if(n%r==0)if(((e,t,o)=>{const s=new Date(Date.UTC(Hn(e+""),Un(t+""),Hn(o+"")));if(a(s))return!1;const n=s.getUTCDay();return 0===n||6===n})(d,p,u)){if(n-2>-1){const s=e[n-2],{day:i,downloads:r}=s,[l,a,c]=i.split("-");t.push(`${a}-${c}`),o.push(r)}}else t.push(`${p}-${u}`),o.push(c);l+=c})),((e,t)=>{const o=e.length-1;o>=0&&0===e[o]&&(e.splice(o),t.splice(o))})(o,t),{sumDownloads:l,fromDate:n,toDate:i,labels:t,data:o}})),yc=e=>(t,o,s)=>c(o)?o[e]((e=>e[t]===s)):void 0,jc=yc("findIndex"),vc=yc("find"),Cc=e=>-1===(e.split(".")[2]||"").indexOf("-"),bc=(e,t)=>parseInt(e)>parseInt(t)?-1:1,wc=(e,t)=>{const o=e.split("."),s=t.split(".");return o[0]===s[0]?o[1]===s[1]?bc(o[2],s[2]):bc(o[1],s[1]):bc(o[0],s[0])},kc=Ur("128,192,64"),Sc=Ur("144,89,152"),Tc=()=>!0,Ic=gc(((e,t)=>{const o=[],s=[],n=[],i=Object.keys(e),r=(e=>e.filter(Cc).sort(wc)[0])([...i]),l=t&&"R"!==t?Tc:Cc;let a=!1;return i.map((t=>[t,e[t]])).sort(((e,t)=>t[1]-e[1])).slice(0,10).forEach((e=>{let[t,i]=e;l(t)&&(o.push(t),s.push(i),t===r?(a=!0,n.push(Sc)):n.push(kc))})),!a&&r&&(o.push(r),s.push(e[r]),n.push(Sc)),{chartConfig:qr("Downloads",o,s,n,[...n]),height:12*s.length+30,sumDownloads:(c=s,c.reduce(((e,t)=>e+t),0))};var c}),(()=>({type:"bar",options:{indexAxis:"y",...Kr("x")}}))),Nc={lt:60,gt:62,quot:34,apos:39,amp:38},Lc=/&(#\d+|[a-z]+);/g,{fromCharCode:Dc,fromCharPoint:$c}=String,Rc=Dc(65533),Ec=(e,t)=>{let o;return"#"===t[0]?(o=parseInt(t.substring(1),10),o-o==0?o>=1114111?Rc:o>65535?$c(o):Dc(o):`&${t};`):(o=Nc[t],o?Dc(o):`&${t};`)},_c=e=>h(e)?e.replace(Lc,Ec):"",Wc="border-left";let Mc,Oc=()=>Mc.style;const Ac=e=>{Mc&&Oc().removeProperty(Wc),Mc=e.currentTarget,Oc().setProperty(Wc,"4px solid #d64336")},Pc=()=>{Mc&&(Oc().removeProperty(Wc),Mc=null)},Bc=e=>{e.preventDefault()},Fc=Ke?{MARK_REMOVE:50,REMOVE_ITEM:90,REMOVE_UNDER:150}:{MARK_REMOVE:25,REMOVE_ITEM:35,REMOVE_UNDER:150},Vc=e=>(((e||{}).touches||[])[0]||{}).clientX||0,Hc=(e,t,o,s)=>{const n=(0,l.useRef)();return(0,l.useMemo)((()=>{const i=e=>Math.abs(j(n)-e),r=n=>{if(n){const r=i(n);r>Fc.REMOVE_UNDER?s(e):r>Fc.REMOVE_ITEM&&(o(e),t(!0))}};return Ke?{onTouchStart:e=>{const t=Vc(e);t&&v(n,t)},onTouchMove:e=>{const t=Vc(e);t&&i(t)>Fc.MARK_REMOVE&&Ac(e)},onTouchEnd:e=>{Pc(),r((e=>(((e||{}).changedTouches||[])[0]||{}).clientX||0)(e))}}:{draggable:!0,onDragStart:e=>{v(n,e.clientX),Ac(e),e&&e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move")},onDragEnd:e=>{e.preventDefault(),Pc(),r(e.clientX)},onDrop:Bc,onDragOver:Bc,onDragEnter:Bc,onDragLeave:Bc}}),[])},Uc={color:"gray"},Gc={...at,color:"black",marginLeft:10},zc=e=>{let{isShowDate:t,style:o,dateAgo:s,date:n=""}=e;const[i,r]=Xe(t,!0),l=i?at:ct;return(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{role:"button",tabIndex:"-1",style:{...Uc,...o},onClick:n?r:void 0,children:s}),(0,f.jsx)("span",{style:{...Gc,...l},children:n})]})},qc={display:"inline-block",color:"black",padding:"4px 8px",margin:"6px 8px 2px 8px",borderRadius:16,backgroundColor:"gray"},Kc=e=>{let{tags:t}=e;return(0,f.jsx)("div",{children:_(t,((e,t)=>(0,f.jsx)("span",{style:qc,children:e},t)))})},Yc=(e,t,o)=>Ke?e:(0,f.jsx)("span",{role:"img","arial-label":t,children:String.fromCharCode(...o)}),Jc=ht("row-item"),Xc={display:"none"},Qc={display:"inline-block"},Zc={fontSize:"18px"},ed={display:"flex",flexWrap:"wrap",paddingBottom:8},td={color:"#6495ed",padding:"2px 8px 2px 0"},od={...Qc,...Zc,paddingRight:8},sd={...od,color:"#d7bb52"},nd={...od,color:"#80c040"},id={...od,color:"black"},rd={...Qc,...Zc},ld={...Zc,paddingBottom:8},ad=Yc("A","hammer and pick",[9874]),cd=Yc("S","fish",[55357,56351]),dd=Yc("V","wheel of dharma",[9784]),pd=Yc("R","shamrock",[9752]),ud=()=>{},hd=e=>{let{item:t,onRemoveItem:o=ud,onRemoveUnder:s=ud}=e;const[n,i]=(0,l.useState)(!1),r=Hc(t,i,o,s),{is_answered:a,bounty_amount:c,answer_count:d,score:p,view_count:u,title:h,dateAgo:m,link:g,owner:x,tags:y}=t,{reputation:j,display_name:v}=x||{};return(0,f.jsx)("div",{className:Jc,style:n?Xc:void 0,...r,children:(0,f.jsxs)(jl,{href:g,children:[(0,f.jsxs)("div",{style:ed,children:[c&&(0,f.jsx)("span",{style:td,children:`+${c}`}),(0,f.jsxs)("span",{style:a?nd:sd,children:[ad,"",d]}),(0,f.jsxs)("span",{style:sd,children:[cd,"",p]}),(0,f.jsxs)("span",{style:id,children:[dd,"",u]}),(0,f.jsxs)("span",{style:nd,children:[pd,"",j]}),(0,f.jsx)("span",{style:id,children:v}),(0,f.jsx)(zc,{style:rd,dateAgo:m})]}),(0,f.jsx)("div",{style:ld,children:h}),(0,f.jsx)(Kc,{tags:y})]})})},md=qe(((e,t,o)=>{let{onRemoveItem:s}=o;return(0,f.jsx)(hd,{item:e,onRemoveItem:s},e.question_id||t)})),gd="bounty_amount",xd="reputation",fd=e=>t=>{const o=(e=>e.split("_").map(_i).join(" "))(t);return{name:o,onClick:r(e,t,o),isClose:!0}},yd=function(e){let{setSortByProp:t,reverse:o}=void 0===e?{}:e;const s=fd(t);return{pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Sort By, DESC"}],p1:[s(gd),s("answer_count"),s("score"),s("view_count"),s(xd),{name:"Reverse Items",onClick:o,isClose:!0}]}},jd=function(e,t,o){void 0===o&&(o=2);const s=u(t),n=u(e);return s||n?s&&!n?1:!s&&n?-1:o:0},vd=e=>(t,o)=>{const s=e(o),n=e(t),i=jd(n,s);return 2===i?s-n:i},Cd=vd((e=>{const{owner:t}=e||{};return(t||{})[xd]||0})),bd={[xd]:Cd,[gd]:vd((e=>(e||{})[gd]||0))};var wd;wd=bd,Object.setPrototypeOf(wd,null);const kd=(e,t)=>t?e.sort(bd[t]||(e=>(t,o)=>{const s=o[e],n=t[e],i=jd(n,s);return 2!==i?i:s===n?Cd(t,o):s-n})(t)):e,Sd={position:"relative",top:3,marginRight:12},Td={color:"#a9a9a9",padding:"0 12px"},Id={color:"#a487d4",fontWeight:"bold",cursor:"pointer"},Nd={float:"none"},Ld=[],Dd=e=>{const{repo:t,caption:o,onCloseItem:s}=e,[n,i]=(0,l.useState)((()=>({items:e.items||Ld,pnForSort:"",titleForSort:"",itemRemoved:0}))),{items:r,titleForSort:a,itemRemoved:c}=n,[d,p]=Xe(!0),u=(0,l.useCallback)((()=>{i((e=>({...e,items:[...e.items.reverse()]})))}),[]),h=(0,l.useCallback)(((e,t)=>{i((o=>({...o,pnForSort:e,titleForSort:t,items:[...kd(o.items,e)]})))}),[]),m=(0,l.useCallback)((()=>{i((e=>({...e,itemRemoved:e.itemRemoved+1})))}),[]),[g,x,y,j]=xr(yd,{setSortByProp:h,reverse:u}),v=r.length,C=c?`${v-c}/${v}`:`${v}`,b=`Sorted By ${a}`;return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsx)(qo,{isShow:x,className:gt,model:g,onClose:y}),(0,f.jsxs)(dl,{onClose:s,children:[(0,f.jsx)(Ko,{style:Sd,onClick:j}),(0,f.jsxs)("button",{className:ut,title:o,style:{...br,...Nd},onClick:p,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:Td,children:C})]}),(0,f.jsx)("button",{className:ut,style:Id,title:"Reverse Items",onClick:u,children:b})]}),(0,f.jsx)(ho,{isShow:d,children:(0,f.jsx)(md,{items:r,onRemoveItem:m})})]})},$d=e=>{const t=Date.now();return _(e,(e=>{const{title:o,last_activity_date:s,owner:n}=e,{display_name:i}=n||{};var r,l;return e.dateAgo=(l=t,u(r=s)?Bn(1e3*r,l):""),e.title=_c(o),e.owner.display_name=_c(i),e}))},Rd=e=>{let{option:t,json:o,parentProps:s,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(Dd,{caption:t.repo,repo:t.repo,requestType:t.requestType,items:$d((o||{}).items),onCloseItem:n,onWatchItem:i,...s},t.key)},Ed={...br,position:"relative",top:-3},_d={paddingLeft:4},Wd={padding:"0 10px"},Md={paddingTop:12},Od=e=>{let{caption:t,fromDate:o,toDate:s,labels:n,data:i,sourceLink:r,onMoveToTop:l,onCloseItem:a}=e;const[c,d]=Xe(!0),[p,u]=$r(l),[h,m]=((e,t)=>{const o=zr({labels:e,data:t}),s=o.datasets.length;return[o,150+16*Math.floor(s/5)]})(n,i);return(0,f.jsxs)("div",{style:vr,children:[p,(0,f.jsxs)(dl,{style:_d,onClose:a,children:[u,(0,f.jsxs)("button",{className:mt,title:t,style:Ed,onClick:d,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:Wd,children:o}),(0,f.jsx)("span",{children:s})]})]}),(0,f.jsxs)(ho,{isShow:c,style:Md,children:[(0,f.jsx)(ll,{data:h,height:m}),(0,f.jsx)(jl,{className:yt,style:Dr,href:r,children:"Statcounter Chart"})]})]})},Ad=(e,t)=>t.value-e.value,Pd=function(e,t){void 0===t&&(t=5);const{Date:o,...s}=e[e.length-1],n=(e=>wl(e).map((t=>({caption:t,value:parseFloat(e[t])}))))(s);n.sort(Ad);const i=[],r=n.length;for(let e=0;e<r;e++){const t=n[e].caption;t&&i.push(t)}return i},Bd=e=>{const t=[],o=Pd(e),s=o.length,n=o.map((e=>{const t=[];return t.seriaName=e,t}));return e.forEach((e=>{if(o=e.Date,h(o)&&"00"!==o.slice(5,7)){t.push(e.Date);for(let t=0;t<s;t++){const o=n[t];o.push(e[o.seriaName])}}var o})),[t,n]},Fd=e=>{let{caption:t,region:o}=e;return`${(o||{}).caption||""}: ${t}`},Vd=((e,t)=>{const o=(s=e,Object.assign(Object.create(null),s));var s;return e=>h(e)&&o[e]||t})({CR_DOWNLOADS:Rl,GH_RELEASE_RECENT:Pl,GH_TAGS:ta,GH_SEARCH_INFO:na,GH_COMMITS:ca,GH_ISSUES:fa,GH_PULL_REQUESTS:fa,NPM_DOWNLOADS_RECENT_MONTH:xc,NPM_DOWNLOADS:fc,NPM_TOP_VERSIONS:Ic,SE_QUESTIONS:Rd,SE_SEARCH_QUESTIONS:Rd,ST_OSVERSION:e=>{let{option:t,json:o,parentProps:s,onMoveToTop:n,onCloseItem:i,onWatchItem:r}=e;const[l,a]=Bd((e=>e.data.filter((e=>Boolean(e.Date))))(o));return(0,f.jsx)(Od,{caption:Fd(t),requestType:t.requestType,fromDate:l[0],toDate:l[l.length-1],labels:l,data:a,sourceLink:t.sourceLink,onMoveToTop:n,onCloseItem:i,...s},t.key)}},gr),Hd=(e,t,o)=>{const{requestType:s,chartType:n,browserType:i,key:l}=e;return Vd(s)({option:e,json:t,parentProps:o,onMoveToTop:r(uu,n,l),onCloseItem:r(au,n,i,l),onWatchItem:Lu})},Ud=e=>{let{chartType:t,onMinWidth:o,onInitialWidth:s,onPlusWidth:n,onMinusWidth:i,onRemoveAll:r}=e;return{pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Resize"},{name:"Remove All Items",onClick:r,isClose:!0}],p1:[{name:"to MinWidth",onClick:o},{name:"to InitialWidth",onClick:s},{name:"+10px to Width",onClick:n},{name:"-10px to Width",onClick:i}]}},Gd="gap-right cont-caption",zd={padding:"0 8px 0 6px",fontSize:"18px",fontWeight:"500"},qd={position:"absolute",top:6,right:0},Kd={paddingLeft:0},Yd=e=>{let{style:t,moreStyle:o,caption:s="",onMore:n,onClose:i,children:r}=e;return(0,f.jsxs)("div",{className:Gd,style:t,children:[g(n)&&(0,f.jsx)(Ko,{style:o,onClick:n}),(0,f.jsx)("span",{className:ut,style:dt(zd,g(n)&&Kd),children:s}),r,(0,f.jsx)(Xo,{style:qd,onClose:i})]})},Jd=e=>{let{refEl:t,style:o,className:s,onFocusIn:n,children:i}=e;const r=(0,l.useRef)(),a=it("with-scroll",s);return(0,l.useImperativeHandle)(t,(()=>({scrollTop:()=>{const e=j(r);e&&(e.scrollTop=0)}})),[]),(0,f.jsx)("div",{ref:r,className:a,style:o,onFocus:n,children:i})},Xd=Object.assign,Qd=e=>{Xd(e,{id:null,delta:0,step:1,countStep:0})};const Zd=class{constructor(e){Qd(this);const{elementRef:t,onResizeAfter:o,initWidth:s,minWidth:n,maxWidth:i}=e;this.elementRef=t,this.onResizeAfter=o,this.initWidth=s,this.currentWidth=this.initWidth,this.minDelta=n-this.initWidth,this.maxDelta=i-this.initWidth,this.onStopRezise=r(this._hStopResize,!0),this.onStartResizeLeft=r(this._hStartResize,this._resizeLeft),this.onStartResizeRight=r(this._hStartResize,this._resizeRight)}_increaseStepValue=()=>{this.countStep+=1,this.countStep>30?this.step=3:this.countStep>15&&(this.step=2),(this.maxDelta-this.delta<20||this.delta-this.minDelta<20)&&(this.step=1)};_getElementStyle=()=>{const{current:e}=this.elementRef||{},{style:t}=e||{};return t||{}};_resizeLeft=()=>{this.delta>this.minDelta&&(this.delta-=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())};_resizeRight=()=>{this.delta<this.maxDelta&&(this.delta+=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())};_updateDelta=()=>{const e=parseInt(this._getElementStyle().width,10);isNaN(e)||(this.delta=e-this.initWidth)};_hStartResize=e=>{null!==this.id&&this._hStopResize(!1),this._updateDelta(),this.id=setInterval(e,5)};_hStopResize=(e,t)=>{clearInterval(this.id),Qd(this);const{onResizeAfter:o}=this;e&&g(o)&&o(this.currentWidth)}},ep=e=>{const t=A((()=>new Zd(e)))[0];return(0,l.useMemo)((()=>{const[e,o]=Ke?["onTouchStart","onTouchEnd"]:["onMouseDown","onMouseUp"],{onStopRezise:s,onStartResizeLeft:n,onStartResizeRight:i}=t;return[{[e]:n,[o]:s},{[e]:i,[o]:s}]}),[])},tp="svg-resize",op={display:"inline-block"},sp={marginLeft:10},np=e=>{const[t,o]=ep(e);return(0,f.jsxs)("div",{style:op,children:[(0,f.jsx)("div",{className:tp,style:sp,title:"Resize container horizontal left",...t,children:(0,f.jsxs)(Yo,{children:[(0,f.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,f.jsx)("path",{d:"M 6,2 L 1,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})}),(0,f.jsx)("div",{className:tp,style:sp,title:"Resize container horizontal right",...o,children:(0,f.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,f.jsx)("path",{d:"M 6,2 L 11,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})})]})},ip={backgroundColor:"#4d4d4d",height:"calc(100vh - 71px)",minHeight:500,marginLeft:10,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)"},rp={...ip,minWidth:270,maxWidth:400,paddingBottom:16},lp={...ip,position:"relative",minWidth:300,maxWidth:700,padding:"0px 0px 16px"},ap={...ip,position:"relative",width:635,padding:"0px 0px 16px",overflowY:"hidden",overflowX:"hidden"},cp={overflowY:"auto",height:"92%",paddingRight:10},dp={position:"relative",top:3,marginRight:6},pp=e=>parseInt(e.width,10)||635,up=e=>e+"px",hp=e=>{const{style:t}=e||{};return t||{}},mp=(e,t)=>{hp(j(e)).width=up(t)},gp=e=>{let{caption:t,browserType:o,chartType:s,onRemoveAll:n,onCloseContainer:i}=e;const r=(0,l.useRef)(),a=(0,l.useRef)(),[c,d]=(0,l.useState)((()=>({isShow:!1,configs:[],chartType:s}))),{isShow:p,configs:u}=c,[h,m,g,x]=xr(Ud,{chartType:s,onMinWidth:()=>mp(r,375),onInitialWidth:()=>mp(r,635),onPlusWidth:()=>(e=>{const t=hp(j(e)),o=pp(t)+10;o<1200&&(t.width=up(o))})(r),onMinusWidth:()=>(e=>{const t=hp(j(e)),o=pp(t)-10;o>375&&(t.width=up(o))})(r),onRemoveAll:n}),y=(0,l.useCallback)((()=>{i(s,o),d((e=>({...e,isShow:!1})))}),[]);(0,l.useEffect)((()=>{d((e=>({...e,...tu(s)})))}),[]),ou((e=>{if(e&&(e.chartType===s&&e.close&&y(),e.chartCont&&e.chartCont.chartType===s)){const t=j(a);t&&t.scrollTop(),d((t=>({...t,...e.chartCont})))}}));const[v,C]=p?[at,pt]:[ct];return(0,f.jsxs)("div",{ref:r,className:C,style:{...ap,...v},children:[(0,f.jsx)(qo,{isShow:m,className:gt,model:h,onClose:g}),(0,f.jsx)(Yd,{moreStyle:dp,caption:t,onMore:x,onClose:y,children:(0,f.jsx)(np,{elementRef:r,initWidth:635,minWidth:375,maxWidth:1200})}),(0,f.jsx)(Jd,{refEl:a,style:cp,children:(0,f.jsx)("div",{children:u})})]})},xp=(e,t)=>{const o=e.chartContainerComp||gp,s=e.type;return(0,f.jsx)(o,{caption:e.chartContainerCaption,chartType:s,browserType:t,onCloseContainer:cu.bind(null,s,t),onRemoveAll:pu.bind(null,s,t)},s)},fp="loading",yp="loadingComplete",jp="loadingFailed",vp=Y(),Cp=vp.setValue,bp=Y(),wp=e=>{bp.setValue(null==e?void 0:e)},kp=vp.useAtomValue,Sp=bp.useAtomValue,Tp=Array.isArray,Ip=(e,t)=>((((e,t)=>{if(Tp(e))for(const o of e){const e=o.items;if(Tp(e))for(const o of e)if(o.id===t)return o}})(e,t)||{}).atomCounter||{}).setValue,Np=(e,t,o)=>{const s=Ip(t,e);s&&s((e=>({v:e.v,is:o})))},Lp=(e,t,o)=>{const s=Ip(t,e);s&&s((e=>({v:e.v+o,is:!0})))},Dp=Object.create(null),$p=(e,t)=>{Dp[e]=t||[]},Rp=(e,t)=>(o,s)=>{s!==ne&&e(o,Dp[s],t)},Ep=Rp(Np,!0),_p=Rp(Np,!1),Wp=Rp(Lp,1),Mp=Rp(Lp,-1),Op=Rp(((e,t)=>{const o=Ip(t,e);o&&o((e=>({v:0,is:e.is})))})),Ap={WL_WATCH_LIST:{type:"WL_WATCH_LIST",menuTitle:"Watch List",dialogCaption:"Watch List",chartContainerCaption:"Watch List"}},Pp=Object.create(null);Pp.WL=Ap;const Bp=e=>{const t=e.split("_")[0];return Pp[t][e]},Fp=Array.isArray,Vp=(e,t)=>{if(!(e=>"object"==typeof e&&null!==e)(e))return!1;const o=e.configs;if(!Fp(o))return!1;const s=o.findIndex((e=>e.key===t));return-1!==s&&(o.unshift(o[s]),o.splice(s+1,1),!0)},Hp={caption:"Already loaded",descr:"This item already has been loaded\nto container, moved to top."},Up="color:rgb(237, 88, 19);",[Gp,zp]=G("items"),[qp,Kp]=G("msItem"),Yp=q(qp,(e=>({chartCont:e}))),Jp=q(qp,((e,t)=>({Comp:xp(Bp(e),t)}))),Xp=q(qp,(e=>({chartType:e,close:!0}))),Qp=H((()=>({...Gp({}),...qp()}))),[Zp,eu]=U(Qp),tu=e=>zp(eu())[e],ou=K(Qp,Kp),su=e=>({chartType:e,configs:[],isShow:!0}),nu=(e,t)=>{const o=tu(e);if(o)o.isShow=!0,Zp(Yp(o));else{zp(eu())[e]=su(e),Zp(Jp(e,t))}Ep(e,t)},iu=(e,t)=>{const{chartType:o,browserType:s}=e,n=Hd(e,t,{chartType:o,browserType:s}),i=tu(o);if(i)i.configs.unshift(n),i.isShow=!0,Zp(Yp(i));else{const e=zp(eu());e[o]=su(o),e[o].configs.unshift(n),Zp(Jp(o,s))}var r;r=e.limitRemaining,Cp(yp),wp(r),Wp(o,s)},ru=e=>{var t;e.alertItemId=e.alertItemId||e.repo||"",Du(e),(e=>{let{alertCaption:t,alertDescr:o,alertItemId:s}=e;console.log("%c"+t+":"+s,Up),console.log("%c"+o,Up)})(e),t=e.limitRemaining,Cp(jp),wp(t)},lu=(e,t,o)=>{const{loadId:s="LW"}=o;o.chartType=e,o.browserType=t;const{crKey:n,loadItem:i}=hr[s],r=n(o);((e,t)=>{const{chartType:o}=t,s=tu(o);return Vp(s,e)})(r,o)?(setTimeout((()=>Du(Hp)),1e3),nu(e,t)):(o.key=r,Cp(fp),i(o,iu,ru))},au=(e,t,o)=>{const s=tu(e);s.configs=s.configs.filter((e=>e.key!==o)),Zp(Yp(s)),Mp(e,t)},cu=_p,du=(e,t)=>{Zp(Xp(e))},pu=(e,t)=>{const o=((e,t)=>{const o=e[t]||{};return o.configs=[],o})(eu().items,e);Op(e,t),Zp(Yp(o))},uu=(e,t)=>{const o=tu(e);Vp(o,t)&&Zp(Yp(o))},hu=(e,t)=>{const o=e.type,s=e.dialogType&&wi[e.dialogType]||wi.DEFAULT;return(0,f.jsx)(s,{caption:e.dialogCaption,optionURI:e.optionURI,optionsJsonProp:e.optionsJsonProp,onLoad:lu.bind(null,o,t),onShow:nu.bind(null,o,t),...e.dialogProps},o)},[mu,gu]=G("msAbout","is"),[xu,fu]=G("dgOption"),[yu,ju]=G("mdOption"),vu=H((()=>({...mu(!0),...xu(),...yu()}))),[Cu]=U(vu),bu=K(vu,gu),wu=()=>Cu(mu(!0)),ku=K(vu,fu),Su=Object.create(null),Tu=(e,t)=>{if(Su[e])Cu(xu({dialogType:e}));else{Su[e]=!0;const o=hu(Bp(e),t);Cu(xu({dialogType:e,dialogComp:o}))}},Iu=K(vu,ju),Nu=function(e,t){void 0===t&&(t={}),t.modalDialogType=e,Cu(yu({...t}))},Lu=r(Nu,Q),Du=r(Nu,J),$u=r(Nu,X),Ru=(e,t,o)=>e.map((e=>{let{caption:s,isInitClose:n,items:i}=e;return{caption:s,isInitClose:n,items:i.map((e=>{let{id:s}=e;return{id:s,title:t[s].menuTitle,atomCounter:Y({v:0,is:!1}),onClick:Tu.bind(null,s,o),onOpen:nu.bind(null,s,o),onClose:du.bind(null,s)}}))}})),Eu=e=>{const[t,o]=(0,l.useState)((()=>[!!e,()=>o((e=>[!0,e[1],e[2]])),()=>o((e=>[!1,e[1],e[2]]))]));return t},_u=e=>{const[t,o,s]=Eu(e);return[t,o,s,Ot(s)]},Wu=(e,t)=>{const o=(0,l.useRef)();return(0,l.useEffect)((()=>{t&&e&&N(o)}),[e,t]),o},Mu=()=>[],Ou=function(e,t){void 0===t&&(t=Mu);const[o,s]=(0,l.useState)(t),[n,i,r,a]=_u(e);return[o,s,n,i,r,a,Wu(n,o)]},Au=[void 0,()=>{}],Pu=()=>{const e=(0,l.useRef)();return Ye?(0,l.useMemo)((()=>[t=>{v(e,t.target)},()=>N(e)]),[]):Au},Bu=e=>{let{isShow:t,style:o,onKeyDown:s,children:n}=e;const[i,r]=(e=>e?[lt,pt]:[ct])(t);return(0,f.jsx)("div",{className:r,style:{...rp,...o,...i},role:"presentation",onKeyDown:s,children:n})},Fu=e=>{let{style:t,caption:o="",onClose:s,children:n}=e;return(0,f.jsxs)("div",{className:Gd,style:t,children:[(0,f.jsx)("span",{className:ut,style:zd,children:o}),n,(0,f.jsx)(Xo,{style:qd,onClose:s})]})},Vu={color:"#a487d4"},Hu=e=>{let{atom:t,onOpen:o,onClose:s}=e;const{useAtomValue:n}=t,{is:i,v:r}=n(),a=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),i?s():o()}),[i,o,s]),c=i?Vu:null;return 0===r?null:(0,f.jsx)(sn,{className:"menu__badge",style:c,caption:r,onClick:a})},Uu=ht(),Gu={paddingLeft:6},zu=e=>{let{item:t,className:o}=e;const s=Mt(t.onClick);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:0,className:o,onClick:t.onClick,onKeyDown:s,children:[t.title,(0,f.jsx)(Hu,{atom:t.atomCounter,onOpen:t.onOpen,onClose:t.onClose})]})},qu=e=>{let{refFirstItem:t,rowClass:o,caption:s,items:n,isInitClose:i}=e;return(0,f.jsx)(zl,{refItem:t,styleCaptionRow:Gu,fillOpen:"#1b2836",fillClose:"transparent",caption:s,isClose:i,children:_(n,((e,t)=>(0,f.jsx)(zu,{className:`${o||"row__topic"} ${Uu}`,item:e},e.id||t)))})},Ku={overflowY:"auto",height:"92%",paddingRight:10},Yu=e=>{let{menuItems:t,rowClass:o,refFirstItem:s}=e;return _(t,((e,t)=>(0,f.jsx)(qu,{refFirstItem:0===t?s:void 0,isInitClose:e.isInitClose,caption:e.caption,items:e.items,rowClass:o},t)))},Ju=e=>{let{isShowInitial:t,caption:o,rowClass:s,browserType:n,useMsBrowserDynamic:i,onLoadMenu:r,children:a}=e;const c=(0,l.useRef)(!1),[d,p,u,h,m,g,x]=Ou(t),[y,C]=Pu();return i((e=>{if(e&&e.browserType===n){const{menuItems:t}=e;t?(v(c,!0),p([...t])):(h(),C())}})),(0,l.useEffect)((()=>{u&&!j(c)&&r()}),[u]),(0,f.jsxs)(Bu,{isShow:u,onKeyDown:g,children:[(0,f.jsx)(Fu,{caption:o,onClose:m}),(0,f.jsxs)(Jd,{style:Ku,onFocusIn:y,children:[(0,f.jsx)(Yu,{menuItems:d,rowClass:s,refFirstItem:x}),a]})]})},Xu=He((e=>(0,f.jsx)(Ju,{...e}))),Qu=e=>{let{browserType:t,caption:o,sourceMenuUrl:s,rowClass:n}=e;return(0,f.jsx)(Xu,{isShowInitial:!0,browserType:t,caption:o,rowClass:n,useMsBrowserDynamic:ph,onLoadMenu:r(xh,{browserType:t,caption:o,sourceMenuUrl:s})},t)},[Zu,eh]=G("msBrowser","id"),[th,oh]=G("msBrowserDynamic"),sh=z(th,"elBrowser"),nh=z(th,"browserType","menuItems"),ih=H((()=>({...Zu(),...th()}))),[rh]=U(ih),lh=K(ih,eh),ah=e=>rh(Zu(e)),ch=r(ah,ne),dh=r(ah,ie),ph=K(ih,oh),uh=e=>{const{browserType:t}=e;if((e=>Dp[e])(t))rh(nh(t));else{const o=Qu(e);$p(t),rh(sh(o))}},hh=e=>{let{json:t,option:o,onCompleted:s}=e;const{menu:n,items:i}=t,{browserType:r}=o;s({menu:n,items:i,browserType:r})},mh=e=>{let{menu:t,items:o,browserType:s}=e;const n=Ru(t,o,s);((e,t)=>{Pp[e]=t})(s,o),$p(s,n),rh(nh(s,n))},gh=e=>{e.alertItemId=e.alertItemId||e.caption||"",Du(e)},xh=e=>{Se({uri:e.sourceMenuUrl,option:e,onCheckResponse:e=>!0,onFetch:hh,onCompleted:mh,onCatch:Fe,onFailed:gh})},fh=(e,t)=>{try{const o=new Blob([JSON.stringify(e)],{type:"application/json"}),s=document.createElement("a");s.href=URL.createObjectURL(o),s.rel="noopener",s.target="_blank",s.download=t,s.click(),"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(s.href),s.remove()}catch(e){console.log(e.message)}},yh=window.localStorage,jh=JSON.stringify,vh=JSON.parse,Ch=e=>({message:e}),bh=Ch("LocalStorage is absent"),wh=(Ch("Use LocalStorage is not allowed"),!!yh);const kh=e=>`LW_${e}`,Sh=e=>{if(!wh)return[void 0,{...bh}];try{return[vh(yh[kh(e)])]}catch(e){return[void 0,e]}},Th={groups:[{caption:"GitHub Libraries",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]},{caption:"Npm Packages",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]}]},Ih="crGroup",Nh="renGroup",Lh="delGroup",Dh="crList",$h="renList",Rh="delList",Eh="addItem",_h=(e,t,o,s)=>{return vc(t,!!(n=o)&&"object"==typeof n&&!c(n)&&o[e],s);var n},Wh=(e,t)=>({isDone:!1,message:Ie(e,t)}),Mh=e=>({isDone:!1,message:Ne(e)}),Oh=(e,t)=>({isDone:!1,message:Le(e,t)}),Ah=((e,t,o)=>t.filter(((t,s)=>t[e]!==o))).bind(null,"caption"),Ph=(e,t)=>c(e)?[...e,t]:[t],Bh=(e,t,o)=>[...e.slice(0,t),{...e[t],caption:o},...e.slice(t+1)],Fh=function(e,t,o){return void 0===o&&(o=[]),0===t?[{...e},...o]:[...o.slice(0,t),{...e},...o.slice(t)]},Vh=_h.bind(null,"groups","caption"),Hh=_h.bind(null,"lists","caption"),Uh=jc.bind(null,"caption"),Gh=((e,t,o)=>-1!==(c(t)?jc(e,t,o):-1)).bind(null,"caption"),zh="WL_LIBRARY_WATCH",qh=H((()=>({isWatchEdited:!1,watchList:Th,msEdit:{}}))),Kh=e=>e.watchList,Yh=e=>e.isWatchEdited,Jh=qh.setState,Xh=qh.getState,Qh=()=>Yh(Xh()),Zh=()=>Kh(Xh()),em=K(qh,Kh),tm=K(qh,(e=>e.msEdit)),om=K(qh,Yh),sm=()=>(Zh()||{}).groups,nm=e=>{const t=Vh(Zh(),e);return t?t.lists:[]},im=(e,t)=>o=>{var s,n;s=e(Zh(),o),n=t,s.isDone?Jh({isWatchEdited:!0,watchList:{...Zh()},msEdit:{forActionType:n}}):Jh({msEdit:{messages:[s.message],forActionType:n}})},rm=im(((e,t)=>{let{caption:o}=t;const s=e.groups;if(Gh(s,o))return Mh(o);const n=o?{caption:o}:{caption:"Default"};return e.groups=Ph(s,n),{isDone:!0}}),Ih),lm=im(((e,t)=>{let{captionFrom:o,captionTo:s}=t;const n=e.groups,i=Uh(n,o);return-1===i?Wh("group",o):Gh(n,s)?Mh(s):(e.groups=Bh(n,i,s),{isDone:!0})}),Nh),am=im(((e,t)=>{let{caption:o}=t;return e.groups=Ah(e.groups,o),{isDone:!0}}),Lh),cm=im(((e,t)=>{let{captionGroup:o,captionList:s}=t;const n=Vh(e,o);if(!n)return Wh("group",o);const{lists:i}=n;return Gh(i,s)?Oh(s,o):(n.lists=Ph(i,{caption:s}),{isDone:!0})}),Dh),dm=im(((e,t)=>{let{captionGroup:o,captionListFrom:s,captionListTo:n}=t;const i=Vh(e,o);if(!i)return Wh("group",o);const{lists:r}=i,l=Uh(r,s);return-1===l?Wh("list",s):Gh(r,n)?Oh(n,o):(i.lists=Bh(r,l,n),{isDone:!0})}),$h),pm=im(((e,t)=>{let{captionGroup:o,captionList:s}=t;const n=Vh(e,o);return n?(n.lists=Ah(n.lists,s),{isDone:!0}):Wh("group",o)}),Rh),um=im(((e,t)=>{const{groupCaption:o,listCaption:s,caption:n,config:i}=t,r=Vh(e,o),l=Hh(r,s),{items:a}=l;return Gh(a,n)?((e,t)=>({isDone:!1,message:De(e,t)}))(n,s):(a?l.items.push(i):l.items=[i],{isDone:!0})}),Eh),hm=e=>t=>{var o;(o=e(Zh(),t)).isDone?Jh({isWatchEdited:!0,watchList:{...Zh()}}):Du(o)},mm=hm(((e,t)=>{let{dragId:o,dropId:s}=t;const n=o.split(";"),i=Vh(e,n[0]),r=Hh(i,n[1]),l=Uh(r.items,n[2]),a=r.items[l],c=s.split(";"),d=Vh(e,c[0]),p=Hh(d,c[1]),u=c[2]?Uh(p.items,c[2]):0;return r.caption!==p.caption&&Gh(p.items,n[3])?((e,t)=>({isDone:!1,alertItemId:`${e}:${t}`,alertCaption:_e.caption,alertDescr:_e.descr}))(c[1],n[2]):(r.items=Ah(r.items,n[2]),p.items=Fh(a,u,p.items),{isDone:!0})})),gm=hm(((e,t)=>{let{dragId:o,dropId:s}=t;const[n,i]=o.split(";"),r=Vh(e,n),l=Hh(r,i),[a,c]=s.split(";"),d=Vh(e,a),p=c?Uh(d.lists,c):0;return r.caption!==d.caption&&Gh(d.lists,i)?((e,t)=>({isDone:!1,alertItemId:`${e}:${t}`,alertCaption:We.caption,alertDescr:We.descr}))(a,i):(r.lists=Ah(r.lists,i),d.lists=Fh(l,p,d.lists),{isDone:!0})})),xm=hm(((e,t)=>{let{dragId:o,dropId:s}=t;const[n]=o.split(";"),i=Vh(e,n),[r]=s.split(";"),l=r?Uh(e.groups,r):0;return e.groups=Ah(e.groups,n),e.groups=Fh(i,l,e.groups),{isDone:!0}})),fm=e=>({caption:"Watch List:",descr:e}),ym=function(e){if(void 0===e&&(e=!0),Qh()){const t=((e,t)=>{if(!wh)return{...bh};try{yh[kh(e)]=jh(t)}catch(e){return e}})(zh,Zh());t?Du(fm(t.message)):(Jh({isWatchEdited:!1}),e&&$u(fm("Watch List has been saved.")))}else $u(fm("Watch List has not been edited\nfrom previous save."))},jm=function(e){let{isShowDialog:t}=void 0===e?{}:e;ym(t)},vm=e=>{((e,t)=>{let{groupCaption:o,listCaption:s,caption:n}=t;const i=Vh(e,o),r=Hh(i,s);r.items=Ah(r.items,n)})(Zh(),e),Jh({isWatchEdited:!0,watchList:{...Zh()}})},Cm=e=>{if((e.altKey||e.metaKey)&&e.key){const t=Tt[e.key.toUpperCase()];"function"==typeof t&&(e.stopImmediatePropagation(),t())}},bm=()=>{(0,l.useEffect)((()=>kt?(document.addEventListener(St,Cm,!1),()=>{Tt=null,document.removeEventListener(St,Cm,!1)}):void 0),[])},wm=e=>{let{color:t="currentColor",size:o="24",children:s,...n}=e;return(0,f.jsxs)(Yo,{w:o,width:o,height:o,fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...n,children:[(0,f.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,f.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,f.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"8"})]})},km="grey",Sm={borderColor:km,color:km},Tm=e=>{let{className:t,style:o}=e;const[s,n]=(0,l.useState)(Qh);om((e=>{n(!!e)}));const i=dt(o,s&&Sm);return(0,f.jsx)(ms,{className:t,caption:"S",title:"Save Watch Items to Locale Storage",style:i,onClick:jm})},Im="#2f7ed8",Nm=(e,t,o)=>({backgroundColor:e,width:t+"%",transition:o,opacity:1}),Lm=(e,t,o)=>j(e)?(v(e,!1),Nm(t,0)):Nm(t,((e,t)=>e<0?0:e>=100?(v(t,!0),100):e)(o,e),"width 350ms linear"),Dm=e=>{let{color:t=Im,completed:o}=e;const s=F(),n=(0,l.useRef)(!1),i=(0,l.useRef)(null);(0,l.useEffect)((()=>{j(n)&&v(i,setTimeout(s,800))})),(0,l.useEffect)((()=>()=>{clearTimeout(j(i))}),[]);const r=Lm(n,t,o);return(0,f.jsx)("div",{className:"progress-line",style:r})},$m="#2f7ed8",Rm=(e,t)=>[e,t],Em=He((()=>{const e=kp(),[t,o]=e===fp?Rm(35,$m):e===yp?Rm(100,$m):e===jp?Rm(100,"#ed5813"):Rm(0,$m);return(0,f.jsx)(Dm,{color:o,completed:t})})),_m=e=>{let{className:t,title:o}=e;return(0,f.jsx)("span",{className:t,title:o,children:(0,f.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,f.jsx)("title",{children:o}),(0,f.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,f.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,f.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},Wm=e=>{let{className:t,caption:o,title:s}=e;return(0,f.jsx)("span",{className:t,title:s,children:o})},Mm={display:"inline-block",color:"#2f7ed8",padding:"5px 10px 0",fontSize:"16px",fontWeight:"bold"},Om=()=>{const e=Sp();return(0,f.jsx)("span",{style:Mm,children:e})},Am="Library Watch v0.12.0",Pm="header",Bm=`${Pm}__icon-app`,Fm=`${Pm}__bt-about`,Vm=`${Pm}__app-label`,Hm=`${Pm}__bt-library`,Um={position:"relative",top:-2,verticalAlign:"middle",margin:"0 8px"},Gm={marginTop:4,marginLeft:10},zm={marginLeft:"auto"},qm={browserType:se,caption:"Library",sourceMenuUrl:"./data/github/source-menu.json",rowClass:"menu-item"},Km=()=>uh(qm),Ym=()=>(0,f.jsxs)("header",{className:Pm,children:[(0,f.jsx)(Em,{}),(0,f.jsx)(_m,{className:Bm,title:Am}),(0,f.jsx)(Wm,{className:Vm,caption:Am}),(0,f.jsx)(Rt,{className:Hm,caption:"Library",title:"Library Browser",hotKey:"L",timeout:0,onClick:Km}),(0,f.jsx)(Rt,{caption:"Watch",title:"Watch Browser",hotKey:"W",timeout:0,onClick:ch}),(0,f.jsx)(Tm,{style:Gm}),(0,f.jsxs)("div",{style:zm,children:[(0,f.jsx)(Om,{}),(0,f.jsx)(Rt,{className:Fm,title:"About webapp Library Watch",hotKey:"A",timeout:0,onClick:wu,children:(0,f.jsx)(wm,{style:Um})})]})]}),Jm="#80c040",Xm={display:"inline-block",color:Jm,width:24,height:24,border:`2px solid ${Jm}`,borderRadius:"50%",textAlign:"center"},Qm=e=>{let{step:t}=e;return(0,f.jsx)("span",{style:Xm,children:t})},Zm=e=>{let{isFirstBlank:t,color:o,children:s}=e;return(0,f.jsxs)("span",{style:{color:o,fontWeight:"bold"},children:[t?" ":null,s]})},eg={display:"inline-block",padding:"0 8px"},tg=e=>{let{color:t,href:o,title:s,caption:n,children:i}=e;return(0,f.jsx)("span",{style:eg,children:(0,f.jsx)(jl,{className:"source-link",style:{color:t},href:o,title:s,children:n||i})})},og=e=>{let{w:t,h:o=t,children:s,...n}=e;return(0,f.jsx)("svg",{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",...n,"aria-hidden":"true",viewBox:`0 0 ${t} ${o}`,xmlns:"http://www.w3.org/2000/svg",children:s})},sg=e=>{let{className:t,href:o,title:s}=e;return(0,f.jsx)(jl,{className:t,href:o,title:s,children:(0,f.jsx)(og,{w:"16",strokeMiterlimit:"1.414",children:(0,f.jsx)("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.4371.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})})})},ng=()=>(0,f.jsx)(jl,{className:"icon__react",href:"https://github.com/facebook/react",title:"React",children:(0,f.jsxs)(og,{w:"600",children:[(0,f.jsx)("circle",{cx:"299.529",cy:"299.628",r:"50.167"}),(0,f.jsx)("path",{fill:"none",d:"M299.529,197.628\r c67.356,0,129.928,9.665,177.107,25.907c56.844,19.569,91.794,49.233,91.794,76.093c0,27.991-37.041,59.503-98.083,79.728\r c-46.151,15.291-106.879,23.272-170.818,23.272c-65.554,0-127.63-7.492-174.29-23.441c-59.046-20.182-94.611-52.103-94.611-79.559\r c0-26.642,33.37-56.076,89.415-75.616C167.398,207.503,231.515,197.628,299.529,197.628z"}),(0,f.jsx)("path",{fill:"none",d:"M210.736,248.922\r c33.649-58.348,73.281-107.724,110.92-140.48c45.35-39.466,88.507-54.923,111.775-41.505\r c24.248,13.983,33.042,61.814,20.067,124.796c-9.81,47.618-33.234,104.212-65.176,159.601\r c-32.749,56.788-70.25,106.819-107.377,139.272c-46.981,41.068-92.4,55.929-116.185,42.213\r c-23.079-13.31-31.906-56.921-20.834-115.233C153.281,368.316,176.758,307.841,210.736,248.922z"}),(0,f.jsx)("path",{fill:"none",d:"M210.821,351.482\r c-33.746-58.292-56.731-117.287-66.312-166.255c-11.544-58.999-3.382-104.109,19.864-117.566\r c24.224-14.024,70.055,2.244,118.14,44.94c36.356,32.28,73.688,80.837,105.723,136.173c32.844,56.733,57.461,114.209,67.036,162.582\r c12.117,61.213,2.309,107.984-21.453,121.74c-23.057,13.348-65.249-0.784-110.239-39.499\r C285.567,460.886,244.898,410.344,210.821,351.482z"})]})}),ig={paddingTop:20,textAlign:"center"},rg=()=>(0,f.jsxs)("div",{style:ig,children:[(0,f.jsx)(sg,{className:"icon__github",title:"GitHub Library Watch",href:"https://github.com/ZhnZhn/library-watch.git"}),(0,f.jsx)(ng,{})]}),lg={display:"block"},ag={display:"none"},cg={overflowY:"auto",height:"92%",paddingRight:10},dg={color:"grey",padding:"0 5px 0 16px",lineHeight:1.4,fontWeight:"bold"},pg={marginBottom:"1em"},ug={marginTop:3},hg=()=>{const[e,t,o,s]=_u(!0);bu((e=>{e&&e.is&&t()})),ou((e=>{e&&(e.Comp||e.chartCont)&&o()}));const[n,i]=e?[lg,"show-popup"]:[ag];return(0,f.jsxs)("div",{className:i,style:{...lp,...n},role:"presentation",onKeyDown:s,children:[(0,f.jsx)(Fu,{caption:"About",onClose:o}),(0,f.jsx)(Jd,{style:cg,children:(0,f.jsxs)("div",{style:dg,children:[(0,f.jsxs)("p",{children:[(0,f.jsx)(Zm,{color:"#80c040",children:"Library Watch"}),(0,f.jsx)(Zm,{color:"grey",isFirstBlank:!0,children:"is a SPA RESTful client."})]}),(0,f.jsx)("p",{style:pg,children:"By means of web app Library-Watch, it is possible to view information about GitHub's repositories, NPM's packages, StackOverflows's questions."}),(0,f.jsxs)("p",{style:pg,children:[(0,f.jsx)(Zm,{color:"grey",children:"Information API providers:"}),(0,f.jsx)(tg,{href:"https://crates.io/",color:"#009ae5",title:"crates.io",caption:"Crates.io"}),(0,f.jsx)(tg,{href:"https://www.github.com/",color:"#009ae5",title:"GitHub",caption:"GitHub"}),(0,f.jsx)(tg,{href:"https://www.npmjs.com/",color:"#273547",title:"NPM",caption:"NPM"}),(0,f.jsx)(tg,{href:"https://api-docs.npms.io/",color:"#273547",title:"NPMS.IO",caption:"NPMS.IO"}),(0,f.jsx)(tg,{href:"https://bundlephobia.com/",color:"#273547",title:"Bundlephobia.com",caption:"Bundlephobia.com"}),(0,f.jsx)(tg,{href:"https://stackexchange.com/",color:"#3186C9",title:"StackExchange",caption:"StackExchange"}),(0,f.jsx)(tg,{href:"https://gs.statcounter.com/",color:"#009ae5",title:"Statcounter",caption:"Statcounter"})]}),(0,f.jsxs)("p",{children:[(0,f.jsx)(Qm,{step:"1"}),(0,f.jsx)(Zm,{color:"black",isFirstBlank:!0,children:"Please, choose an information Browser from the header bar."})]}),(0,f.jsxs)("p",{style:ug,children:[(0,f.jsx)(Qm,{step:"2"}),(0,f.jsx)(Zm,{color:"black",isFirstBlank:!0,children:"Next, choose an information menu item in a Browser."})]}),(0,f.jsxs)("p",{style:ug,children:[(0,f.jsx)(Qm,{step:"3"}),(0,f.jsx)(Zm,{color:"black",isFirstBlank:!0,children:"Enter repository or package name in a draggable Dialog."})]}),(0,f.jsxs)("p",{style:ug,children:[(0,f.jsx)(Qm,{step:"4"}),(0,f.jsx)(Zm,{color:"black",isFirstBlank:!0,children:"Click a button Load."})]}),(0,f.jsx)("p",{style:ug,children:(0,f.jsx)(Zm,{color:"grey",children:"The result will be shown in an Item component in a Container."})}),(0,f.jsx)("p",{style:{...pg,...ug},children:(0,f.jsx)(Zm,{color:"grey",children:"Also, it possible to add an item to Watch Browser and save to LocalStorage."})}),(0,f.jsx)("p",{style:pg,children:"After clicking a button Show in a Dialog opens Container with Items or empty. After closing a Container all Items remains. In one-time max three Item Dialogs can be opened."}),(0,f.jsxs)("p",{children:[(0,f.jsx)(Zm,{color:"grey",children:"In that case of using"}),(0,f.jsx)(tg,{href:"https://developer.github.com/v3/#rate-limiting",color:"#009ae5",isFirstBlank:!0,title:"GitHub API v3 Rate Limiting",children:"GitHub"}),(0,f.jsxs)(Zm,{color:"grey",isFirstBlank:!0,children:["API provider, exists some restriction on frequency and amount queries (",(0,f.jsx)(Zm,{color:"#2f7ed8",children:"60 calls per hour, 10 requests per minute for Search API"}),(0,f.jsx)(Zm,{color:"grey",children:")."})]})]}),(0,f.jsx)(rg,{})]})})]})},mg=()=>Nu(ee),gg=()=>Nu(te),xg=dh,fg=e=>Nu(Z,e),yg=r(Nu,oe,{onLoad:e=>{try{const{progressEvent:t}=e;Qr(Zh(),JSON.parse(t.target.result)),Jh({isWatchEdited:!0,watchList:{...Zh()}})}catch(e){Du({...Me})}}}),jg=(e,t)=>{t.stopPropagation(),vm(e)},vg=()=>{const e=`WatchItems_${Xn(Date.now())}.json`;fh(Zh(),e)},Cg="bt__watch__bar",bg={marginBottom:10},wg={marginLeft:20},kg=e=>{let{is:t}=e;return t?(0,f.jsxs)("div",{style:bg,children:[(0,f.jsx)(ms,{caption:"GROUP",title:"Edit Group",className:Cg,isWithoutDefault:!0,onClick:mg}),(0,f.jsx)(ms,{caption:"LIST",title:"Edit Group List",className:Cg,isWithoutDefault:!0,style:wg,onClick:gg}),(0,f.jsx)(ms,{caption:"DB",title:"Double Watch Browser",className:Cg,isWithoutDefault:!0,style:wg,onClick:xg})]}):null},Sg={fromLevel3(e){const t="caption",o=[];for(let s of e.groups||[])for(let e of s.lists||[])for(let n of e.items||[])n.topic=`${s[t]}/${e[t]}`,o.push(n);return o}},Tg={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},Ig={},Ng=e=>{let{item:t=Ig,propCaption:o}=e;return(0,f.jsx)("div",{style:Tg,children:t[o]})},Lg={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(164, 135, 212)"},Dg=e=>{const{item:t}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)(Ng,{...e}),(0,f.jsx)("div",{style:Lg,children:t.topic})]})},$g=()=>{},Rg=(0,l.memo)((e=>{let{style:t,data:o,onSelect:s=$g}=e;const n=(0,l.useCallback)((e=>{e&&s(e)}),[s]),i=Sg.fromLevel3(o);return(0,f.jsx)("div",{style:t,children:(0,f.jsx)(Sn,{width:"330",placeholder:"Find Item",propCaption:"caption",options:i,ItemOptionComp:Dg,onSelect:n})})}),((e,t)=>!t.isShouldUpdate)),Eg={width:"100%",padding:"0 0 8px 0"},_g=e=>{let{isShow:t,isShouldUpdate:o,data:s}=e;return s?(0,f.jsx)(ho,{isShow:t,children:(0,f.jsx)(Rg,{style:Eg,data:s,isShouldUpdate:o,onSelect:fg})}):null},Wg={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},Mg=e=>JSON.parse(e.dataTransfer.getData("text")),Og="border-bottom",Ag="border-left";let Pg,Bg,Fg,Vg;const Hg=e=>e.currentTarget.style,Ug=(e,t)=>(e=>`4px solid ${e}`)((e=>-1!==Pg.indexOf(e))(e)?t||"green":"red"),Gg=e=>{const t=Bg.style;Hg(e).removeProperty(Ag),t.removeProperty("border"),t.setProperty(Og,Fg)},zg=Object.assign,qg=e=>{let{event:t,dragId:o,xType:s}=e;zg(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:o,xType:s}))},Kg=(e,t)=>(o,s)=>{((e,t)=>{Bg=e.currentTarget,Pg=t,Fg=Hg(e).getPropertyValue(Og)})(s,e),qg({event:s,dragId:t(o),xType:e[0]})},Yg=(e,t)=>o=>{o.preventDefault(),((e,t,o)=>{const s=Hg(e);Vg=s.getPropertyValue(Ag),s.setProperty(Ag,Ug(t,o))})(o,e,t)},Jg=e=>{e.preventDefault()},Xg=e=>{e.preventDefault(),(e=>{const t=Hg(e);t.removeProperty(Ag),t.setProperty(Ag,Vg)})(e)},Qg=(e,t,o,s,n,i,l)=>i?{draggable:!0,onDragStart:r(e,l),onDrop:r(t,l),onDragEnter:o,onDragOver:s,onDragLeave:n}:void 0,Zg=e=>{let{caption:t}=e;return`${t};`},ex=Kg([Wg.GROUP],Zg),tx=Yg(Wg.GROUP,Wg.C_GROUP_ENTER),ox=r(Qg,ex,((e,t)=>{Gg(t);const{xType:o,dragId:s}=Mg(t),n=Zg(e);if(o===Wg.GROUP){if(s===n)return;t.preventDefault(),xm({dragId:s,dropId:n})}else o===Wg.LIST&&(t.preventDefault(),gm({dragId:s,dropId:n}))}),tx,Jg,Xg),sx=e=>{let{groupCaption:t,caption:o}=e;return`${t};${o};`},nx=Kg([Wg.LIST,Wg.GROUP],sx),ix=Yg(Wg.LIST,Wg.C_LIST_ENTER),rx=r(Qg,nx,((e,t)=>{Gg(t);const{xType:o,dragId:s}=Mg(t),n=sx(e);if(o===Wg.LIST){if(s===n)return;t.preventDefault(),gm({dragId:s,dropId:n})}else o===Wg.ITEM&&(t.preventDefault(),mm({dragId:s,dropId:n}))}),ix,Jg,Xg),lx=e=>{let{groupCaption:t,listCaption:o,caption:s}=e;return`${t};${o};${s}`},ax=Kg([Wg.ITEM,Wg.LIST],lx),cx=Yg(Wg.ITEM,Wg.C_LIST_ENTER),dx=r(Qg,ax,((e,t)=>{Gg(t);const{xType:o,dragId:s}=Mg(t),n=lx(e);if(o===Wg.ITEM){if(s===n)return;t.preventDefault(),mm({dragId:s,dropId:n})}}),cx,Jg,Xg),px={position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5,paddingLeft:14,lineHeight:1.4},ux={display:"inline-block",verticalAlign:"middle",width:"100%",maxWidth:250,textOverflow:"ellipsis",overflow:"hidden"},hx={position:"absolute",right:0},mx={float:"right"},gx=e=>{let{version:t,date:o}=e;return t?(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:mx,children:(o||"").split(" ")[0]})]}):null},xx=e=>{let{isModeEdit:t,item:o,className:s,onClick:n,onClose:i,dndItemHandlers:r}=e;const{repo:l,version:a,date:c}=o,d=Mt(n);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:"0",className:s,style:px,onClick:n,onKeyDown:d,...r,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:ux,children:l}),t?(0,f.jsx)(Xo,{style:hx,onClose:i}):null]}),a?(0,f.jsx)(gx,{version:a,date:c}):null]})},fx=ht("row__topic"),yx=e=>{let{isModeEdit:t,items:o,groupCaption:s,listCaption:n}=e;return _(o,(e=>{const{caption:o}=e,i={groupCaption:s,listCaption:n,caption:o};return(0,f.jsx)(xx,{className:fx,isModeEdit:t,item:e,onClick:r(fg,e),onClose:r(jg,i),dndItemHandlers:dx(t,i)},o)}))},jx={marginLeft:8,lineHeight:2,borderLeft:"1px solid yellow"},vx={paddingLeft:12},Cx=e=>{let{isModeEdit:t,groupCaption:o,lists:s}=e;return _(s,(e=>{let{caption:s,items:n}=e;return(0,f.jsx)(zl,{fillOpen:"#80c040",style:jx,styleCaptionRow:vx,caption:s,dndHandlers:rx(t,{groupCaption:o,caption:s}),children:(0,f.jsx)(yx,{isModeEdit:t,items:n,groupCaption:o,listCaption:s})},s)}))},bx={lineHeight:2},wx={paddingLeft:6},kx=e=>{let{refFirstItem:t,isModeEdit:o,groups:s}=e;return _(s,((e,s)=>{let{caption:n,lists:i}=e;return(0,f.jsx)(zl,{refItem:0===s?t:void 0,style:bx,styleCaptionRow:wx,caption:n,dndHandlers:ox(o,{caption:n}),children:(0,f.jsx)(Cx,{isModeEdit:o,groupCaption:n,lists:i})},n)}))},Sx="browser-watch",Tx=e=>`${Sx} ${Sx}--${e}`,Ix=Tx("1r"),Nx=Tx("2r"),Lx="bt__watch__caption",Dx={maxWidth:500},$x={minWidth:340},Rx={minWidth:310},Ex=e=>{let{isShow:t,isEditMode:o,isDoubleWatch:s,caption:n,browserType:i,useMsBrowser:r,useMsBrowserDynamic:a,useWatchList:c}=e;const d=(0,l.useRef)(!1),[p,u]=Xe(o),[h,m,g]=Xe(),[x,y,C,b,w,k,S]=Ou(t,Zh),[T,I]=Pu(),[L,D]=(0,l.useMemo)((()=>[()=>{s?xg():w()},()=>{s||b()}]),[s]);r((e=>{e&&e.id===i&&(D(),I()||N(S))})),c((e=>{e&&(v(d,!0),y(e),g(!1))}));const{groups:$}=x||{},R=s?Rx:$x,[E,_]=p?["V","Toggle to View Mode"]:["E","Toggle to Edit Mode"],W=!(!h||!j(d))&&(()=>(v(d,!1),!0)),M=((e,t)=>e&&t?Nx:e||t?Ix:Sx)(h,p);return(0,f.jsxs)(Bu,{isShow:C,style:Dx,onKeyDown:k,children:[(0,f.jsxs)(Fu,{style:R,caption:n,onClose:L,children:[(0,f.jsx)(Tm,{className:Lx}),(0,f.jsx)(ms,{isWithoutDefault:!0,className:Lx,caption:E,title:_,onClick:u}),(0,f.jsx)(ms,{isWithoutDefault:!0,className:Lx,caption:"F",title:"Show/Hide : Find Item Input",onClick:m}),!s&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ms,{isWithoutDefault:!0,className:Lx,caption:"B",title:"BackUp Watch Items to JSON File",onClick:vg}),(0,f.jsx)(ms,{isWithoutDefault:!0,className:Lx,caption:"L",title:"Load Watch Items from JSON File",onClick:yg})]})]}),(0,f.jsx)(kg,{is:p}),(0,f.jsx)(_g,{isShow:h,isShouldUpdate:W,data:x}),(0,f.jsx)(Jd,{className:M,onFocusIn:T,children:(0,f.jsx)(kx,{refFirstItem:S,isModeEdit:p,groups:$})})]})},_x={zIndex:30,position:"absolute",top:70,left:10,width:"99%"},Wx=(e,t)=>{let o,s;for(s=0;s<e.length;s++)if(e[s].key===t){o=s;break}return[...e.slice(0,o),...e.slice(o+1),e[o]]},Mx=(e,t,o,s)=>(t.push(s),t.length>e?(o[t[0]]=!1,t.slice(1)):t),Ox={dialog:{},elementDialogs:[],openDialogs:[]},Ax=e=>{let{useDgOption:t,maxDialog:o}=e;const[s,n]=(0,l.useState)(Ox),{dialog:i,elementDialogs:r}=s;return t((e=>{if(e){const{dialogType:t,dialogComp:s}=e;n(s?e=>{const{dialog:n,elementDialogs:i,openDialogs:r}=e;return n[t]=!0,i.push(s),{dialog:n,elementDialogs:i,openDialogs:Mx(o,r,n,t)}}:e=>{const{dialog:s,elementDialogs:n,openDialogs:i}=e;let r;return s[t]||(s[t]=!0,r=Mx(o,i,s,t)),{dialog:s,elementDialogs:Wx(n,t),openDialogs:r||i}})}})),(0,f.jsx)("div",{style:_x,children:r.map((e=>{const{key:t}=e;return y(e,{isShow:i[t],onClose:()=>{return e=t,void n((t=>{const{dialog:o,openDialogs:s}=t;return o[e]=!o[e],{...t,dialog:o,openDialogs:o[e]?s:s.filter((t=>t!==e))}}));var e}})}))})},Px=e=>{let{useMsBrowser:t,useMsBrowserDynamic:o,useWatchList:s,updateWatchAction:n,useDgOption:i}=e;const[r,a]=Xe(!1),[c,d]=(0,l.useState)([]);return t((e=>{e&&e.id===ie&&a()})),o((e=>{e&&e.elBrowser&&d((t=>[e.elBrowser,...t]))})),(0,f.jsxs)("div",{className:"hrz-container",children:[(0,f.jsx)(Ex,{caption:"Watch",browserType:ne,useMsBrowser:t,useWatchList:s}),r&&(0,f.jsx)(Ex,{isShow:!0,isEditMode:!0,isDoubleWatch:!0,caption:"Watch 2",browserType:ne,useMsBrowser:t,useWatchList:s}),c,(0,f.jsx)(Ax,{maxDialog:3,useDgOption:i})]})},Bx=()=>{const[e,t]=(0,l.useState)([]);return ou((e=>{e&&e.Comp&&t((t=>[e.Comp,...t]))})),(0,f.jsx)("div",{className:"hrz-container",children:e})},Fx=e=>{let{isShow:t,onClose:o,children:s}=e;const[n,i]=t?["modal-root show-modal",lt]:["modal-root",ct];return(0,f.jsx)("div",{role:"presentation",className:n,style:i,onClick:o,children:s})},Vx={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},Hx=e=>{let{useMdOption:t,routerDialog:o}=e;const[s,n]=(0,l.useState)(Vx),{isShow:i,shows:r,data:a,dialogs:c,currentDialog:d}=s,p=e=>{n((t=>(t.shows[e]=!1,{...t,isShow:!1,currentDialog:null})))};return t((e=>{if(e){const{modalDialogType:t}=e;n((s=>{const{inits:n,shows:i,data:r,dialogs:l}=s;return r[t]=e,i[t]=!0,n[t]||(l.push({type:t,Comp:o[t]}),n[t]=!0),{...s,isShow:!0,currentDialog:t}}))}})),(0,f.jsx)(Fx,{isShow:i,onClose:()=>p(d),children:c.map((e=>{let{type:t,Comp:o}=e;return(0,f.jsx)(o,{isShow:r[t],data:a[t],onClose:()=>p(t)},t)}))})},Ux={color:"silver",stroke:"silver",backgroundColor:"#232f3b",padding:5,textAlign:"center",fontSize:18},Gx={position:"absolute",top:6,right:0},zx=e=>{let{caption:t,onClose:o}=e;return(0,f.jsxs)("div",{style:Ux,children:[(0,f.jsx)("span",{className:ut,children:t}),(0,f.jsx)(Xo,{style:Gx,onClose:o})]})},qx={opacity:0,transform:"scaleY(0)"},Kx={...ts,position:"absolute",top:"20%",left:"40%",display:"block",zIndex:10},Yx=e=>{let{isShow:t,isWithButton:o=!0,timeout:s=450,style:n,caption:i,commandButtons:r,onClose:a,children:c}=e;const d=F(),p=Ot(a),u=(0,l.useRef)(),h=(0,l.useCallback)((e=>{e.stopPropagation()}),[]);let m,g;return(0,l.useEffect)((()=>{j(u)&&setTimeout(d,s)})),j(u)?(g=es,v(u,!1)):([m,g]=t?[Qo,Zo]:["hide-popup",qx],t||v(u,!0)),(0,f.jsxs)("div",{role:"dialog",tabIndex:"-1","aria-label":i,"aria-hidden":!t,className:m,style:{...Kx,...n,...g},onClick:h,onKeyDown:p,children:[(0,f.jsx)(zx,{caption:i,onClose:a}),(0,f.jsx)("div",{children:c}),o&&(0,f.jsxs)("div",{style:ss,children:[r,(0,f.jsx)(Rt,{caption:"Close",title:"Click to close modal dialog",timeout:0,onClick:a},"close")]})]})},Jx={color:"#f44336",display:"inline-block",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},Xx={color:"#a487d4",fontWeight:"bold"},Qx={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre-line",fontWeight:"bold"},Zx=()=>{},ef=Ge((e=>{let{isShow:t,data:o,onClose:s=Zx}=e;const{alertCaption:n,alertItemId:i,alertDescr:r,caption:l,itemId:a,descr:c}=o||{},d=n||l||"",p=(h=i||a)?h.substring(0,20)+"...":"",u=r||c||"";var h;return(0,f.jsxs)(Yx,{caption:"Alert",isShow:t,onClose:s,children:[(0,f.jsx)(hs,{children:(0,f.jsxs)("span",{style:Jx,children:[(0,f.jsx)("span",{children:d}),(0,f.jsx)("span",{children:":"}),(0,f.jsx)("span",{style:Xx,title:p,children:p})]})}),(0,f.jsx)(hs,{children:(0,f.jsx)("p",{style:Qx,children:u})})]})})),tf={color:"#a487d4",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},of={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre",fontWeight:"bold"},sf=Ge((e=>{let{isShow:t,data:o,onClose:s}=e;const{caption:n,descr:i}=o;return(0,f.jsxs)(Yx,{caption:"Information",isShow:t,onClose:s,children:[(0,f.jsx)(hs,{children:(0,f.jsx)("p",{style:tf,children:n})}),(0,f.jsx)(hs,{children:(0,f.jsx)("p",{style:of,children:i})})]})})),nf="Choose a file...",rf=()=>{},lf=e=>{let{as:t="text",onChange:o=rf}=e;const[s,n]=(0,l.useState)(nf),i=(0,l.useCallback)((e=>{const s=[];for(let t=0;t<e.target.files.length;t++)s.push(e.target.files[t]);Promise.all(s.map((e=>new Promise(((o,s)=>{let n=new FileReader;switch(n.onload=t=>{o([t,e])},t.toLowerCase()){case"binary":n.readAsBinaryString(e);break;case"buffer":n.readAsArrayBuffer(e);break;case"text":default:n.readAsText(e);break;case"url":n.readAsDataURL(e)}}))))).then((e=>{const t=e&&e[0]?(e[0][1]||{}).name:nf;n(t),o(e)}))}),[]);return(0,f.jsxs)("div",{className:"_react-file-reader-input",children:[(0,f.jsx)("input",{className:"inputfile",type:"file",id:"file",name:"file",as:t,onChange:i}),(0,f.jsxs)("label",{htmlFor:"file",children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",children:(0,f.jsx)("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})}),(0,f.jsx)("span",{children:s})]})]})},af={minWidth:320},cf={margin:"16px 0"},df={width:"100%",marginRight:16},pf=Ge((e=>{let{isShow:t,data:o,onClose:s}=e;const{onLoad:n}=o,i=(0,l.useRef)(null),r=(0,l.useCallback)((e=>{const[t]=e||[],o=t?[t[0],t[1]]:null;v(i,o)}),[]),[a,c,d]=_t(((e,t)=>{const[o,s]=j(i)||[];o&&s?(n({progressEvent:o}),t()):e(["Please choose file for loading."])}),s);return(0,f.jsxs)(Yx,{style:af,caption:"Load Watch Items from File",isShow:t,commandButtons:c,onClose:d,children:[(0,f.jsx)(hs,{style:cf,children:(0,f.jsx)(lf,{as:"text",onChange:r})}),(0,f.jsx)(hs,{style:df,children:(0,f.jsx)(Ss,{validationMessages:a})})]})})),uf=e=>{const t=(0,l.useRef)(),{current:o}=t;return t.current=e,o},hf=()=>{const e=(0,l.useRef)(null),t=(0,l.useCallback)((t=>{e.current=t&&t.caption||null}),[]);return[e,t]},mf=e=>{let{style:t,caption:o,isCaption:s=!0,textStyle:n,text:i}=e;return(0,f.jsxs)(hs,{style:t,children:[(0,f.jsx)(_s,{is:s,caption:o}),(0,f.jsx)("span",{style:n,children:i})]})},gf={fontWeight:"bold"},xf={lineHeight:2},ff={fontWeight:"bold",color:"gray"},yf=Ge((e=>{const t=uf(e),{isShow:o,data:s,onClose:n}=e,[i,r]=fn(null),[a,c]=hf(),[d,p]=(0,l.useState)((()=>({groupOptions:sm(),listOptions:[]}))),{groupOptions:u,listOptions:h}=d,[m,g,x]=ot(),y=(0,l.useCallback)((e=>{const{caption:t,lists:o}=e||{},s=t?(p((e=>({...e,listOptions:o||[]}))),t):null;i(s)}),[i]),C=(0,l.useCallback)((()=>{x(),n()}),[]),b=(0,l.useCallback)((()=>{const e=r(),t=j(a),o=[];if(e||o.push(Re("Group")),t||o.push(Re("List")),0===o.length){const{caption:o,config:n}=s;um({caption:o,groupCaption:e,listCaption:t,config:n})}else g(o)}),[s]),w=(0,l.useMemo)((()=>[(0,f.jsx)(Rt,{caption:"Add",title:"Click to add to watch list",timeout:0,onClick:b},"add")]),[b]);tm((e=>{e&&e.forActionType===Eh&&(e.message?g(e.messages):C())})),(0,l.useEffect)((()=>{if(t&&t!==e&&t.isShow!==o){const e=r(),t=sm();if(t!==u)i(null),v(a,null),p({groupOptions:t,listOptions:[]});else if(e){const t=nm(e);t!==h&&(v(a,null),p((e=>({...e,listOptions:t}))))}}}));const{caption:k,config:S}=s,{descr:T}=S||{};return(0,f.jsxs)(Yx,{caption:"Add To Watch List",isShow:o,commandButtons:w,onClose:C,children:[(0,f.jsx)(Tn,{caption:"Group",options:u,onSelect:y}),(0,f.jsx)(Tn,{caption:"List",options:h,onSelect:c}),(0,f.jsx)(mf,{style:xf,caption:"Item",textStyle:gf,text:k}),(0,f.jsx)(mf,{style:xf,caption:"Descr",textStyle:ff,text:T}),(0,f.jsx)(Ss,{validationMessages:m})]})})),jf={fontWeight:"bold",color:"gray",padding:"8px 8px 0 8px"},vf={lineHeight:2},Cf={lineHeight:1.5},bf={fontWeight:"bold"},wf=Ge((e=>{let{isShow:t,data:o,onClose:s}=e;const n=[(0,f.jsx)(Rt,{isPrimary:!0,caption:"Load",onClick:()=>{lu(re,ne,o),s()}},"load")],{caption:i,descr:r,date:l}=o;return(0,f.jsxs)(Yx,{caption:"Load Watch Item",isShow:t,commandButtons:n,onClose:s,children:[(0,f.jsx)(mf,{style:Cf,isCaption:!1,text:r,textStyle:jf},"1"),(0,f.jsx)(mf,{style:vf,caption:"Item",text:i,textStyle:bf},"2"),l&&(0,f.jsx)(mf,{style:vf,caption:"Date",text:l,textStyle:bf},"3")]})})),kf=e=>it("tab",[e,"tab--selected"]),Sf=(e,t)=>`tab-${e}-${t}`,Tf=(e,t)=>`tabpanel-${e}-${t}`,If={margin:"5px 5px 10px 24px"},Nf={width:"100%",height:"100%"},Lf={...lt,...Nf},Df=e=>{let{ariaLabel:t,id:o,isShow:s,width:n,height:i,children:r,...a}=e;const[c,d]=(0,l.useState)(0),p=e=>e===c,u=(e,t)=>{const s=e=>{const t=((e,t)=>-1===e?t-1:e===t?0:e)(e,r.length);(e=>{I(document.getElementById(e))})(Sf(o,t)),d(t)},{keyCode:n}=t,i=39===n?1:37===n?-1:0;i&&((e=>{e.stopPropagation(),e.preventDefault()})(t),s(e+i))};return(0,f.jsxs)("div",{style:{width:n,height:i},children:[(0,f.jsx)("div",{role:"tablist","aria-label":t,"aria-orientation":"horizontal",style:If,children:_(r,((e,t)=>{const s=p(t);return y(e,{isSelected:s,tabId:Sf(o,t),tabPanelId:Tf(o,t),className:kf(s),onClick:()=>d(t),onKeyDown:e=>u(t,e)},t)}))}),(0,f.jsx)("div",{style:Nf,children:_(r,((e,t)=>{const n=p(t);return(0,f.jsx)("div",{style:n?Lf:ct,role:"tabpanel",id:Tf(o,t),"aria-labelledby":Sf(o,t),children:y(e.props.children,{isVisible:m(s)?s&&n:n,...a})},t)}))})]})},$f=e=>{let{className:t,tabId:o,tabPanelId:s,title:n,isSelected:i,onClick:r,onKeyDown:l}=e;return(0,f.jsx)("button",{type:"button",role:"tab",className:t,id:o,tabIndex:i?"0":"-1","aria-selected":i,"aria-controls":s,onClick:r,onKeyDown:l,children:n})},Rf={textAlign:"right",margin:"8px 4px 10px 0",cursor:"default"},Ef=e=>{let{caption:t,onClick:o,onClear:s,onClose:n}=e;return(0,f.jsxs)("div",{style:Rf,children:[(0,f.jsx)(Rt,{isPrimary:!0,caption:t,timeout:0,onClick:o}),s&&(0,f.jsx)(Rt,{caption:"Clear",timeout:0,onClick:s}),(0,f.jsx)(Rt,{caption:"Close",timeout:0,onClick:n})]})},_f=(e,t,o)=>{tm((s=>{s&&s.forActionType===e&&(s.messages?t(s.messages):o())}))},Wf=e=>{let{forActionType:t,msgOnIsEmptyName:o,onCreate:s,onClose:n}=e;const i=(0,l.useRef)(),[r,a,c]=ot((()=>j(i).setValue(""))),d=(0,l.useCallback)((()=>{const e=j(i),t=e.getValue();t?s({caption:t}):(e.setValue(""),a([o("Group")]))}),[]);return _f(t,a,c),(0,f.jsxs)("div",{children:[(0,f.jsx)(Os,{refEl:i,caption:"Group"}),(0,f.jsx)(Ss,{validationMessages:r}),(0,f.jsx)(Ef,{caption:"Create",onClick:d,onClear:c,onClose:n})]})},Mf=e=>{const[t,o]=A(sm),s=F();return[t,()=>{o.current=sm(),s()}]},Of=()=>{},Af=function(e,t,o,s){void 0===s&&(s=Of);const[n,i]=Mf();return _f(e,t,o),em((e=>{e&&(i(),s())})),n},Pf=e=>{let{forActionType:t,msgOnNotSelect:o,msgOnIsEmptyName:s,onRename:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=hf(),[d,p,u]=ot((()=>j(r).setValue(""))),h=Af(t,p,u),m=(0,l.useCallback)((()=>{const e=j(r).getValue(),t=j(a);if(e&&t)n({captionFrom:t,captionTo:e});else{const n=[];t||n.push(o("Group From")),e||n.push(s("Group To")),p(n)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Tn,{caption:"Group From",options:h,onSelect:c}),(0,f.jsx)(Os,{refEl:r,caption:"Group To"}),(0,f.jsx)(Ss,{validationMessages:d}),(0,f.jsx)(Ef,{caption:"Rename",onClick:m,onClear:u,onClose:i})]})},Bf=e=>{let{forActionType:t,msgOnNotSelect:o,onDelete:s,onClose:n}=e;const[i,r]=hf(),[a,c,d]=ot(),p=Af(t,c,d),u=(0,l.useCallback)((()=>{const e=j(i);e?s({caption:e}):c([o("Group")])}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Tn,{caption:"Group",options:p,onSelect:r}),(0,f.jsx)(Ss,{validationMessages:a}),(0,f.jsx)(Ef,{caption:"Delete",onClick:u,onClose:n})]})},Ff=Ge((e=>{let{isShow:t,store:o,onClose:s}=e;return(0,f.jsx)(Yx,{caption:"Watch Groups Edit",isShow:t,isWithButton:!1,onClose:s,children:(0,f.jsxs)(Df,{width:"380px",children:[(0,f.jsx)($f,{title:"Create",children:(0,f.jsx)(Wf,{forActionType:Ih,msgOnIsEmptyName:$e,onCreate:rm,onClose:s})}),(0,f.jsx)($f,{title:"Rename",children:(0,f.jsx)(Pf,{forActionType:Nh,msgOnNotSelect:Re,msgOnIsEmptyName:$e,onRename:lm,onClose:s})}),(0,f.jsx)($f,{title:"Delete",children:(0,f.jsx)(Bf,{forActionType:Lh,msgOnNotSelect:Re,onDelete:am,onClose:s})})]},"1")})})),Vf=e=>{let{forActionType:t,msgOnNotSelect:o,msgOnIsEmptyName:s,onCreate:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=hf(),[d,p,u]=ot((()=>j(r).setValue(""))),h=Af(t,p,u),m=(0,l.useCallback)((()=>{const e=j(r).getValue(),t=j(a);if(t&&e)n({captionGroup:t,captionList:e});else{const n=[];t||n.push(o("In Group")),e||n.push(s("List")),p(n)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Tn,{caption:"In Group",options:h,onSelect:c}),(0,f.jsx)(Os,{refEl:r,caption:"List"}),(0,f.jsx)(Ss,{validationMessages:d}),(0,f.jsx)(Ef,{caption:"Create",onClick:m,onClear:u,onClose:i})]})},Hf=e=>{let{refEl:t,...o}=e;const s=uf(o),n=(0,l.useRef)(null),[i,r]=hf(),[a,c]=(0,l.useState)([]),d=(0,l.useCallback)((e=>{e&&e.caption?(v(n,e.caption),c(e.lists||[])):v(n,null)}),[]),{getWatchListsByGroup:p,groupCaption:u,groupOptions:h,listCaption:m}=o;return(0,l.useEffect)((()=>{if(s&&o!==s){const e=j(n);o.groupOptions!==s.groupOptions?(v(n,null),v(i,null),c([])):e&&c((t=>{const o=p(e);return o!==t?(v(i,null),o):t}))}})),(0,l.useImperativeHandle)(t,(()=>({getValue:()=>({captionGroup:j(n),captionList:j(i)}),setValueNull:()=>{v(n,null),v(i,null)}}))),(0,f.jsxs)("div",{children:[(0,f.jsx)(Tn,{caption:u,options:h,onSelect:d}),(0,f.jsx)(Tn,{caption:m,options:a,onSelect:r})]})},Uf=e=>{let{getWatchListsByGroup:t,forActionType:o,msgOnIsEmptyName:s,msgOnNotSelect:n,onRename:i,onClose:r}=e;const a=(0,l.useRef)(),c=(0,l.useRef)(),[d,p,u]=ot((()=>j(c).setValue(""))),h=F(),m=Af(o,p,u,h),g=(0,l.useCallback)((()=>{const{captionGroup:e,captionList:t}=j(a).getValue(),o=j(c).getValue();if(e&&t&&o)i({captionGroup:e,captionListFrom:t,captionListTo:o});else{const i=[];e||i.push(n("Group")),t||i.push(n("List From")),o||i.push(s("List To")),p(i)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Hf,{refEl:a,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:m,listCaption:"List From"}),(0,f.jsx)(Os,{refEl:c,caption:"List To"}),(0,f.jsx)(Ss,{validationMessages:d}),(0,f.jsx)(Ef,{caption:"Rename",onClick:g,onClear:u,onClose:r})]})},Gf=e=>{let{getWatchListsByGroup:t,forActionType:o,msgOnNotSelect:s,onDelete:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c,d]=ot(),p=F(),u=Af(o,c,d,p),h=(0,l.useCallback)((()=>{const e=j(r),{captionGroup:t,captionList:o}=e.getValue();if(t&&o)n({captionGroup:t,captionList:o});else{const e=[];t||e.push(s("Group")),o||e.push(s("List")),c(e)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Hf,{refEl:r,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:u,listCaption:"List"}),(0,f.jsx)(Ss,{validationMessages:a}),(0,f.jsx)(Ef,{caption:"Delete",onClick:h,onClear:d,onClose:i})]})},zf=Ge((e=>{let{isShow:t,store:o,onClose:s}=e;return(0,f.jsx)(Yx,{caption:"Watch Lists Edit",isShow:t,isWithButton:!1,onClose:s,children:(0,f.jsxs)(Df,{width:"380px",children:[(0,f.jsx)($f,{title:"Create",children:(0,f.jsx)(Vf,{forActionType:Dh,msgOnNotSelect:Re,msgOnIsEmptyName:$e,onCreate:cm,onClose:s})}),(0,f.jsx)($f,{title:"Rename",children:(0,f.jsx)(Uf,{getWatchListsByGroup:nm,forActionType:$h,msgOnNotSelect:Re,msgOnIsEmptyName:$e,onRename:dm,onClose:s})}),(0,f.jsx)($f,{title:"Delete",children:(0,f.jsx)(Gf,{getWatchListsByGroup:nm,forActionType:Rh,msgOnNotSelect:Re,onDelete:pm,onClose:s})})]},"1")})})),qf={[J]:ef,[X]:sf,[oe]:pf,[Q]:yf,[Z]:wf,[ee]:Ff,[te]:zf},Kf=e=>(bm(),(0,l.useEffect)((()=>{Jh({watchList:Sh(zh)[0]||Th})}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)(Ym,{}),(0,f.jsxs)("div",{className:"component-container",children:[(0,f.jsx)(Px,{useMsBrowser:lh,useMsBrowserDynamic:ph,useWatchList:em,useDgOption:ku}),(0,f.jsx)(hg,{}),(0,f.jsx)(Bx,{})]}),(0,f.jsx)(Hx,{useMdOption:Iu,routerDialog:qf})]}));i().config("https://59cd430997004591af3320a9875237d7@sentry.io/99461").install();const Yf=()=>{document.getElementById("preloader")&&document.body.removeChild(document.getElementById("preloader")),(0,s.createRoot)(document.getElementById("app")).render((0,f.jsx)(Kf,{}))};!function(){const e=window.preloader;e&&(e.isErrCss||e.isErrScript)?e.stop():Yf()}()},698:(e,t)=>{var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(e,t,s){var n=null;if(void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),"key"in t)for(var i in s={},t)"key"!==i&&(s[i]=t[i]);else s=t;return t=s.ref,{$$typeof:o,type:e,key:n,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=n,t.jsxs=n},848:(e,t,o)=>{e.exports=o(698)}},e=>{var t;t=618,e(e.s=t)}]);