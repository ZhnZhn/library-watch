/*! For license information please see app_ed5ed270cff404c3e3c1.js.LICENSE.txt */
"use strict";(self.webpackChunklibrary_watch=self.webpackChunklibrary_watch||[]).push([[524],{698:(e,t)=>{var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function n(e,t,o){var n=null;if(void 0!==o&&(n=""+o),void 0!==t.key&&(n=""+t.key),"key"in t)for(var i in o={},t)"key"!==i&&(o[i]=t[i]);else o=t;return t=o.ref,{$$typeof:s,type:e,key:n,ref:void 0!==t?t:null,props:o}}t.Fragment=o,t.jsx=n,t.jsxs=n},848:(e,t,s)=>{e.exports=s(698)},912:(e,t,s)=>{var o=s(338),n=s(687),i=s.n(n);const r=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return e.bind(null,...s)};var l=s(540);const a=Number.isNaN,c=Array.isArray,d=e=>t=>typeof t===e,p=d("number"),u=e=>p(e)&&e-e==0,h=d("string"),m=d("boolean"),g=d("function"),x=e=>h(e)&&""!==e;var f=s(848);const j=function(e,t,s){return void 0===s&&(s=e.key),(0,f.jsx)(e.type,Object.assign({},e.props,t),s)},y=e=>(e||{}).current,b=(e,t)=>{e&&(e.current=t)},v=(e,t)=>s=>{const o=y(s);return o&&g(o[e])?o[e]():t},C=v("isValid",!1),w=v("getValue"),k=e=>(t,s)=>{const o=y(t);o&&g(o[e])&&o[e](s)},S=k("setValue"),T=k("focus"),I=e=>{if(e&&g(e.focus))return e.focus(),!0},O=e=>I(y(e)),N=e=>e&&e[0]||{},L=e=>N(e).clientX,D=e=>N(e).clientY,R=e=>e.clientX||L(e.targetTouches)||L(e.changedTouches)||0,E=e=>e.clientY||D(e.targetTouches)||D(e.changedTouches)||0,_=(e,t)=>c(e)&&e.length>0?e.map(t):null,W=Object.is,M=Object.assign,A=e=>{let t;const s=new Set,o=(e,o)=>{const n="function"==typeof e?e(t):e;if(!W(n,t)){const e=t;t=(null!=o?o:"object"!=typeof n||null===n)?n:M({},t,n),s.forEach((s=>s(t,e)))}},n=()=>t,i={getState:n,setState:o,subscribe:e=>(s.add(e),()=>s.delete(e))};return t=e(o,n,i),i},P=e=>{const t=(0,l.useRef)(null);return null===t.current&&(t.current=e()),[t.current,t]},B=(e,t,s)=>{(0,l.useSyncExternalStore)(...P((()=>[()=>e.subscribe(t,s),()=>t(e.getState())]))[0])},F=()=>({}),V=()=>(0,l.useReducer)(F)[1],H=e=>"function"==typeof e,G=e=>{return s=e,(t=(e,t,o)=>{const n=o.subscribe;return o.subscribe=(e,t,s)=>{let i=e;if(t){const n=(null==s?void 0:s.equalityFn)||W;let r=e(o.getState());i=s=>{const o=e(s);if(!n(r,o)){const e=r;t(r=o,e)}},null!=s&&s.fireImmediately&&t(r,r)}return n(i)},s(e,t,o)})?A(t):A;var t,s},U=e=>[e.setState,e.getState],z=(e,t)=>[s=>({[e]:t?{[t]:s}:s}),t=>t[e]],q=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e(s.reduce(((e,t,s)=>(e[t]=o[s],e)),{}))}},K=(e,t)=>function(){return e(t(...arguments))},Y=(e,t,s)=>r(B,e,t),J=e=>{const t=Object.create(null);return t.value=e,{useAtomValue:()=>(t.rerender=V(),t.value),setValue:e=>{const s=t.value,o=t.rerender;t.value=((e,t)=>H(t)?t(e):t)(s,e),s!==t.value&&H(o)&&o()}}},X="alert",Q="info",$="addToWatch",Z="loadWatchItem",ee="editWatchGroup",te="editWatchList",se="loadFile",oe="LW",ne="WL",ie="WL_DB",re="WL_WATCH_LIST",le=e=>{let{uri:t,option:s,onFetch:o,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_nowTime:c,_doneOk:d,_doneFailure:p}=e;return fetch(t).then((e=>{const{status:t,headers:o}=e;if(s.limitRemaining=o.get("X-RateLimit-Remaining"),t>=200&&t<=400)return e.json();throw a(e)})).then((e=>{n(e,s)&&o({json:e,option:s,onCompleted:i}),d(c)})).catch((e=>{r({error:e,option:s,onFailed:l}),p(c)}))};var ae=s(809),ce=s.n(ae);const de=e=>{let{uri:t,option:s,onFetch:o,onCheckResponse:n,onCompleted:i,onCatch:r,onFailed:l,_crErr:a,_crErrResp:c,_nowTime:d,_doneOk:p,_doneFailure:u}=e;return fetch(t).then((e=>{if(e.body){return e.body.getReader().read()}throw a(e)})).then((e=>{const t=String.fromCharCode(...e.value);return ce().parse(t,{header:!0})})).then((e=>{if(!n(e))throw c();o({json:e,option:s,onCompleted:i}),p(d)})).catch((e=>{r({error:e,option:s,onFailed:l}),u(d)}))},pe=3e3,ue="DONE",he=(e,t)=>({errCaption:e,message:t}),me=he("Route is not exist"),ge=he("Load Frequency","Exceed item load frequency restriction of 3s"),xe=he("Loading In Progress","Loading data for this item in progress.\nIt seems several clicks on button Load repeatedly happend."),fe=function(e){let{status:t,statusText:s}=void 0===e?{}:e;return he("Request Error",t+": "+s)},je=()=>he("Response Error","Response format is incorrect.");let ye=ue,be=Date.now()-pe,ve=be;const Ce=(e,t)=>{ye=e,ve=t},we=e=>{Ce(ue,e)},ke=e=>{Ce(ue,e)},Se=e=>{const{uri:t,option:s,onFailed:o,onCatch:n}=e,i=Date.now();if(!(i-ve<300))if(t)if(t===ye)n({error:xe,option:s,onFailed:o});else if(i-be<pe)n({error:ge,option:s,onFailed:o});else{const o=Object.assign({},e,{_crErr:fe,_crErrResp:je,_nowTime:i,_doneOk:we,_doneFailure:ke});((e,t)=>{Ce(e,t)})(t,i);const{fetchType:n}=s;"csv-stream"===n?de(o):le(o)}else n({error:me,option:s,onFailed:o})},Te=(e,t)=>{const{caption:s,descr:o}=t;e.alertCaption=s,e.alertDescr=o},Ie=(e,t)=>"The "+e+" witn name "+t+" not found.",Oe=e=>"Group with name "+e+" is already existed.",Ne=(e,t)=>"List with name "+e+"\n      In Group "+t+" is already existed.",Le=(e,t)=>"Item with name "+e+"\n      In List "+t+" is already existed.",De=e=>e+" name can not be empty.",Re=e=>e+" is not selected.",Ee=(e,t)=>({caption:e,descr:t}),_e=(Ee("Loading In Progress","Loading the chart for this item-code in progress.\nIt seems several clicks on button Load repeatedly happend."),Ee("Drag Drop Item","Item in List already has been existed.")),We=Ee("Drag Drop List","List in Group already has been existed."),Me=Ee("Load from JSON File","Can not Load Watch Items from JSON File"),Ae=Ee("Runtime Error"),Pe=Ee("Network Error","Network error is encountered. Failed to fetch. May be you are offline, a DNS lookup failure or a resource unreachable."),Be=Ee("Service Unavailable 503","Back-end server is at capacity. HTTP Code 503"),Fe=(e,t)=>-1!==(e||"").indexOf(t),Ve=e=>{let{error:t,option:s,onFailed:o}=e;const{errCaption:n,message:i}=t||{};t instanceof TypeError?Fe(i,"code 503")?Te(s,Be):Fe(i,"fetch")?Te(s,Pe):(s.alertCaption=n||Ae.caption,s.alertDescr=i):(s.alertCaption=n||Ae.caption,s.alertDescr=i),o(s)},He=()=>!0,Ge=function(e,t){return void 0===t&&(t=He),(0,l.memo)(e,t)},Ue=e=>t=>(0,l.memo)(t,e),ze=Ue(((e,t)=>e.isShow===t.isShow)),qe=Ue(((e,t)=>e.items===t.items)),Ke=e=>qe((t=>_(t.items,((s,o)=>e(s,o,t))))),Ye=document&&"ontouchstart"in document.documentElement,Je=!Ye,Xe=()=>!window.innerWidth||window.innerWidth>700,Qe=(e,t)=>{const[s,o]=(0,l.useState)((()=>g(e)?e():!!e)),n=(0,l.useCallback)((e=>{t&&e&&e.stopPropagation(),o((e=>!e))}),[]);return[s,n,o]},$e=function(e,t,s){return void 0===s&&(s=!1),t?{name:e,onClick:t,isInitial:s,isClose:!0}:null},Ze=(e,t)=>P((()=>({pageWidth:175,maxPages:1,p0:[$e("Input Labels",e,Xe()),$e("Input Dates",t)].filter(Boolean)})))[0],et=e=>{const[t,s]=Qe(Xe);return[Ze(s,e),t]},tt=()=>{},st=function(e){void 0===e&&(e=tt);const[t,s]=(0,l.useState)([]),o=(0,l.useCallback)((()=>{e(),s((e=>e.length>0?[]:e))}),[]);return[t,s,o]},ot=Array.isArray,nt=e=>ot(e)?e[0]?e[1]:"":e||"",it=(e,t)=>{const s=nt(e),o=nt(t);return s?o?s+" "+o:s:o||void 0},rt=e=>({display:e}),lt=rt("block"),at=rt("inline-block"),ct=rt("none"),dt=(e,t)=>t?Object.assign({},e,t):e,pt="show-popup",ut="not-selected",ht=e=>e?e+" "+ut:ut,mt=ht("bt-item"),gt="popup-menu charts__menu-more",xt=ht("row-item"),ft=ht("item-title"),jt="source-link",yt="library",bt=yt+"__title",vt=yt+"__value",Ct=vt+"-title",wt=e=>e?void 0:{visibility:"hidden"},kt=!Ye,St="keydown";let Tt=Object.create(null);const It=(e,t)=>{(0,l.useEffect)((()=>kt&&e?(((e,t)=>{Tt&&(Tt[e]=t)})(e,t),()=>(e=>Tt&&(Tt[e]=void 0))(e)):void 0),[])},Ot={textDecoration:"underline"},Nt=(e,t)=>{if(Ye||!e)return t;const s=((e,t)=>e?t.toUpperCase().indexOf(e):-1)(e,t);if(-1===s)return t;const o=t.substring(0,s),n=t.substring(s,s+1),i=t.substring(s+1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{children:o}),(0,f.jsx)("span",{style:Ot,children:n}),(0,f.jsx)("span",{children:i})]})},Lt=e=>{let{className:t,caption:s,hotKey:o,children:n}=e;return s?(0,f.jsxs)("span",{className:t,children:[Nt(o,s),n]}):null},Dt={color:"#607d8b"},Rt=e=>{let{refBt:t,isArrow:s,timeout:o=3e3,className:n,style:i,isPrimary:r,title:a="",caption:c,hotKey:d,children:p,onClick:u}=e;const h=(0,l.useRef)(null),m=(0,l.useCallback)((e=>{if(0===o)return void u(e);const t=y(h),{timeStamp:s}=e;(null==t||s-t>o)&&(u(e),b(h,s))}),[o,u]),g=it("bt-flat",n),x=r?Object.assign({},i,Dt):i,j=d?a+" ["+d.toLowerCase()+"]":a;return It(d,u),(0,f.jsxs)("button",{ref:t,type:"button",className:g,style:x,title:j,onClick:m,children:[(0,f.jsx)(Lt,{className:"bt-flat__caption",caption:c,hotKey:d,children:s&&(0,f.jsx)("span",{className:"arrow-down"})}),p]})},Et=e=>P((()=>[(0,f.jsx)(Rt,{isPrimary:!0,caption:"Load",onClick:e},"load")]))[0],_t=(e,t)=>{const[s,o,n]=st(),i=(0,l.useCallback)((()=>{e(o,n)}),[]);return[s,Et(i),(0,l.useCallback)((()=>{n(),t()}),[]),i]},Wt=e=>function(t,s){let{deps:o,isPropagation:n}=void 0===s?{}:s;return(0,l.useCallback)((s=>{e(s)&&(s.preventDefault(),n||s.stopPropagation(),t(event))}),o||[])},Mt=Wt((e=>13===e.keyCode||"Enter"===e.key)),At=Je?Wt((e=>27===e.keyCode||"Escape"===e.key)):void 0,Pt=Wt((e=>46===e.keyCode||"Delete"===e.key)),Bt=Object.assign,[Ft,Vt,Ht,Gt]=Ye?["touchstart","touchmove","touchcancel","touchend"]:["mousedown","mousemove","mouseleave","mouseup"],Ut={passive:!0},zt={passive:!1},qt=e=>t=>parseInt(t[e],10),Kt=qt("top"),Yt=qt("left"),Jt=(e,t)=>e>0?e>t?t-16:e:8,Xt=(e,t,s)=>s-e>22&&t-s>22,Qt=e=>"BUTTON"===e.tagName||(e.dataset||{}).scrollable,$t=(e,t,s,o)=>{const n=(e=>g(e.composedPath)?e.composedPath():void 0)(e);if(c(n))for(let e=0;e<n.length;e++){const t=n[e];if(Qt(t))return!1;if(t===o)break}if(!Ye)return!0;const{left:i,top:r,right:l,bottom:a}=o.getClientRects()[0];return Xt(i,l,t)&&Xt(r,a,s)},Zt=e=>{(0,l.useEffect)((()=>{let t,s,o=y(e),n=o.style,i=0,r=0;function l(e){e.cancelable&&(e.stopPropagation(),e.preventDefault()),0===i&&0===r&&(n.cursor="move"),i=R(e)-t,r=E(e)-s;const o="translate("+i+"px,"+r+"px)";Bt(n,{webkitTransform:o,transform:o})}function a(){c(),function(){const e=Kt(n),t=Yt(n),s=Jt(t+i,window.innerWidth-o.clientWidth),l=Jt(e+r,window.innerHeight-o.clientHeight);Bt(n,{top:l+"px",left:s+"px",webkitTransform:"",transform:""}),i=0,r=0}()}function c(){n.cursor="",o.removeEventListener(Vt,l,zt),o.removeEventListener(Ht,a,Ut),o.removeEventListener(Gt,a,Ut)}return o.addEventListener(Ft,(e=>{t=R(e),s=E(e),o&&$t(e,t,s,o)&&(o.addEventListener(Vt,l,zt),o.addEventListener(Ht,a,Ut),o.addEventListener(Gt,a,Ut))}),Ut),()=>{c(),n=null,o=null}}),[])},es=(e,t)=>{const s=(0,l.useRef)(),o=(0,l.useRef)(),n=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useCallback)((()=>{n.current=document.activeElement,I(y(o)||y(s))}),[]),a=(0,l.useCallback)((()=>{I(y(n)),n.current=null}),[]);return(0,l.useEffect)((()=>{const e=y(i);t&&!e?r():!t&&e&&a(),i.current=t}),[t]),(0,l.useImperativeHandle)(e,(()=>({focus:r,focusPrev:a})),[]),[s,o]},ts=(e,t)=>{const s=()=>Object.assign({},e(t),{_props:t}),[o,n]=(0,l.useState)(s);return t!==o._props&&n(s()),[o,n]},ss=Date.now||(()=>new Date.getTime),os=function(e,t){void 0===t&&(t=800);let s=0;return function(){const o=ss();if(o-s>t)return s=o,e(...arguments)}},ns=(e,t,s)=>(0,l.useCallback)(os(e,s),t||[]);function is(e,t){if(null==e)return{};var s={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;s[o]=e[o]}return s}const rs=(e,t)=>{y(t)&&(document.removeEventListener("click",e,!0),t.current=null)},ls=(e,t)=>{const s=(0,l.useRef)(null),o=(0,l.useRef)(null),n=(0,l.useCallback)((e=>{const o=y(s);o&&o.contains&&!o.contains(e.target)&&(e.stopPropagation(),t(e))}),[]);return(0,l.useEffect)((()=>{e&&!y(o)?(document.addEventListener("click",n,!0),o.current=!0):e||rs(n,o)})),(0,l.useEffect)((()=>()=>rs(n,o)),[]),s},as=(e,t,s)=>{const o=(0,l.useRef)();(0,l.useEffect)((()=>(e&&g(t)&&s>=0&&b(o,setTimeout(t,s)),()=>clearTimeout(y(o)))),[e])},cs=function(e,t,s){void 0===s&&(s=!0);const o=(0,l.useRef)(),n=(0,l.useRef)();return function(e,t,s){void 0===s&&(s=350),as(Je&&e,(()=>O(t)),s)}(t,o),[o,n,t=>s&&0===t?o:t===e.length-1?n:void 0]},ds=["isShow","className","style","onClose","children"],ps={backgroundColor:"#4d4d4d"},us=()=>{},hs=e=>{let{isShow:t,className:s,style:o,onClose:n=us,children:i}=e,r=is(e,ds);const a=ls(t,n),c=At(n);return(e=>{const t=(0,l.useRef)();(0,l.useEffect)((()=>{let s;return e?b(t,document.activeElement):s=setTimeout((()=>O(t)),100),()=>clearTimeout(s)}),[e])})(t),(0,f.jsx)("div",Object.assign({},r,{ref:a,className:s,style:Object.assign({},ps,o),hidden:!t,onKeyDown:t?c:void 0,children:i}))},ms=e=>{let{refEl:t,isShow:s,style:o,className:n,onKeyDown:i,children:r}=e;const l=it(n,[s,pt]),a=s?lt:ct;return(0,f.jsx)("div",{ref:t,role:"presentation","aria-hidden":s,className:l,style:Object.assign({},o,a),onKeyDown:i,children:r})},gs=e=>{const[t,s]=(0,l.useState)(!1);return as(e,(()=>s(!0)),500),(0,l.useEffect)((()=>{e||s(!1)}),[e]),t?ct:lt},xs=e=>{let{style:t,onFocus:s}=e;return(0,f.jsx)("div",{style:t,tabIndex:"0","aria-hidden":"true",onFocus:s})},fs=e=>{let{refEl:t,refFirst:s,refLast:o,style:n,children:i}=e;return Je?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(xs,{style:n,onFocus:()=>{O(o)}}),i,(0,f.jsx)(xs,{style:n,onFocus:()=>{O(s)}})]}):i},js=e=>({"aria-labelledby":e}),ys=e=>Object.assign({role:"combobox","aria-autocomplete":"list"},js(e)),bs=function(e){return void 0===e&&(e="0"),{role:"menuitem",className:"menu-item "+ut,tabIndex:e}},vs=["refEl","onClick","onReg","children"],Cs=()=>{},ws=e=>{let{refEl:t,onClick:s,onReg:o=Cs,children:n}=e,i=is(e,vs);return(0,f.jsx)("div",Object.assign({},i,bs(),{ref:t,onClick:s,onKeyDown:e=>{32===e.keyCode&&e.preventDefault()},onKeyUp:e=>{13!==e.keyCode&&32!==e.keyCode||s()},children:n}))},ks={position:"relative"},Ss={position:"absolute",top:0,left:16},Ts={paddingLeft:16},Is=e=>{let{refEl:t,titleCl:s,title:o,pageNumber:n,onClick:i}=e;return o?(0,f.jsxs)(ws,{refEl:t,className:s,style:ks,onClick:i,children:[(0,f.jsx)("span",{style:Ss,children:"<"}),(0,f.jsx)("span",{style:Ts,children:o})]}):null},Os="switch",Ns="label-"+Os,Ls=Os+"-track",Ds=Os+"-thumb",Rs=Os+"-label",Es=()=>{},_s=e=>{let{refEl:t,initialValue:s,className:o,style:n,caption:i,onToggle:r,onCheck:a=Es,onUnCheck:c=Es}=e;const d=(0,l.useId)(),[p,u]=(0,l.useState)((()=>!!s)),[h,m,g]=(e=>{const[t,s,o,n]=e?["#2f7ed8","var(--c-bg, #4d4d4d)","16px","var(--c-bl, black)"]:["#9e9e9e","#d3d3d3","4px","#9e9e9e"];return[{backgroundColor:t},{backgroundColor:s,transform:"translate("+o+", 3px)"},{color:n}]})(p);return(0,f.jsxs)("label",{className:it(Ns,o),style:n,htmlFor:d,children:[(0,f.jsx)("input",{ref:t,id:d,type:"checkbox",role:"switch",className:Os,"aria-checked":p,checked:p,onChange:e=>{const t=!p;(r||(t?a:c))(t),u(t)}}),(0,f.jsx)("span",{"aria-hidden":"true",className:Ls,style:h,children:(0,f.jsx)("span",{className:Ds,style:m})}),(0,f.jsx)("span",{className:Rs,style:g,children:i})]})},Ws={height:38,padding:"9px 12px 0 0",alignItems:"baseline",fontSize:"16px"},Ms={position:"relative"},As={position:"absolute",display:"inline-block",top:0,right:4,color:"inherit",padding:"1px 16px 1px 0px",fontWeight:"bold"},Ps=e=>{let{type:t}=e;return"sub"===t?(0,f.jsx)("span",{style:As,children:">"}):null},Bs=e=>{let{getRefItem:t,items:s,itemCl:o,pageNumber:n,onNextPage:i,onClose:l}=e;return(0,f.jsx)(f.Fragment,{children:s.map(((e,s)=>{const{name:o,type:a,id:c,isInitial:d,isClose:p,onClick:u}=e,h="sub"===a?r(i,c,o,n):(e=>{let{isClose:t,onClick:s,onClose:o}=e;return g(s)?t?()=>{s(),o()}:s:void 0})({isClose:p,onClick:u,onClose:l});return m(d)?(0,f.jsx)("div",Object.assign({},bs("-1"),{children:(0,f.jsx)(_s,{refEl:t(s),style:Ws,initialValue:d,caption:o,onToggle:h})}),o):(0,f.jsxs)(ws,{refEl:t(s),style:Ms,onClick:h,children:[(0,f.jsx)("span",{children:o}),(0,f.jsx)(Ps,{type:a})]},o)}))})},Fs=e=>{let{isShow:t,items:s=[],style:o,isVisible:n,canBeHidden:i,title:r,titleCl:a,itemCl:c,pageCurrent:d,pageNumber:p,onClose:u,children:h,onNextPage:m,onPrevPage:g}=e;const x=(0,l.useCallback)((()=>{g(p)}),[g,p]),[j,y,b]=cs(s,n,!r),v=gs(i);return(0,f.jsx)("div",{style:Object.assign({},o,wt(n),v),children:(0,f.jsxs)(fs,{refFirst:j,refLast:y,children:[(0,f.jsx)(Is,{refEl:j,titleCl:a,title:r,onClick:x}),(0,f.jsx)(Bs,{getRefItem:b,items:s,itemCl:c||a,pageNumber:p,onNextPage:m,onClose:u}),h]})})},Vs=e=>{let{isShow:t,style:s,pages:o,pageCurrent:n,onNextPage:i,onPrevPage:r,onClose:l}=e;return o.map(((e,o)=>{const a=o+1;return j(e,{isShow:t,pageCurrent:n,style:s,isVisible:t&&a===n,canBeHidden:a>n,pageNumber:a,onNextPage:0===o?i:void 0,onPrevPage:0!==o?r:void 0,onClose:l})}))},Hs={position:"absolute",overflow:"hidden"},Gs={display:"flex",flexFlow:"row nowrap",alignItems:"flex-start",overflowX:"hidden",transition:"all .3s ease-out"},Us={pageWidth:100,maxPages:2,initId:"p0",p0:[]},zs=e=>({width:e}),qs=(e,t,s,o)=>{t.push((0,f.jsx)(Fs,{title:o,items:e[s],titleCl:e.titleCl,itemCl:e.itemCl},s))},Ks=e=>{const t=e.pageWidth,s=e.maxPages,o=e.initId||"p0";return{addPage:r(qs,e),pageWidth:t,pagesStyle:zs(s*t),pageStyle:zs(t),pageCurrent:1,pages:[(0,f.jsx)(Fs,{items:e[o],titleCl:e.titleCl,itemCl:e.itemCl},o)]}},Ys=e=>{let{model:t=Us,isShow:s,className:o,onClose:n}=e;const[i,r]=ts(Ks,t),{pageWidth:l,pagesStyle:a,pageStyle:c,pageCurrent:d,pages:p}=i,u=ns((e=>{r((t=>(t.pageCurrent=e-1,Object.assign({},t))))})),h=ns(((e,t,s)=>{r((o=>{const{addPage:n,pages:i}=o;return i.length-1+1>s?i[s]&&i[s].key!==e&&(s>0?o.pages.splice(s):o.pages=[],n(o.pages,e,t)):n(i,e,t),o.pageCurrent=s+1,Object.assign({},o)}))})),m=Object.assign({},Hs,c),g=Object.assign({},Gs,a,((e,t)=>({transform:"translateX("+(-1*e*(t-1)+0)+"px)"}))(l,d));return(0,f.jsx)(hs,{isShow:s,onClose:n,children:(0,f.jsx)(ms,{className:o,style:m,isShow:s,children:(0,f.jsx)("div",{style:g,children:(0,f.jsx)(Vs,{isShow:s,style:c,pages:p,pageCurrent:d,onNextPage:h,onPrevPage:u,onClose:n})})})})},Js=e=>{let{style:t,svgStyle:s,btRef:o,onClick:n}=e;return(0,f.jsx)("button",{type:"button",ref:o,className:"bt-more",style:t,onClick:n,children:(0,f.jsxs)("svg",{style:s,width:"6px",height:"22px",viewBox:"0 0 6 22",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("circle",{cx:"3",cy:"4",r:"2"}),(0,f.jsx)("circle",{cx:"3",cy:"11",r:"2"}),(0,f.jsx)("circle",{cx:"3",cy:"18",r:"2"})]})})},Xs=["w","h","children"],Qs=e=>{let{w:t=12,h:s=t,children:o}=e,n=is(e,Xs);return(0,f.jsx)("svg",Object.assign({viewBox:"0 0 "+t+" "+s,"aria-hidden":"true",width:"100%",height:"100%"},n,{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:o}))},$s={padding:3,stroke:"inherit"},Zs=e=>{let{className:t,style:s,onClose:o}=e;return(0,f.jsx)("button",{type:"button",tabIndex:"-1",className:it("svg-close",t),style:s,onClick:o,children:(0,f.jsxs)(Qs,{style:$s,strokeWidth:"2",strokeLinecap:"round",children:[(0,f.jsx)("path",{d:"M 0,0 L 12,12"}),(0,f.jsx)("path",{d:"M 12,0 L 0,12"})]})})},eo="show-popup",to={display:"block"},so={display:"none"},oo={backgroundColor:"#4d4d4d",border:"solid 2px #1b2836",borderRadius:"5px",boxShadow:"rgba(0, 0, 0, 0.2) 0px 0px 0px 6px"},no={position:"absolute",top:4,right:0,marginRight:6},io={textAlign:"right",margin:"8px 4px 10px 0"},ro={color:"#1b2836"},lo=ht(),ao=Object.assign({},oo,{position:"absolute",top:30,left:50,zIndex:10}),co=Object.assign({},{position:"relative",padding:"5px 35px 5px 16px",color:"#c0c0c0",stroke:"#c0c0c0",backgroundColor:"#1b2836",textAlign:"center",fontSize:"18px",fontWeight:500},{cursor:"move"}),po={position:"absolute",top:2,left:0},uo={stroke:"inherit",fill:"inherit"},ho=()=>{},mo=e=>{let{refEl:t,menuModel:s,isShow:o,caption:n,children:i,commandButtons:r,onShowChart:l,onClose:a=ho}=e;const[c,d]=es(t,o),[p,u]=Qe(),h=At(a),m=it("draggable-dialog",[o,eo]),x=o?to:so;return Zt(c),(0,f.jsxs)("div",{ref:c,role:"dialog",tabIndex:"-1","aria-label":n,"aria-hidden":!o,className:m,style:Object.assign({},ao,x),onKeyDown:h,children:[(0,f.jsxs)("div",{style:co,children:[s&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Ys,{isShow:p,className:"popup-menu dialog__menu-more",model:s,onClose:u}),(0,f.jsx)(Js,{btRef:d,style:po,svgStyle:uo,onClick:u})]}),(0,f.jsx)("span",{className:lo,children:n}),(0,f.jsx)(Zs,{style:no,onClose:a})]}),(0,f.jsx)("div",{children:i}),(0,f.jsxs)("div",{style:io,children:[r,g(l)&&(0,f.jsx)(Rt,{timeout:0,rootStyle:ro,caption:"Show",title:"Show Pane Container",onClick:l},"show"),(0,f.jsx)(Rt,{timeout:0,rootStyle:ro,caption:"Close",title:"Close Draggable Dialog",onClick:a},"close")]})]})},go={display:"flex",alignItems:"center",margin:5},xo=e=>{let{style:t,children:s}=e;return(0,f.jsx)("div",{style:Object.assign({},go,t),children:s})},fo=e=>{let{isWithoutDefault:t,className:s,style:o,caption:n="",title:i,onClick:r}=e;const l=it([!t,"zhn-bt-circle"],s);return(0,f.jsx)("button",{type:"button",className:l,style:o,title:i,onClick:r,children:(0,f.jsx)("div",{children:n})})},jo={padding:"4px 0 8px 0"},yo={marginLeft:20},bo=(0,l.memo)((e=>{let{buttons:t}=e;return(0,f.jsx)(xo,{style:jo,children:_(t,((e,t)=>{let{caption:s,title:o,onClick:n}=e;return(0,f.jsx)(fo,{style:yo,caption:s,title:o,onClick:n},s+t)}))})})),vo=bo,Co=e=>{let{isShow:t,buttons:s}=e;return(0,f.jsx)(ms,{isShow:t,children:(0,f.jsx)(vo,{buttons:s})})},wo=Array.isArray,ko={color:"#f44336",padding:"5px 0 0 10px"},So={display:"inline-block",width:22,height:22,marginRight:5,border:"solid 2px #f44336",borderRadius:"50%",textAlign:"center"},To={whiteSpace:"pre",fontWeight:"bold"},Io=e=>{let{index:t,msg:s}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:So,children:t}),(0,f.jsx)("span",{style:To,children:s})]})},Oo=e=>{let{validationMessages:t}=e;return wo(t)?(0,f.jsx)("div",{style:ko,children:t.map(((e,t)=>(0,f.jsx)(Io,{msg:e,index:t+1},t)))}):null},No=e=>{let{isShow:t,isToolbar:s,caption:o,menuModel:n,commandButtons:i,toolbarButtons:r,validationMessages:l,children:a,onShow:c,onClose:d}=e;return(0,f.jsxs)(mo,{isShow:t,caption:o,menuModel:n,commandButtons:i,onShowChart:c,onClose:d,children:[(0,f.jsx)(Co,{isShow:s,buttons:r}),a,(0,f.jsx)(Oo,{validationMessages:l})]})},Lo="m-field",Do=Lo+"__input",Ro=Lo+"__bt-clear",Eo=e=>{let{isValue:t,onClick:s}=e;return(0,f.jsx)("button",{type:"button",className:Ro,tabIndex:"-1",onClick:s,children:t?"x":""})},_o=()=>{},Wo=e=>{let{refEl:t,style:s,initValue:o,placeholder:n,maxLength:i=50,labelId:r,onEnter:a=_o}=e;const c=(0,l.useRef)(),[d,p]=(0,l.useState)((()=>o||"")),u=(0,l.useCallback)((e=>{p(e.target.value)}),[]),h=(0,l.useCallback)((e=>{(e=>{let{keyCode:t}=e;return 27===t||46===t})(e)?p(""):(e=>{let{keyCode:t}=e;return 13===t})(e)&&a(e.target.value)}),[a]),m=(0,l.useCallback)((()=>{p(""),O(c)}),[]);return(0,l.useImperativeHandle)(t,(()=>({getValue:()=>{const e=y(c);return e?e.value.trim():void 0},setValue:e=>p(e),focus:()=>{O(c)}})),[]),(0,f.jsxs)("div",{className:Lo,children:[(0,f.jsx)("input",Object.assign({},js(r),{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1},{ref:c,className:Do,style:s,value:d,placeholder:n,maxLength:i,onChange:u,onKeyDown:h})),Ye&&(0,f.jsx)(Eo,{isValue:Boolean(d),onClick:m})]})},Mo={color:"#1b75bb",display:"inline-block",width:120,paddingRight:8,textAlign:"right",fontSize:"16px",fontWeight:"bold"},Ao=e=>{let{is:t=!0,caption:s,labelId:o}=e;return t?(0,f.jsx)("span",{style:Mo,id:o,children:s}):null},Po={width:240,height:38,paddingLeft:5},Bo=e=>{let{refEl:t,isShowLabel:s,caption:o,placeholder:n,onEnter:i}=e;const r=(0,l.useId)(),a=s?n:n||o;return(0,f.jsxs)(xo,{children:[(0,f.jsx)(Ao,{is:s,caption:o,labelId:r}),(0,f.jsx)(Wo,{refEl:t,style:Po,placeholder:a,labelId:r,onEnter:i})]})},Fo=ze((e=>{let{isShow:t,caption:s,oneTitle:o,onePlaceholder:n,requestType:i,onShow:r,onLoad:a,onClose:c}=e;const[d,p]=et(),u=(0,l.useRef)(),[h,m,g,x]=_t(((e,t)=>{const s=y(u).getValue(),n=((e,t)=>{const s=[];return e||s.push(t+" is required"),s.isValid=0===s.length,s})(s,o);n.isValid?(a({repo:s,requestType:i}),t()):e(n)}),c);return(0,f.jsx)(No,{isShow:t,caption:s,menuModel:d,commandButtons:m,validationMessages:h,onShow:r,onClose:g,children:(0,f.jsx)(Bo,{refEl:u,isShowLabel:p,caption:o,placeholder:n,onEnter:x})})})),Vo=e=>{const t=(0,l.useRef)(e||{}),s=(0,l.useCallback)((e=>{b(t,e)}),[]);return[t,s]},Ho=e=>{let{item:t,propCaption:s}=e;return(0,f.jsx)("span",{children:t[s]})},Go="zhn-select",Uo=Go+"__input",zo=Go+"__spinner",qo=zo+"--failed",Ko=Go+"__bt-arrow",Yo=Go+"__options",Jo=Yo+"__div",Xo=Go+"__row",Qo=Xo+"--active",$o=Go+"__footer",Zo=$o+"__index",en=$o+"__bts",tn=ht(),sn=(e,t)=>e?-1!==(""+e).indexOf("%")?Object.assign({},t,{width:e}):Object.assign({},t,{width:e+"px"}):null,on=["className","style","caption","onClick"],nn=e=>{let{className:t,style:s,caption:o="",onClick:n}=e,i=is(e,on);return(0,f.jsx)("button",Object.assign({type:"button",className:it("zhn-bt-circle2",t),style:s,onClick:n},i,{children:(0,f.jsx)("div",{children:o})}))},rn={backgroundColor:"#949ab4"},ln=e=>{let{refIndexElement:t,indexActiveOption:s,nFiltered:o,nAll:n,onClear:i}=e;return(0,f.jsxs)("div",{className:$o+" "+tn,children:[(0,f.jsxs)("span",{className:Zo,children:[(0,f.jsx)("span",{ref:t,children:s}),(0,f.jsxs)("span",{children:[": ",o,": ",n]})]}),(0,f.jsx)("span",{className:en,children:(0,f.jsx)(nn,{style:rn,caption:"CL",onClick:i})})]})},an={display:"block"},cn={display:"none"},dn=e=>{let{id:t,refOptionsElement:s,refIndexElement:o,optionsStyle:n,width:i,isShowOption:r,indexActiveOption:l,nFiltered:a,nAll:c,onClear:d,children:p}=e;const u=sn(i,r?an:cn);return(0,f.jsxs)("div",{id:t,className:Yo,style:u,"data-scrollable":!0,children:[(0,f.jsx)("div",{ref:s,className:Jo,style:Object.assign({},n,u),children:p}),(0,f.jsx)(ln,{refIndexElement:o,indexActiveOption:l,nAll:c,nFiltered:a,onClear:d})]})},pn=e=>{let{options:t,indexActiveOption:s,propCaption:o,ItemOptionComp:n,onClick:i}=e;return t.map(((e,t)=>(0,f.jsx)("div",{role:"option","aria-selected":s===t,tabIndex:"-1",className:Xo,"data-index":t,onClick:t=>i(e,t),children:(0,f.jsx)(n,{item:e,propCaption:o})},t)))},un={color:"#1b75bb"},hn={color:"#858585"},mn=e=>{let{isShowOption:t,onClick:s}=e;return(0,f.jsx)("button",{className:Ko,type:"button",tabIndex:"-1","aria-label":"Toggle suggestions",onClick:s,children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",style:t?un:hn,children:(0,f.jsx)("path",{d:"M 3,6 L 10,12.5 M 10,12.5 L 17,6"})})})},gn=(e,t,s,o)=>{const{isLoading:n,isLoadingFailed:i,placeholder:r,optionName:l="",onLoadOption:a}=e,{optionNames:c}=t;return n||i?n?["Loading "+c+"...",(0,f.jsx)("span",{className:zo,"data-loader":"circle"})]:i?["Loading "+c+" Failed",(0,f.jsx)(nn,{className:qo,"data-loader":"circle-failed",onClick:a})]:[]:[r||"Select "+l+"...",(0,f.jsx)(mn,{isShowOption:s,onClick:o})]},xn="From input:",fn=(e,t,s,o)=>{const n=((e,t,s)=>{const o=t.toLowerCase();return(e||[]).filter((e=>-1!==e[s].toLowerCase().indexOf(o)))})(t,e,s);return 0===n.length&&n.push(((e,t,s)=>{const o=String(e).replace(xn,"").trim(),n=s?xn+" "+o:"No results found";return{[t]:n,value:"noresult",inputValue:o}})(e,s,o)),n},jn=e=>{const t=(0,l.useRef)(e);return(0,l.useMemo)((()=>[e=>{t.current=e},()=>t.current]),[])},yn=e=>{const{dataset:t}=e,{index:s}=t||{};return Number(s)},bn=(e,t)=>(0,l.useMemo)((()=>[t=>{if(t){t.classList.add(Qo);const s=yn(t),o=y(e);o&&u(s)&&(o.textContent=s+1)}},e=>{const s=e||t();s&&s.classList.remove(Qo)}]),[]),vn=e=>(e.children||{}).length,Cn=()=>{const e=(0,l.useRef)(),t=(0,l.useRef)(),[s,o]=jn(0),n=(0,l.useMemo)((()=>()=>((y(e)||{}).childNodes||[])[o()]),[]),[i,r]=bn(t,n);return[e,t,s,o,n,i,r,...(0,l.useMemo)((()=>[()=>{const t=n();if(t){r(t);const l=y(e);s(o()+1),o()>=vn(l)&&(s(0),l.scrollTop=0);const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d>70&&(l.scrollTop+=c-d-70)}},()=>{const t=n();if(t){r(t);const o=y(e);s(0),o.scrollTop=0;const l=n();i(l)}},()=>{const t=n();if(t){r(t);const l=y(e);if(s(o()-1),o()<0){s(vn(l)-1);const e=n();l.scrollTop=e.offsetTop}const a=n();i(a);const c=a.offsetTop,d=l.scrollTop;c-d<70&&(l.scrollTop-=70-(c-d))}},()=>{const t=n();if(t){r(t);const o=y(e);s(vn(o)-1);const l=n();o.scrollTop=l.offsetTop;const a=n();i(a)}}]),[])]},wn=[],kn=e=>{let{optionName:t,optionNames:s,options:o=wn}=e;return{value:"",initialOptions:o,options:o,optionNames:s||t||""}},Sn=()=>{},Tn=e=>{const{style:t,width:s,optionsStyle:o,labelId:n,propCaption:i="caption",ItemOptionComp:r=Ho,isWithInput:a=!1,onSelect:c=Sn}=e,d=(0,l.useId)(),p=(0,l.useRef)(),[h,m]=(0,l.useState)((()=>kn(e))),{value:g,options:x,initialOptions:j}=h,[y,b,v]=Qe(!1),[C,w,k,S,T,I,O,N,L,D,R]=Cn(),E=(0,l.useCallback)((()=>{O(),m((()=>kn(e))),v(!1),k(0),c()}),[e.options,c]),_=(0,l.useCallback)(((e,t)=>{O(),k(yn(t.currentTarget)),v(!1),m((t=>Object.assign({},t,{value:e[i]}))),c(e)}),[]),W=(0,l.useMemo)((()=>(0,f.jsx)(pn,{options:x,indexActiveOption:S(),propCaption:i,ItemOptionComp:r,onClick:_})),[x]);(0,l.useEffect)((()=>{if(y){const e=T();I(e),(e=>{if(e){const{offsetTop:t}=e,s=e.parentElement,{scrollTop:o}=s;t-o>70&&(s.scrollTop+=t-o-70),t-o<0&&(s.scrollTop=0)}})(e)}}),[y]),e.options!==j&&E();const M=S(),A=sn(s,t),[P,B]=gn(e,h,y,b),[F,V]=((e,t)=>[e[0]&&"noresult"!==e[0].value?e.length:0,t?t.length:0])(x,j);return(0,f.jsxs)("div",{className:Go,style:A,children:[(0,f.jsx)("input",Object.assign({},(H=y,G=d,{"aria-expanded":H,"aria-controls":H?G:void 0}),ys(n),{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1},{ref:p,className:Uo,value:g,placeholder:P,onChange:e=>{const t=e.target.value,s=t.length,o=g.length;s!==o&&(0!==S()&&(O(),k(0)),m((e=>Object.assign({},e,{value:t,options:fn(t,s>o?x:j,i,a)}))),v(!0))},onKeyDown:e=>{let t;switch(e.keyCode){case 13:{const e=S();if(u(e)){const t=x[e];t&&t[i]&&(c(((e,t,s)=>"noresult"!==e.value?e:s?{[t]:"From Input",value:e.inputValue}:void 0)(t,i,a)),v(!1),m((e=>Object.assign({},e,{value:t[i]}))))}else c();break}case 27:case 46:e.preventDefault(),y?v(!1):E();break;case 40:y?t=N:v(!0);break;case 38:t=D;break;case 36:t=L;break;case 35:t=R;break;default:return}y&&t&&(e.preventDefault(),t())}})),B,(0,f.jsx)(dn,{id:d,refOptionsElement:C,refIndexElement:w,optionsStyle:o,width:s,isShowOption:y,indexActiveOption:M,nFiltered:F,nAll:V,onClear:E,children:W})]});var H,G},In=e=>{let{isShowLabel:t,caption:s,placeholder:o,options:n,onSelect:i}=e;const r=(0,l.useId)();return(0,f.jsxs)(xo,{children:[(0,f.jsx)(Ao,{is:t,caption:s,labelId:r}),(0,f.jsx)(Tn,{width:"250",placeholder:o,options:n,labelId:r,onSelect:i})]})},On=[{caption:"OS: Desktop, Mobile, Tablet, Console",value:"os"},{caption:"OS: Desktop",value:"os-desktop"},{caption:"Windows: Desktop",value:"win-desktop"},{caption:"macOS: Desktop",value:"mac-desktop"},{caption:"Android: Mobile, Tablet",value:"android-mobile"},{caption:"IOS: Mobile, Tablet",value:"ios-mobile"},{caption:"Browser: All Platforms",value:"browser"},{caption:"Social Media Stats",value:"social-media"}],Nn=[{caption:"Worldwide",value:"worlwide",v2:"ww"},{caption:"Africa",value:"africa",v2:"af"},{caption:"Asia",value:"asia",v2:"as"},{caption:"Antarctica",value:"antarctica",v2:"an"},{caption:"Australia",value:"australia",v2:"au"},{caption:"Europe",value:"europe",v2:"eu"},{caption:"North America",value:"north-america",v2:"na"},{caption:"South America",value:"south-america",v2:"sa"},{caption:"Oceania",value:"oceania",v2:"oc"}],Ln=e=>e.caption,Dn=On[0],Rn=Ln(Dn),En=Nn[0],_n=Ln(En),Wn=ze((e=>{let{isShow:t,caption:s,requestType:o,onShow:n,onLoad:i,onClose:r}=e;const[l,a]=et(),[c,d]=Vo(Dn),[p,u]=Vo(En),[h,m,g]=_t(((e,t)=>{const{value:s,caption:n}=y(c)||Dn;i({requestType:o,value:s,caption:n,region:y(p)||En})}),r);return(0,f.jsxs)(No,{isShow:t,caption:s,menuModel:l,commandButtons:m,validationMessages:h,onShow:n,onClose:g,children:[(0,f.jsx)(In,{isShowLabel:a,caption:"Item",placeholder:Rn,options:On,onSelect:d}),(0,f.jsx)(In,{isShowLabel:a,caption:"Region",placeholder:_n,options:Nn,onSelect:u})]})})),Mn=e=>(y(e)||{}).value,An=[["just now",999],["sec",1e3],["min",6e4],["hour",36e5],["day",864e5],["week",6048e5],["month",2592e6],["year",31536e6]],Pn=An.length,Bn=Pn-1,Fn=(e,t)=>{const[s,o]=An[t],n=Math.round(e/o);return n+" "+s+(1===n?"":"s")+" ago"},Vn=(e,t)=>{const s=t||Date.now(),o=Math.abs(e-s);for(let e=0;e<Pn;e++)if(o<An[e][1])return 0===e?An[0][0]:Fn(o,e-1);return Fn(o,Bn)},Hn=Math.floor,Gn=Math.min,Un=e=>parseInt(e,10),zn=e=>Un(e)-1,qn=(e,t,s,o)=>h(e)&&e.length!==t||((e,t,s)=>a(e)||e<t||e>s)(parseInt(e,10),s,o),Kn=(e,t,s)=>{if(!h(e))return!1;const o=e.trim();return 10===o.length&&function(e,t,s){void 0===t&&(t=0),void 0===s&&(s=1999);const[o,n,i]=e.split("-"),r=(new Date).getFullYear();return!(qn(o,4,s,r+t)||qn(n,2,1,12)||qn(i,2,1,31))}(o,t,s)},Yn=e=>("0"+e).slice(-2),Jn=(e,t)=>new Date(e,t,0).getDate(),Xn=function(e){void 0===e&&(e=2);return((e,t)=>e.getUTCFullYear()-t+"-"+Yn(e.getUTCMonth()+1)+"-"+Yn(e.getUTCDate()))(new Date,e)},Qn=()=>Xn(0),$n=e=>{const t=(e=>{if(!u(e)||!isFinite(e))return"";const t=new Date(e);return"Invalid Date"===t.toString()?"":Yn(t.getUTCDate())+"-"+Yn(t.getUTCMonth()+1)+"-"+t.getUTCFullYear()})(e);if(""===t)return"";const[s,o,n]=t.split("-");return n+"-"+o+"-"+s},Zn=e=>(e=>{if(!h(e))return NaN;const t=e.split("-");return Date.UTC(t[0],zn(t[1]),t[2])})(e)/1e3,ei=(e,t)=>((e,t)=>u(e)?Vn(e,t):"")(20===(e||"").trim().length?Date.UTC(e.slice(0,4),zn(e.slice(5,7)),Un(e.slice(8,10)),Un(e.slice(11,13)),Un(e.slice(14,16))):void 0,t),ti={position:"relative",display:"inline-block",width:250,backgroundColor:"#e1e1cb"},si={color:"green",width:"100%",height:30,paddingLeft:10,fontSize:"16px",fontWeight:"bold",background:"transparent none repeat scroll 0 0",border:"medium none",outline:"medium none"},oi={width:230,margin:"0 0 5px 10px",borderWidth:"medium medium 1px",borderStyle:"none none solid",borderColor:"red",borderImage:"none"},ni="#f44336",ii={borderColor:"#1b75bb"},ri={borderColor:ni},li={color:ni,padding:"0 0 5px 10px",fontSize:"12px",fontWeight:"bold"},ai=()=>{},ci=e=>{let{labelId:t,refEl:s,initialValue:o,errorMsg:n,onTest:i=ai}=e;const r=(0,l.useRef)(),[a,c]=(0,l.useState)({value:o||"",isValid:!0,errMsg:null}),{value:d,isValid:p,errMsg:u}=a,h=p?ii:ri;return(0,l.useImperativeHandle)(s,(()=>({getValue:()=>d,isValid:()=>p,focus:()=>T(r)})),[p,d]),(0,f.jsxs)("div",{style:ti,children:[(0,f.jsx)("input",Object.assign({},js(t),{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1},{ref:r,style:si,placeholder:"YYYY-MM-DD",value:d,onChange:e=>{const{value:t}=e.target;c((e=>{const[s,o]=i(t)?[!0,null]:[!1,e.errMsg];return{value:t,isValid:s,errMsg:o}}))},onBlur:()=>{const[e,t]=i(d)?[!0,null]:[!1,n];c({value:d,isValid:e,errMsg:t})}})),(0,f.jsx)("hr",{style:Object.assign({},oi,h)}),(0,f.jsx)("div",{style:li,children:u})]})},di=Xn(1),pi=Qn(),ui="YYYY-MM-DD format must be",hi=e=>e+" is not in valid format",mi=e=>(w(e)||"").trim(),gi=e=>{let{refEl:t,isShow:s,isShowLabels:o=!0,msgOnNotValidFormat:n=hi,initialFromDate:i=di,initialToDate:r=pi,onTestDate:a=Kn}=e;const c=(0,l.useId)(),d=(0,l.useId)(),p=(0,l.useRef)(),u=(0,l.useRef)();return(0,l.useImperativeHandle)(t,(()=>({getValues:()=>({fromDate:w(p),toDate:w(u)}),setValues:(e,t)=>{S(p,e),S(u,t)},getValidation:()=>{const e=[];return C(p)||e.push(n("From Date")),C(u)||e.push(n("To Date")),mi(p)>mi(u)&&e.push("From Date is near that To Date"),e.length>0?{isValid:!1,datesMsg:e}:{isValid:!0}},focusInput:()=>{T(p)},focusNotValidInput:()=>C(p)?!C(u)&&(T(u),!0):(T(p),!0)})),[n]),(0,f.jsxs)(ms,{isShow:s,children:[(0,f.jsxs)(xo,{children:[(0,f.jsx)(Ao,{is:o,caption:"From Date",labelId:c}),(0,f.jsx)(ci,{labelId:c,refEl:p,initialValue:i,errorMsg:ui,onTest:a})]}),(0,f.jsxs)(xo,{children:[(0,f.jsx)(Ao,{is:o,caption:"To Date",labelId:d}),(0,f.jsx)(ci,{labelId:d,refEl:u,initialValue:r,errorMsg:ui,onTest:a})]})]})},xi=(e,t,s)=>({caption:e,placeholder:t,options:s}),fi=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Hot Tab",value:"hot"},{caption:"Hot Week Tab",value:"week"},{caption:"Hot Month Tab",value:"month"}],ji=[{caption:"Only releases",value:"R"},{caption:"All versions",value:"A"}],yi=e=>e?Zn(e):void 0,bi=ze((e=>{let{isShow:t,caption:s,requestType:o,oneTitle:n,onePlaceholder:i,isPeriod:r,onShow:a,onLoad:c,onClose:d}=e;const p=(0,l.useMemo)((()=>(e=>"SE_QUESTIONS"===e?xi("Sort By","Default: Hot Week Tab",fi):"NPM_TOP_VERSIONS"===e?xi("Versions","Default: Only releases",ji):{})(o)),[o]),[u,h]=Qe(),[m,g]=et(r?h:void 0),x=(0,l.useRef)(),j=(0,l.useRef)(),[b,v]=Vo(),[C,w,k,S]=_t(((e,t)=>{const s=y(x).getValue(),[n,i,r,l]=(e=>{if(e){const{isValid:t,datesMsg:s}=e.getValidation(),{fromDate:o,toDate:n}=e.getValues();return[t,s,o,n]}return[!0,""]})(y(j)),a=((e,t)=>{const s=[];return e||s.push(t),s.isValid=0===s.length,s})(n,i);a.isValid?(c({repo:s,requestType:o,sort:Mn(b),fromdate:yi(r),todate:yi(l)}),t()):e(a)}),d);return(0,f.jsxs)(No,{isShow:t,caption:s,menuModel:m,commandButtons:w,validationMessages:C,onShow:a,onClose:k,children:[(0,f.jsx)(Bo,{refEl:x,isShowLabel:g,caption:n,placeholder:i,onEnter:S}),(0,f.jsx)(In,Object.assign({},p,{isShowLabel:g,onSelect:v})),r&&(0,f.jsx)(gi,{refEl:j,isShow:u,isShowLabels:g})]})})),vi=[{caption:"Activity, Recent Day",value:"activity"},{caption:"Creation Date",value:"creation"},{caption:"Score",value:"votes"},{caption:"Relevance",value:"relevance"}],Ci=ze((e=>{let{isShow:t,caption:s,oneTitle:o,onePlaceholder:n,twoTitle:i,twoPlaceholder:r,requestType:a,onShow:c,onLoad:d,onClose:p}=e;const[u,h]=Qe(),[m,g]=et(h),x=(0,l.useRef)(),j=(0,l.useRef)(),b=(0,l.useRef)(),[v,C]=Vo(),[w,k,S,T]=_t(((e,t)=>{const s=y(x).getValue(),o=y(j).getValue(),n=y(b),{isValid:i,datesMsg:r}=n.getValidation(),{fromDate:l,toDate:c}=n.getValues(),p=((e,t)=>{const s=[];return e||s.push(t),s.isValid=0===s.length,s})(i,r);p.isValid?d({repo:s,requestType:a,intitle:o,sort:Mn(v),fromdate:Zn(l),todate:Zn(c)}):e(p)}),p);return(0,f.jsxs)(No,{isShow:t,caption:s,menuModel:m,commandButtons:k,validationMessages:w,onShow:c,onClose:S,children:[(0,f.jsx)(Bo,{refEl:x,isShowLabel:g,caption:o,placeholder:n,onEnter:T}),(0,f.jsx)(Bo,{refEl:j,isShowLabel:g,caption:i,placeholder:r}),(0,f.jsx)(In,{isShowLabel:g,caption:"Sort By",placeholder:"Default: Activity",options:vi,onSelect:C}),(0,f.jsx)(gi,{refEl:b,isShow:u,isShowLabels:g})]})})),wi=Qn(),ki={DEFAULT:Fo,DialogType1:Fo,DialogType1A:Wn,DialogType2:bi,DialogType3:Ci,DialogType3A:ze((e=>{let{isShow:t,caption:s,requestType:o,oneTitle:n,fromDate:i,onePlaceholder:r,onLoad:a,onShow:c,onClose:d}=e;const[p]=P((()=>u(i)&&i<36?((e,t)=>{const[s,o,n]=e.split("-"),i=t%12,r=parseInt(o);let l,a=parseInt(s)-Hn(t/12);r>i?l=r-i:(a-=1,l=r===i?12:l=r-i+12);const c=Jn(a,l),d=Yn(Jn(s,o))===n?c:Gn(parseInt(n),c);return a+"-"+Yn(l)+"-"+Yn(d)})(wi,i):void 0)),[h,m]=Qe(),[g,x]=et(m),j=(0,l.useRef)(),b=(0,l.useRef)(),[v,C,w,k]=_t(((e,t)=>{const s=y(j).getValue(),i=y(b),{isValid:r,datesMsg:l}=i.getValidation(),{fromDate:c,toDate:d}=i.getValues(),p=((e,t,s,o)=>{const n=[];return e||n.push(o+" is required"),t||n.push(s),n.isValid=0===n.length,n})(s,r,l,n);p.isValid?(a({repo:s,requestType:o,fromDate:c,toDate:d}),t()):e(p)}),d);return(0,f.jsxs)(No,{isShow:t,caption:s,menuModel:g,commandButtons:C,validationMessages:v,onShow:c,onClose:w,children:[(0,f.jsx)(Bo,{refEl:j,isShowLabel:x,caption:n,placeholder:r,onEnter:k}),(0,f.jsx)(gi,{refEl:b,isShow:h,isShowLabels:x,initialFromDate:p,initialToDate:wi})]})}))},Si=(e,t)=>s=>{const{requestType:o=t}=s,n=o&&e[o];return g(n)?n(s):void 0},Ti=(e,t)=>({errCaption:e,message:t}),Ii="https://crates.io",Oi=Ii+"/api/v1/crates",Ni=Array.isArray,Li={getRequestUrl(e){const{repo:t}=e;return e.sourceLink=Ii+"/crates/"+t,[Oi+"/"+t,Oi+"/"+t+"/downloads"]},crKey(e){let{repo:t,requestType:s}=e;return t+"_"+s},checkResponse(e,t){if(t.json1){const{meta:t}=e||{},{extra_downloads:s}=t||{};if(!Ni(s))throw Ti("Request Crate","Incorrect response");return!0}return!0}},Di="https://api.github.com",Ri=Di+"/repos",Ei=e=>t=>{let{repo:s}=t;return Ri+"/"+s+"/"+e},_i={getRequestUrl:Si({GH_RELEASE_RECENT:Ei("releases/latest"),GH_TAGS:Ei("tags"),GH_SEARCH_INFO:e=>{let{repo:t}=e;return Di+"/search/repositories?q=repo:"+t},GH_COMMITS:Ei("commits"),GH_ISSUES:Ei("issues"),GH_PULL_REQUESTS:Ei("pulls")}),crKey(e){let{repo:t,requestType:s}=e;return t+"_"+s},checkResponse:()=>!0},Wi=e=>x(e)?e[0].toUpperCase()+e.substring(1):e,Mi="https://api.npmjs.org",Ai="https://www.npmjs.com",Pi=Ai+"/package/",Bi=e=>{const{repo:t}=e;var s;e.packageLink=(s=t)?""+Pi+s:Ai},Fi={getRequestUrl:Si({NPM_RECENT_VERSION:e=>"https://registry.npmjs.org/-/package/"+e.repo+"/dist-tags",NPM_DOWNLOADS_RECENT_MONTH:e=>(Bi(e),Mi+"/downloads/range/last-month/"+e.repo),NPM_DOWNLOADS:e=>{const{fromDate:t,toDate:s,repo:o}=e;return Bi(e),Mi+"/downloads/range/"+t+":"+s+"/"+o},NPM_TOP_VERSIONS:e=>(Bi(e),Mi+"/versions/"+(e.repo.replace("/","%2F")+"/last-week"))}),crKey(e){let{repo:t,requestType:s,fromDate:o=""}=e;return t+"_"+s+"_"+o},checkResponse(e,t){const{error:s}=e||{};if(s)throw Ti("Request Package",Wi(s));return!0}},Vi="https://api.stackexchange.com/2.2",Hi="SE_QUESTIONS",Gi={getRequestUrl:Si({[Hi]:e=>{let{repo:t,sort:s="week",fromdate:o,todate:n}=e;return Vi+"/questions?page=1&pagesize=50&order=desc&fromdate="+o+"&todate="+n+"&sort="+s+"&tagged="+(t||"css")+"&site=stackoverflow"},SE_SEARCH_QUESTIONS:e=>{let{repo:t="css",intitle:s="",sort:o="activity",fromdate:n,todate:i}=e;return t||s||(t="css"),Vi+"/search?page=1&pagesize=50&order=desc&fromdate="+n+"&todate="+i+"&sort="+o+"&tagged="+t+"&intitle="+s+"&site=stackoverflow"}},Hi),crKey(e){let{repo:t,requestType:s}=e;return t+"_"+s},checkResponse(e,t){const{error_message:s,error_name:o=""}=e||{};if(s)throw Ti(Wi(o.replace("_"," ")),Wi(s));return!0}},Ui="os-version-market-share",zi="desktop",qi="mobile-tablet",Ki="https://gs.statcounter.com",Yi="os-market-share/"+zi,Ji=Ui+"/windows/"+zi,Xi=Ui+"/macos/"+zi,Qi=Ui+"/android/"+qi,$i=Ui+"/ios/"+qi,Zi="device=Desktop&device_hidden=desktop",er="granularity=monthly",tr="csv=1",sr="device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true",or="device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true",nr={os:{csv:Ki+"/chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&granularity=monthly&statType=Operating%20System&"+tr,link:Ki+"/os-market-share/"},"os-desktop":{csv:Ki+"/"+Yi+"/chart.php?"+Zi+"&statType_hidden=os_combined&"+er+"&statType=Operating%20System&"+tr,link:Ki+"/"+Yi+"/"},"win-desktop":{csv:Ki+"/"+Ji+"/chart.php?"+Zi+"&statType_hidden=windows_version&"+er+"&statType=Windows%10Version&"+tr,link:Ki+"/"+Ji+"/"},"mac-desktop":{csv:Ki+"/"+Xi+"/chart.php?"+Zi+"&statType_hidden=macos_version&"+er+"&statType=macOS%20Version&"+tr,link:Ki+"/"+Xi+"/"},"android-mobile":{csv:Ki+"/"+Qi+"/chart.php?"+sr+"&statType_hidden=android_version&"+er+"&statType=Android%20Version&"+tr,link:Ki+"/"+Qi+"/"},"ios-mobile":{csv:Ki+"/"+$i+"/chart.php?"+sr+"&statType_hidden=ios_version&"+er+"&statType=iOS%20Version&"+tr,link:Ki+"/"+$i+"/"},browser:{csv:Ki+"/chart.php?"+or+"&statType_hidden=browser&"+er+"&statType=Browser&"+tr,link:Ki+"/browser-market-share/all/"},"social-media":{csv:Ki+"/chart.php?"+or+"&statType_hidden=social_media&region_hidden=ww&"+er+"&statType=Social%20Media&"+tr,link:Ki+"social-media-stats/"}},ir=Array.isArray;let rr=null;const lr=()=>{const e=new Date,t=e.getUTCMonth(),s=t<10?"0"+t:""+t,o=e.getUTCFullYear(),n=o-2;return rr||(rr="fromInt="+n+s+"&toInt="+o+s+"&fromMonthYear="+n+"-"+s+"&toMonthYear="+o+"-"+s)},ar={getRequestUrl:e=>{const{csv:t,link:s}=(e=>{const{value:t,region:s={}}=e,o=nr[t],n=lr();return{csv:o.csv+"&region="+s.caption+"&region_hidden="+s.v2+"&"+n,link:""+o.link+s.value}})(e);return e.fetchType="csv-stream",e.sourceLink=s,t},crKey:e=>{const{value:t,region:s}=e,{value:o=""}=s||{};return o+"-"+t},checkResponse:(e,t)=>e&&ir(e.data)},cr={CR:Li,GH:_i,NPM:Fi,SE:Gi,ST:ar},dr={getApi:e=>cr[e.requestType.split("_")[0]],crKey:e=>dr.getApi(e).crKey(e)},pr=dr,ur=e=>{let{json:t,option:s,onCompleted:o}=e;o(s,t)},hr=(e,t,s,o)=>n=>{let{json:i,option:r,onCompleted:l}=n;var a,c;r.json1=i,a=e,c=()=>Se({uri:t,option:r,onCheckResponse:s,onFetch:ur,onCompleted:l,onCatch:Ve,onFailed:o}),new Promise((e=>{setTimeout(e,a)})).then(c)},mr={LW:{loadItem:(e,t,s)=>{const o=pr.getApi(e),n=o.getRequestUrl(e),i=o.checkResponse,[r,l]=h(n)?[n,ur]:c(n)?[n[0],hr(3200,n[1],i,s)]:[];Se({uri:r,onFetch:l,onCheckResponse:i,option:e,onCompleted:t,onCatch:Ve,onFailed:s})},crKey:pr.crKey}},gr=()=>(0,f.jsx)("span",{children:"TestItem"}),xr=e=>{let{option:t,parentProps:s}=e;return(0,f.jsx)(gr,Object.assign({},s),t.repo+"_"+t.requestType)},fr=(e,t)=>{const[s,o,n]=Qe(),i=(0,l.useCallback)((()=>{n(!0)}),[]);return[P((()=>e(t)))[0],s,o,i]},jr=function(e,t,s){return void 0===s&&(s=!0),{name:e,onClick:t,isClose:s}},yr=e=>{let{onMoveToTop:t,onToggleButtons:s}=e;return{pageWidth:195,maxPages:1,p0:[jr("Move to Top",t),g(s)?Object.assign({},jr("Buttom Buttons",s),{isInitial:!0}):void 0].filter(Boolean)}},br={color:"grey"},vr={position:"relative",lineHeight:1.5,marginBottom:10},Cr={position:"relative",top:3,marginRight:4},wr={display:"inline-block",color:"#a487d4",paddingLeft:8,maxWidth:500,textAlign:"left",fontWeight:"bold",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"pointer"},kr={color:"#80c040",paddingLeft:10,paddingRight:10},Sr={marginTop:-8,marginLeft:10},Tr={paddingTop:8},Ir={paddingBottom:8},Or={paddingRight:8},Nr={marginLeft:8},Lr={legend:{position:"top"}},Dr={margin:"4px 0 0 16px"},Rr=(e,t)=>{const[s,o,n,i]=fr(yr,{onMoveToTop:e,onToggleButtons:t});return[(0,f.jsx)(Ys,{isShow:o,className:gt,model:s,onClose:n}),(0,f.jsx)(Js,{style:Cr,onClick:i})]},Er=1e3,_r=1e6,Wr=e=>(e||{}).value,Mr=e=>{const t=(e=>t=>{const s=t%e;return 0===s||10*s%e==0})(e);return(s,o)=>{const n=Wr(s),i=Wr(o);return 2*n>=e&&t(n)&&t(i)}},Ar=Mr(_r),Pr=Mr(Er),Br=(e,t)=>s=>s?(s/e).toFixed(1).replace(".0","")+t:"0",Fr=Br(Er,"K"),Vr=Br(_r,"M"),Hr=(e,t,s)=>{const o=s[1],n=s[s.length-1];return Ar(o,n)?Vr(e):Pr(o,n)?Fr(e):""+e},Gr=["128,192,64","36,156,216","237,86,91","241,174,44","144,89,152"],Ur={fill:!1,lineTension:.1,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:8,pointHoverBorderColor:"rgba(164, 135, 212, 1)",pointHoverBorderWidth:4,pointRadius:5,pointHitRadius:10},zr=e=>"rgba("+e+", 0.4)",qr=function(e){let{label:t,data:s,strColor:o,hidden:n}=void 0===e?{}:e;const i=o||Gr[0],r="rgba("+i+", 1)";return Object.assign({},Ur,{label:t||s.seriaName||"Downloads",backgroundColor:zr(i),borderColor:r,pointBorderColor:r,pointBackgroundColor:r,pointHoverBackgroundColor:r,hidden:!!n,data:s})},Kr=e=>{let{labels:t=["1","2"],data:s=[[0,0]],numVisible:o=5}=e;const n=Gr.length;return{labels:t,datasets:s.map(((e,t)=>qr({data:e,strColor:e.color||Gr[t%n],hidden:t>=o})))}},Yr=(e,t,s,o,n)=>({labels:t,datasets:[Object.assign({},Ur,{label:e,data:s,backgroundColor:o,borderColor:n,borderRadius:2,minBarLength:10})]}),Jr=e=>({scales:{[e]:{type:"linear",ticks:{callback:Hr}}}});var Xr=s(118);const Qr=Object.assign,$r=e=>{const t=e.defaults;t.color="black",t.font.size=14,t.font.weight="bold",t.plugins.tooltip=Qr(t.plugins.tooltip||{},{titleColor:"#a487d4",titleFont:{size:16},bodyColor:"#80c040",bodyFont:{size:16}})};const Zr=s(692).a4,{hasOwnProperty:el}=Object.prototype,tl=(e,t)=>{if((s=e)===(o=t)?0!==s||1/s==1/o:s!=s&&o!=o)return!0;var s,o;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);for(let e=0;e<n.length;e++)if(!el.call(t,n[e]))return!1;for(let s in e){if(!el.call(t,s))return!1;if(!tl(e[s],t[s]))return!1}return!0},sl=tl,ol=Object.prototype.hasOwnProperty,nl=(e,t)=>{const s={};for(let o in e)t.indexOf(o)>=0||!ol.call(e,o)||(s[o]=e[o]);return s},il=["id","width","height","onElementsClick"];Xr.t1.register(Xr.No,Xr.ZT,Xr.E8,Xr.A6,Xr.PP,Xr.kc,Xr.FN,Xr.s$,Xr.m_),$r(Xr.t1);const rl={tooltips:{callbacks:{labelTextColor:function(e,t){return t.data.datasets[e.datasetIndex].borderColor}}}},ll=(e,t,s,o,n)=>{b(e,new Xr.t1(y(t),{type:s,data:o,options:Zr(Object.assign({},rl),n)}))},al=(0,l.memo)((e=>{let{type:t="line",height:s=150,width:o=300,redraw:n=!1,data:i,options:r,onElementsClick:a}=e;const c=(0,l.useRef)(),d=(0,l.useRef)(),p=(0,l.useMemo)((()=>g(a)?e=>{const t=y(d).getElementsAtEvent(e);t.length&&a(t)}:null),[a]);return(0,l.useLayoutEffect)((()=>{const e=y(d);e&&(n?(e.destroy(),ll(d,c,t,i,r)):((e,t,s)=>{s&&(e.options=Zr(e.options,s)),e.config.data=Object.assign({},e.config.data,t),e.update()})(e,i,r))})),(0,l.useLayoutEffect)((()=>(ll(d,c,t,i,r),()=>{y(d).destroy(),b(d,null)})),[]),(0,f.jsx)("canvas",{ref:c,height:s,width:o,onClick:p})}),((e,t)=>sl(nl(e,il),nl(t,il),{strict:!0}))),cl="item-caption",dl=cl+"__bt-close",pl=e=>{let{style:t,children:s,onClose:o}=e;return(0,f.jsxs)("div",{className:cl,style:t,children:[s,(0,f.jsx)(Zs,{className:dl,onClose:o})]})},ul=/(.)(?=(\d{3})+$)/g,hl=e=>e>=1e3?(""+e).replace(ul,"$1,"):e,ml=e=>{let{style:t,value:s=0}=e;return(0,f.jsx)("span",{style:t,children:hl(s)})},gl=Object.assign({},wr,{position:"relative",top:-3}),xl={color:"#80c040",padding:"0 10px"},fl={paddingRight:10},jl=e=>{let{style:t,caption:s,packageName:o,sumDownloads:n,fromDate:i,toDate:r,onClick:l}=e;return(0,f.jsxs)("button",{className:mt,style:Object.assign({},gl,t),title:s,onClick:l,children:[(0,f.jsx)("span",{children:o}),(0,f.jsx)(ml,{style:xl,value:n}),(0,f.jsx)("span",{style:fl,children:i}),(0,f.jsx)("span",{children:r})]})},yl=e=>"https"===(e||"").split("://")[0]?e:void 0,bl=e=>{let{className:t,style:s,href:o,title:n,children:i}=e;return yl(o)?(0,f.jsx)("a",{target:"_blank",className:t,style:s,href:o,title:n,children:i}):null},vl={paddingLeft:4},Cl={paddingTop:4},wl=e=>{let{type:t,options:s,caption:o,packageName:n,sumDownloads:i,fromDate:r,toDate:l,labels:a,data:c,sourceLink:d,onMoveToTop:p,onCloseItem:u}=e;const[h,m]=Qe(!0),[g,x]=Rr(p),j=Kr({labels:a,data:c});return(0,f.jsxs)("div",{style:vr,children:[g,(0,f.jsxs)(pl,{style:vl,onClose:u,children:[x,(0,f.jsx)(jl,{caption:o,packageName:n,sumDownloads:i,fromDate:r,toDate:l,onClick:m})]}),(0,f.jsxs)(ms,{isShow:h,style:Cl,children:[(0,f.jsx)(al,{type:t,data:j,options:s||Lr}),(0,f.jsx)(bl,{className:jt,style:Dr,href:d,children:"Crates.io "+n})]})]})},kl=Object.keys,Sl=e=>e.length,Tl=["112,15,44","181,34,52","215,103,85","244,165,130","146,197,222","82,156,199"],Il=e=>(e||{}).date,Ol=e=>(e||{}).downloads,Nl=e=>(e||{}).version,Ll=e=>[Il(e),Ol(e),Nl(e)],Dl=e=>{const t=e.split("-");return 3===Sl(t)?t[1]+"-"+t[2]:e},Rl=(e,t,s)=>(e.seriaName=t,e.color=s,e),El=e=>{const{option:t,json:s,onMoveToTop:o,onCloseItem:n}=e,{repo:i,key:r}=t,{version_downloads:l,meta:a}=s,c=a.extra_downloads,d=Sl(c),[p,m]=(e=>{const t={},s=[];for(const o of e){const[e,n]=Ll(o);u(n)&&h(e)&&(t[e]=n,s.push([e,n]))}return s.sort(((e,t)=>e>t?1:e<t?-1:0)),[t,s.map((e=>e[1]))]})(c),g=((e,t)=>{const s={};for(const o of t){const[t,n,i]=Ll(o);if(u(n)&&h(t))if(u(e[t])?e[t]+=n:e[t]=n,s[i])s[i].push(n);else{const e=[n];e.seriaName=i,s[i]=e}}return kl(s).map((e=>s[e])).sort(((e,t)=>t.seriaName-e.seriaName))})(p,l),x=(v=p,Object.keys(v).map((e=>[e,v[e]])).sort(((e,t)=>e>t?1:-1))),[j,y,b]=(e=>{const t=[],s=[];let o=0;for(const n of e)t.push(Dl(n[0])),s.push(n[1]),o+=n[1];return[t,s,o]})(x);var v;return((e,t,s,o)=>{const n=Sl(e);for(let e=0;e<Sl(s);e++){const t=s[e],i=n-Sl(t);Rl(t,o[t.seriaName],Tl[e]);for(let e=0;e<i;e++)t.unshift(NaN)}s.push(Rl(t,"Other",Tl[5]),Rl(e,"Total","128,192,64"))})(y,m,g,(e=>{const t={},s=e.versions||[];for(let e of s)t[e.id]=e.num;return t})(t.json1)),(0,f.jsx)(wl,{caption:i,packageName:i,fromDate:0!==d?Il(c[0]):"",toDate:d>0?Il(c[d-1]):"",sumDownloads:b,labels:j,data:g,sourceLink:t.sourceLink,onMoveToTop:o,onCloseItem:n},r)},_l=e=>e.repo,Wl=function(e,t,s){void 0===s&&(s=_l);const{repo:o,requestType:n,version:i=""}=e,r=_l(e);return{caption:r,config:{descr:t,caption:r,version:i,repo:o,requestType:n}}},Ml=(e,t,s,o)=>(0,l.useCallback)((()=>{e(Wl(t,s,o))}),[]),Al=e=>{let{repo:t,version:s}=e;return t+" "+s},Pl=e=>{const{caption:t,repo:s,version:o,published_at:n,html_url:i,onCloseItem:r,onWatchItem:l}=e,[a,c]=Qe(!0),d=Ml(l,e,"GitHub Repository Recent Release",Al);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(pl,{style:Tr,onClose:r,children:[(0,f.jsxs)("button",{className:mt,title:t,style:wr,onClick:c,children:[(0,f.jsx)("span",{children:s}),(0,f.jsx)("span",{style:kr,children:o}),(0,f.jsx)("span",{children:n})]}),(0,f.jsx)(fo,{caption:"W",title:"Add to Watch",style:Sr,onClick:d})]}),(0,f.jsx)(ms,{isShow:a,style:Tr,children:(0,f.jsx)(bl,{className:jt,style:Nr,href:i,children:"Link to description of recent release tag"})})]})},Bl=(e,t)=>x(e)?e.replace("T"," ").replace("Z",""):t||"",Fl=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n,onWatchItem:i}=e;const r=s.tag_name||s.name||"empty",l=Bl(s.published_at,"empty");return(0,f.jsx)(Pl,Object.assign({repo:t.repo,requestType:t.requestType,html_url:s.html_url,caption:t.repo+" "+r+" "+l,version:r,published_at:l,onCloseItem:n,onWatchItem:i},o),t.key)},Vl=ht("zhn-oc"),Hl={backgroundColor:"#4d4d4d",lineHeight:2},Gl=Object.assign({},at,{width:16,height:16}),Ul={color:"#1b2836",paddingLeft:4,verticalAlign:"top",fontFamily:"Roboto, Arial Unicode MS, Arial, sans-serif",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},zl="yellow",ql="#4d4d4d",Kl=e=>{let{refItem:t,isClose:s=!0,style:o,styleNotSelected:n,styleCaptionRow:i,styleCaption:r,caption:l,fillOpen:a=zl,fillClose:c=ql,dndHandlers:d,children:p}=e;const[u,h]=Qe(!s),m=Mt(h),[g,x,j,y,b]=u?["M 2,14 L 14,14 14,2 2,14",a,lt,pt,null]:["M 2,2 L 14,8 2,14 2,2",c,ct,null,n];return(0,f.jsxs)("div",{style:Object.assign({},Hl,o),children:[(0,f.jsxs)("div",Object.assign({ref:t,tabIndex:"0",role:"menuitem",className:Vl,style:Object.assign({},i,b),onClick:h,onKeyDown:m},d,{children:[(0,f.jsx)("div",{style:Gl,children:(0,f.jsx)("svg",{viewBox:"0 0 16 16",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",style:at,children:(0,f.jsx)("path",{d:g,fill:x,strokeWidth:"1",stroke:a})})}),(0,f.jsx)("span",{style:Object.assign({},Ul,r),children:l})]})),(0,f.jsx)("div",{className:y,style:j,children:p})]})},Yl=Array.isArray,Jl=e=>{let{caption:t,value:s}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:Ct,children:t+":"}),(0,f.jsx)("span",{className:vt,children:s})]})},Xl=e=>(0,f.jsx)("div",{children:(0,f.jsx)(Jl,Object.assign({},e))}),Ql=e=>{let{caption:t,value:s,date:o}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)(Jl,{caption:t,value:s}),(0,f.jsx)(Jl,{caption:"Date",value:Bl(o)})]})},$l=e=>{let{files:t}=e;return _(t,((e,t)=>(0,f.jsx)("div",{className:"row__item",children:e?e.filename:null},t)))},Zl=e=>{let{json:t}=e;if(!t)return null;const{commit:s,files:o,stats:n,html_url:i}=t,{author:r,message:l,committer:a}=s||{},{date:c,name:d}=r||{},{date:p,name:u}=a||{},{total:h,additions:m,deletions:g}=n||{};return(0,f.jsxs)("div",{className:yt,children:[(0,f.jsx)(Xl,{caption:"Message",value:l}),(0,f.jsx)(Ql,{caption:"Author",value:d,date:c}),(0,f.jsx)(Ql,{caption:"Committer",value:u,date:p}),(0,f.jsxs)("div",{children:[(0,f.jsx)(Jl,{caption:"Total",value:h}),(0,f.jsx)(Jl,{caption:"Additions",value:m}),(0,f.jsx)(Jl,{caption:"Deletions",value:g})]}),(0,f.jsx)(Kl,{caption:"Files ("+(Yl(o)?o.length:"")+")",isClose:!0,children:(0,f.jsx)($l,{files:o})}),(0,f.jsx)(bl,{className:jt,href:i,children:"Link to description of commit"})]})},ea=e=>{let{repo:t,version:s,caption:o,requestType:n,onCloseItem:i,onClickDetail:r,onWatchItem:a}=e;const[c,d]=(0,l.useState)(),[p,u,h]=Qe(!0),m=(0,l.useCallback)((()=>{r().then((e=>{h(!0),d(e)})).catch((e=>console.log(e)))}),[r]),g=(0,l.useCallback)((()=>{const e=(e=>{const{commit:t}=e||{},{committer:s}=t||{},{date:o}=s||{};return Bl(o)})(c),o=t+" "+s;a({caption:o,config:{repo:t,requestType:n,version:s,caption:o,descr:"GitHub Likely Recent Version Tag",date:e}})}),[c]);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(pl,{style:Tr,onClose:i,children:[(0,f.jsxs)("button",{className:mt,title:o,style:wr,onClick:u,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:kr,children:s})]}),(0,f.jsx)(fo,{caption:"W",title:"Add to Watch",style:Sr,onClick:g}),(0,f.jsx)(fo,{caption:"D",title:"Load Tag Details",style:Sr,onClick:m})]}),(0,f.jsx)(ms,{isShow:p,children:(0,f.jsx)(Zl,{json:c})})]})},ta=e=>{let{uri:t,onCatch:s}=e;return Promise.resolve().then((()=>fetch(t))).then((e=>{const{status:t,statusText:s}=e;if(t>=200&&t<=400)return e.json();if(t>400&&t<500)throw{errCaption:"Request Error",message:t+" : "+s};if(t>=500&&t<600)throw{errCaption:"Response Error",message:t+" : "+s}})).then((e=>e)).catch((e=>{s({error:e})}))},sa=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n,onWatchItem:i}=e;const{repo:l,requestType:a,key:c}=t,d=s[0]||[{name:"empty"}],p=r(ta,{uri:"https://api.github.com/repos/"+l+"/commits/"+d.commit.sha,onCatch:Ve});return(0,f.jsx)(ea,Object.assign({repo:l,requestType:a,version:d.name,caption:l+" "+d.name,onClickDetail:p,onCloseItem:n,onWatchItem:i},o),c)},oa=e=>{let{library:t}=e;const{name:s,description:o,size:n,created_at:i,pushed_at:r,stargazers_count:l,open_issues:a,watchers_count:c,html_url:d}=t||{},p=Bl(i),u=Bl(r);return(0,f.jsxs)("div",{className:yt,children:[(0,f.jsx)("div",{children:(0,f.jsx)("span",{className:bt,children:s})}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:o})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:Ct,children:"Size:"}),(0,f.jsx)("span",{className:vt,children:n})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:Ct,children:"Created At:"}),(0,f.jsx)("span",{className:vt,children:p}),(0,f.jsx)("span",{className:Ct,children:"Pushed At:"}),(0,f.jsx)("span",{className:vt,children:u})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:Ct,children:"Stars:"}),(0,f.jsx)("span",{className:vt,children:l}),(0,f.jsx)("span",{className:Ct,children:"Issues:"}),(0,f.jsx)("span",{className:vt,children:a}),(0,f.jsx)("span",{className:Ct,children:"Watchers:"}),(0,f.jsx)("span",{className:vt,children:c})]}),(0,f.jsx)("div",{children:(0,f.jsx)(bl,{className:jt,href:d,children:"Link to GitHub Repository"})})]})},na=e=>{let{repo:t,stars_count:s,pushed_at:o,caption:n,library:i,onCloseItem:r}=e;const[l,a]=Qe(!0);return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsx)(pl,{style:Tr,onClose:r,children:(0,f.jsxs)("button",{className:mt,title:n,style:wr,onClick:a,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:kr,children:s}),(0,f.jsx)("span",{children:o})]})}),(0,f.jsx)(ms,{isShow:l,children:(0,f.jsx)(oa,{library:i})})]})},ia=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n}=e;const{items:i=[{}]}=s,r=i[0],{full_name:l="empty",stargazers_count:a="",pushed_at:c}=r,d=Bl(c);return(0,f.jsx)(na,Object.assign({library:r,repo:l,stars_count:a,pushed_at:d,caption:l+" "+a+" "+d,onCloseItem:n},o),t.key)},ra="Comment",la=e=>{let{n:t}=e;return u(t)&&t?(0,f.jsx)("div",{style:br,children:(1===t?ra:ra+"s")+" "+t}):null},aa=Ke(((e,t)=>{const{commit:s,html_url:o}=e,{message:n="",committer:i,comment_count:r}=s||{},{date:l,name:a=""}=i||{},c=Bl(l),d=ei(l);return(0,f.jsx)("div",{className:xt,children:(0,f.jsxs)(bl,{href:o,children:[(0,f.jsxs)("div",{style:Ir,children:[(0,f.jsx)("span",{style:Or,children:a}),(0,f.jsx)(bl,{dateAgo:d,date:c})]}),(0,f.jsx)("div",{children:n}),(0,f.jsx)(la,{n:r})]})},t)})),ca=e=>{const{caption:t,repo:s,commits:o,onCloseItem:n,onWatchItem:i}=e,[r,l]=Qe(!0),a=Ml(i,e,"GitHub Repository Commits");return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(pl,{style:Tr,onClose:n,children:[(0,f.jsx)("button",{className:mt,title:t,style:wr,onClick:l,children:(0,f.jsx)("span",{children:s})}),(0,f.jsx)(fo,{caption:"W",title:"Add to Watch",style:Sr,onClick:a})]}),(0,f.jsx)(ms,{isShow:r,children:(0,f.jsx)(aa,{items:o})})]})},da=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(ca,Object.assign({commits:s||[],caption:t.repo,repo:t.repo,requestType:t.requestType,onCloseItem:n,onWatchItem:i},o),t.key)},pa=Object.assign({},Or,{color:"#d7bb52"}),ua=Object.assign({},Or,{color:"#80c040"}),ha=Object.assign({},Or,br),ma={padding:8},ga=e=>{let{url:t,state:s,number:o,createdAt:n,updatedAt:i,title:r,comments:a,body:c}=e;const d=(0,l.useRef)(),[p,u]=Qe(!1),[h,m]=(0,l.useState)(!0),g=(0,l.useCallback)((()=>{m(!1),I(((y(d)||{}).nextElementSibling||{}).firstElementChild)}),[]),x=Pt(g),j=Mt(u,{isPropagation:!0});return(0,f.jsxs)(ms,{refEl:d,isShow:h,className:"item",onKeyDown:x,children:[(0,f.jsxs)("div",{role:"button",tabIndex:"0",className:ft,onClick:u,onKeyDown:j,children:[(0,f.jsxs)("div",{style:Ir,children:[(0,f.jsx)("span",{style:pa,children:s}),(0,f.jsx)("span",{style:ua,children:"(#"+o+")"}),(0,f.jsx)("span",{style:ha,children:n}),(0,f.jsx)("span",{style:ha,children:i})]}),(0,f.jsx)("div",{children:r})]}),(0,f.jsxs)(ms,{isShow:p,style:ma,children:[(0,f.jsx)(bl,{className:"link-wrapper",href:t,children:c}),(0,f.jsx)(la,{n:a})]})]})},xa=Ke(((e,t)=>{const{state:s,number:o,created_at:n,updated_at:i,title:r,body:l,comments:a,html_url:c}=e,d=ei(n),p=n===i?"":ei(i),u=d===p?"":p;return(0,f.jsx)(ga,{url:c,state:s,number:o,createdAt:d,updatedAt:u,title:r,comments:a,body:l},t)})),fa=e=>{const{caption:t,repo:s,issues:o,onCloseItem:n,onWatchItem:i}=e,[r,l]=Qe(!0),a=Ml(i,e,"GitHub Repository Issues"),c=o.length;return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsxs)(pl,{style:Tr,onClose:n,children:[(0,f.jsxs)("button",{className:mt,title:t,style:wr,onClick:l,children:[(0,f.jsx)("span",{style:Or,children:s}),(0,f.jsx)("span",{children:c})]}),(0,f.jsx)(fo,{caption:"W",title:"Add to Watch",style:Sr,onClick:a})]}),(0,f.jsx)(ms,{isShow:r,children:(0,f.jsx)(xa,{items:o})})]})},ja=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(fa,Object.assign({caption:t.repo,repo:t.repo,requestType:t.requestType,issues:s||[],onCloseItem:n,onWatchItem:i},o),t.key)},ya={position:"relative",top:-2,marginLeft:10},ba=e=>{let{onClick:t}=e;return(0,f.jsx)(fo,{style:ya,caption:"W",title:"Add to WatchList",onClick:t})},va=(e,t)=>{const[{json:s,isLoading:o,isShow:n},i]=(0,l.useState)({json:void 0,isLoading:!1,isShow:!1}),r=(0,l.useCallback)((()=>{i((s=>s.json?Object.assign({},s,{isShow:!s.isShow}):(t({packageName:e,onLoad:e=>{i({json:e,isShow:!0,isLoading:!1})}}),Object.assign({},s,{isLoading:!0}))))}),[]);return[s,o,n,r]},Ca=e=>{let{name:t,uri:s,onLoad:o}=e;return fetch(s).then((e=>{const{status:s}=e;if(s>199&&s<300)return e.json();throw new Error((e=>e+" response isn't OK")(t))})).then((e=>{if(!e||e.code)throw new Error(e.message||(e=>e+" response isn't valid")(t));o(e)})).catch((e=>{console.log(e),o({errMsg:e.message})}))},wa=e=>"https://api.npms.io/v2/package/"+e,ka=os((e=>{let{packageName:t,onLoad:s}=e;return Ca({name:"Npms.io",uri:wa(t),onLoad:s})}),3e3),Sa=e=>"https://bundlephobia.com/api/size?package="+e,Ta=os((e=>{let{packageName:t,onLoad:s}=e;return Ca({name:"Bundlephobia.com",uri:Sa(t),onLoad:s})}),3e3),Ia=(e,t)=>{console.log("Failed to load image with src: "+e)},Oa=e=>{let{alt:t,className:s,src:o}=e;const n=yl(o);return n?(0,f.jsx)("img",{alt:t,className:s,src:n,onError:r(Ia,n)}):null},Na=e=>{let{alt:t,href:s,imgClass:o,imgSrc:n}=e;return(0,f.jsx)(bl,{href:s,children:(0,f.jsx)(Oa,{alt:t,className:o,src:n})})},La={position:"absolute",display:"inline-block",width:20,height:20},Da=e=>{let{style:t}=e;return(0,f.jsx)("span",{style:Object.assign({},La,t),"data-loader":"circle"})},Ra={position:"relative",display:"inline-block",height:36,border:"1px solid",borderRadius:10},Ea={color:"#a487d4",borderColor:"#a487d4",borderWidth:2,fontWeight:"bold"},_a={color:"grey",borderColor:"grey",borderWidth:1,fontWeight:"normal"},Wa={display:"inline-block",padding:"0 8px 0 5px"},Ma={display:"inline-block",marginLeft:8,backgroundColor:"grey",width:12,height:12,border:"1px solid grey",borderRadius:"50%"},Aa={backgroundColor:"transparent",border:"none"},Pa={backgroundColor:"#a487d4",borderColor:"#a487d4"},Ba={backgroundColor:"grey",borderColor:"grey"},Fa={top:5,left:2},Va=(e,t)=>{let s=null;t&&(s=(0,f.jsx)(Da,{style:Fa}));const o=t?Aa:e?Pa:Ba;return(0,f.jsxs)(f.Fragment,{children:[s,(0,f.jsx)("span",{style:Object.assign({},Ma,o)})]})},Ha=e=>{let{style:t,isUp:s,isLoading:o,caption:n="",title:i="",onClick:r}=e;const l=s?Ea:_a;return(0,f.jsxs)("button",{type:"button",title:i,style:Object.assign({},Ra,t,l),onClick:r,children:[Va(s,o),(0,f.jsx)("span",{style:Wa,children:n})]})},Ga=e=>(e||"").replace("git+","").replace(".git","").replace("git://","https://"),Ua=e=>-1!==(e||"").indexOf("https://github.com")?"GitHub Repository":"Repository",za={color:"#f44336",fontWeight:"bold"},qa=e=>{let{errMsg:t}=e;return(0,f.jsx)("div",{style:za,children:t})},Ka=e=>{if("object"!=typeof(t=e)||null===t)return null;var t;const{errMsg:s}=e;return!s||(0,f.jsx)(qa,{errMsg:s})},Ya={display:"inline-block",marginLeft:8},Ja={fontWeight:600},Xa={textAlign:"center"},Qa=e=>{let{caption:t="",value:s="N/A"}=e;return(0,f.jsxs)("div",{style:Ya,children:[(0,f.jsx)("div",{style:Ja,children:t}),(0,f.jsx)("div",{style:Xa,children:s})]})},$a={padding:"4px 0 0 8px"},Za={marginRight:24},ec=e=>{let{repoHref:t,hpHref:s}=e;return t||s?(0,f.jsxs)("div",{style:$a,children:[(0,f.jsx)(bl,{className:jt,style:Za,href:t,children:Ua(t)}),(0,f.jsx)(bl,{className:jt,href:s,children:"Home Page"})]}):null},tc=e=>{let{json:t}=e;const s=Ka(t);if(!0!==s)return s;const{analyzedAt:o,collected:n,score:i}=t,{github:r,metadata:l}=n||{},{starsCount:a,issues:c,homepage:d}=r||{},{openCount:p}=c||{},{version:m,license:g,repository:x}=l||{},{final:j}=i||{},y=(e=>{let{type:t,url:s}=e;return"git"===t?Ga(s):void 0})(x||{});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(Qa,{caption:"stars",value:a}),(0,f.jsx)(Qa,{caption:"issues",value:p}),(0,f.jsx)(Qa,{caption:"version",value:m}),(0,f.jsx)(Qa,{caption:"score",value:(v=j,u(v)?(""+v).substring(0,5):"")}),(0,f.jsx)(Qa,{caption:"license",value:g}),(0,f.jsx)(Qa,{caption:"onDate",value:(b=o,h(b)?b.split("T")[0]:"")})]}),(0,f.jsx)(ec,{repoHref:y,hpHref:d})]});var b,v},sc={marginLeft:8},oc={marginRight:24},nc=e=>(e/1024).toFixed(1),ic=e=>{let{json:t}=e;const s=Ka(t);if(!0!==s)return s;const{name:o,version:n,gzip:i,size:r,dependencyCount:l,description:a,repository:c}=t,d=Ga(c),p=Ua(d),u=((e,t)=>"https://bundlephobia.com/result?p="+e+"@"+t)(o,n);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(Qa,{caption:"name",value:o}),(0,f.jsx)(Qa,{caption:"version",value:n}),(0,f.jsx)(Qa,{caption:"size kB",value:nc(r)}),(0,f.jsx)(Qa,{caption:"gzip kB",value:nc(i)}),(0,f.jsx)(Qa,{caption:"dependencyCount",value:l})]}),(0,f.jsx)("div",{style:sc,children:a}),(0,f.jsxs)("div",{style:sc,children:[(0,f.jsx)(bl,{href:d,className:jt,style:oc,children:p}),(0,f.jsx)(bl,{href:u,className:jt,children:"Bundelphobia Link"})]})]})},rc={marginLeft:8},lc={marginLeft:16},ac={marginBottom:8},cc={margin:"8px 0"},dc={height:32,marginLeft:16,marginTop:4,marginBottom:4,padding:"2px 0"},pc=e=>{let{isButtons:t,packageName:s,packageLink:o}=e;const[{isLoadNodeIco:n,isShowNodeIco:i},r]=(0,l.useState)({isLoadNodeIco:!1,isShowNodeIco:!1}),[a,c,d,p]=va(s,ka),[u,h,m,g]=va(s,Ta),x=(0,l.useCallback)((()=>{r((e=>({isLoadNodeIco:!0,isShowNodeIco:!e.isShowNodeIco})))}),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ms,{isShow:t,children:(0,f.jsxs)("div",{style:lc,children:[(0,f.jsx)(bl,{className:jt,href:o,children:"NPM Link"}),(0,f.jsx)(Ha,{style:dc,isUp:i,caption:"NodeICO",title:"Package badge from Nodei.co",onClick:x}),(0,f.jsx)(Ha,{style:dc,isUp:d,isLoading:c,caption:"NPMS.IO",title:"Click to load package info from npms.io",onClick:p}),(0,f.jsx)(Ha,{style:dc,isUp:m,isLoading:h,caption:"Bundlephobia.com",title:"Click to load package info from bundlephobia.com",onClick:g})]})}),(0,f.jsxs)("div",{style:rc,children:[(0,f.jsx)(ms,{isShow:i,style:cc,children:n&&(0,f.jsx)(Na,{href:o,imgClass:"node-ico",imgSrc:"https://nodei.co/npm/"+s+".png?downloads=true&downloadRank=true&stars=true"})}),(0,f.jsx)(ms,{isShow:d,style:ac,children:(0,f.jsx)(tc,{json:a})}),(0,f.jsx)(ms,{isShow:m,style:ac,children:(0,f.jsx)(ic,{json:u})})]})]})},uc={paddingLeft:4},hc={paddingTop:4},mc=e=>{let{type:t,options:s,chartType:o,caption:n,packageName:i,requestType:r,sumDownloads:a=0,toDate:c,fromDate:d,chartConfig:p,labels:u,data:h,height:m,packageLink:x,onWatchItem:j,onMoveToTop:y,onCloseItem:b}=e;const[v,C]=Qe(!0),[w,k]=Qe(!0),[S,T]=Rr(y,k),I=(0,l.useCallback)((()=>{const e=i+" "+a;j({caption:e,config:{requestType:r,repo:i,descr:"Npm Recent Month Downloads",version:a,caption:e,date:c}})}),[]),O=p||(e=>{let{labels:t=["1","2"],data:s=[0,0]}=e;return{labels:t,datasets:[qr({data:s})]}})({labels:u,data:h});return(0,f.jsxs)("div",{style:vr,children:[S,(0,f.jsxs)(pl,{style:uc,onClose:b,children:[T,(0,f.jsx)(jl,{caption:n,packageName:i,sumDownloads:a,fromDate:d,toDate:c,onClick:C}),g(j)&&(0,f.jsx)(ba,{onClick:I})]}),(0,f.jsxs)(ms,{isShow:v,style:hc,children:[(0,f.jsx)(al,{type:t,height:m,data:O,options:s||Lr}),(0,f.jsx)(pc,{isButtons:w,packageName:i,packageLink:x})]})]})},gc=()=>({type:"line",options:Object.assign({},Jr("y"))}),xc=function(e,t){return void 0===t&&(t=gc),s=>{const{option:o,json:n,parentProps:i,onMoveToTop:r,onCloseItem:l}=s,{sort:a}=o||{};return(0,f.jsx)(mc,Object.assign({packageName:n.package,caption:n.package,packageLink:o.packageLink,requestType:o.requestType},e(n.downloads,a),{onMoveToTop:r,onCloseItem:l},t(s),i),o.key)}},fc=xc((function(e){void 0===e&&(e=[{day:"0-0-0",downloads:0}]);const t=[],s=[],o=e[0].day,n=e[e.length-1].day;let i=0;return e.forEach((e=>{const{day:o,downloads:n}=e,r=o.split("-");t.push(""+r[2]),s.push(n),i+=n})),{sumDownloads:i,fromDate:o,toDate:n,labels:t,data:s}})),jc=xc((function(e){void 0===e&&(e=[{day:"1970-01-01",downloads:0}]);const t=[],s=[],o=e.length,n=e[0].day,i=o>0?e[o-1].day:n,r=o>30?Math.round(o/30):1;let l=0;return e.forEach(((o,n)=>{const{day:i,downloads:c}=o,[d,p,u]=i.split("-");if(n%r==0)if(((e,t,s)=>{const o=new Date(Date.UTC(Un(e+""),zn(t+""),Un(s+"")));if(a(o))return!1;const n=o.getUTCDay();return 0===n||6===n})(d,p,u)){if(n-2>-1){const o=e[n-2],{day:i,downloads:r}=o,[l,a,c]=i.split("-");t.push(a+"-"+c),s.push(r)}}else t.push(p+"-"+u),s.push(c);l+=c})),((e,t)=>{const s=e.length-1;s>=0&&0===e[s]&&(e.splice(s),t.splice(s))})(s,t),{sumDownloads:l,fromDate:n,toDate:i,labels:t,data:s}})),yc=e=>(t,s,o)=>c(s)?s[e]((e=>e[t]===o)):void 0,bc=yc("findIndex"),vc=yc("find"),Cc=e=>-1===(e.split(".")[2]||"").indexOf("-"),wc=(e,t)=>parseInt(e)>parseInt(t)?-1:1,kc=(e,t)=>{const s=e.split("."),o=t.split(".");return s[0]===o[0]?s[1]===o[1]?wc(s[2],o[2]):wc(s[1],o[1]):wc(s[0],o[0])},Sc=zr("128,192,64"),Tc=zr("144,89,152"),Ic=()=>!0,Oc=xc(((e,t)=>{const s=[],o=[],n=[],i=Object.keys(e),r=(e=>e.filter(Cc).sort(kc)[0])([...i]),l=t&&"R"!==t?Ic:Cc;let a=!1;return i.map((t=>[t,e[t]])).sort(((e,t)=>t[1]-e[1])).slice(0,10).forEach((e=>{let[t,i]=e;l(t)&&(s.push(t),o.push(i),t===r?(a=!0,n.push(Tc)):n.push(Sc))})),!a&&r&&(s.push(r),o.push(e[r]),n.push(Tc)),{chartConfig:Yr("Downloads",s,o,n,[...n]),height:12*o.length+30,sumDownloads:(c=o,c.reduce(((e,t)=>e+t),0))};var c}),(()=>({type:"bar",options:Object.assign({indexAxis:"y"},Jr("x"))}))),Nc={lt:60,gt:62,quot:34,apos:39,amp:38},Lc=/&(#\d+|[a-z]+);/g,{fromCharCode:Dc,fromCharPoint:Rc}=String,Ec=Dc(65533),_c=(e,t)=>{let s;return"#"===t[0]?(s=parseInt(t.substring(1),10),s-s==0?s>=1114111?Ec:s>65535?Rc(s):Dc(s):"&"+t+";"):(s=Nc[t],s?Dc(s):"&"+t+";")},Wc=e=>h(e)?e.replace(Lc,_c):"",Mc="border-left";let Ac,Pc=()=>Ac.style;const Bc=e=>{Ac&&Pc().removeProperty(Mc),Ac=e.currentTarget,Pc().setProperty(Mc,"4px solid #d64336")},Fc=()=>{Ac&&(Pc().removeProperty(Mc),Ac=null)},Vc=e=>{e.preventDefault()},Hc=Ye?{MARK_REMOVE:50,REMOVE_ITEM:90,REMOVE_UNDER:150}:{MARK_REMOVE:25,REMOVE_ITEM:35,REMOVE_UNDER:150},Gc=e=>(((e||{}).touches||[])[0]||{}).clientX||0,Uc=(e,t,s,o)=>{const n=(0,l.useRef)();return(0,l.useMemo)((()=>{const i=e=>Math.abs(y(n)-e),r=n=>{if(n){const r=i(n);r>Hc.REMOVE_UNDER?o(e):r>Hc.REMOVE_ITEM&&(s(e),t(!0))}};return Ye?{onTouchStart:e=>{const t=Gc(e);t&&b(n,t)},onTouchMove:e=>{const t=Gc(e);t&&i(t)>Hc.MARK_REMOVE&&Bc(e)},onTouchEnd:e=>{Fc(),r((e=>(((e||{}).changedTouches||[])[0]||{}).clientX||0)(e))}}:{draggable:!0,onDragStart:e=>{b(n,e.clientX),Bc(e),e&&e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move")},onDragEnd:e=>{e.preventDefault(),Fc(),r(e.clientX)},onDrop:Vc,onDragOver:Vc,onDragEnter:Vc,onDragLeave:Vc}}),[])},zc={color:"gray"},qc=Object.assign({},at,{color:"black",marginLeft:10}),Kc=e=>{let{isShowDate:t,style:s,dateAgo:o,date:n=""}=e;const[i,r]=Qe(t,!0),l=i?at:ct;return(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{role:"button",tabIndex:"-1",style:Object.assign({},zc,s),onClick:n?r:void 0,children:o}),(0,f.jsx)("span",{style:Object.assign({},qc,l),children:n})]})},Yc={display:"inline-block",color:"black",padding:"4px 8px",margin:"6px 8px 2px 8px",borderRadius:16,backgroundColor:"gray"},Jc=e=>{let{tags:t}=e;return(0,f.jsx)("div",{children:_(t,((e,t)=>(0,f.jsx)("span",{style:Yc,children:e},t)))})},Xc=(e,t,s)=>Ye?e:(0,f.jsx)("span",{role:"img","arial-label":t,children:String.fromCharCode(...s)}),Qc=ht("row-item"),$c={display:"none"},Zc={display:"inline-block"},ed={fontSize:"18px"},td={display:"flex",flexWrap:"wrap",paddingBottom:8},sd={color:"#6495ed",padding:"2px 8px 2px 0"},od=Object.assign({},Zc,ed,{paddingRight:8}),nd=Object.assign({},od,{color:"#d7bb52"}),id=Object.assign({},od,{color:"#80c040"}),rd=Object.assign({},od,{color:"black"}),ld=Object.assign({},Zc,ed),ad=Object.assign({},ed,{paddingBottom:8}),cd=Xc("A","hammer and pick",[9874]),dd=Xc("S","fish",[55357,56351]),pd=Xc("V","wheel of dharma",[9784]),ud=Xc("R","shamrock",[9752]),hd=()=>{},md=e=>{let{item:t,onRemoveItem:s=hd,onRemoveUnder:o=hd}=e;const[n,i]=(0,l.useState)(!1),r=Uc(t,i,s,o),{is_answered:a,bounty_amount:c,answer_count:d,score:p,view_count:u,title:h,dateAgo:m,link:g,owner:x,tags:j}=t,{reputation:y,display_name:b}=x||{};return(0,f.jsx)("div",Object.assign({className:Qc,style:n?$c:void 0},r,{children:(0,f.jsxs)(bl,{href:g,children:[(0,f.jsxs)("div",{style:td,children:[c&&(0,f.jsx)("span",{style:sd,children:"+"+c}),(0,f.jsxs)("span",{style:a?id:nd,children:[cd,"",d]}),(0,f.jsxs)("span",{style:nd,children:[dd,"",p]}),(0,f.jsxs)("span",{style:rd,children:[pd,"",u]}),(0,f.jsxs)("span",{style:id,children:[ud,"",y]}),(0,f.jsx)("span",{style:rd,children:b}),(0,f.jsx)(Kc,{style:ld,dateAgo:m})]}),(0,f.jsx)("div",{style:ad,children:h}),(0,f.jsx)(Jc,{tags:j})]})}))},gd=Ke(((e,t,s)=>{let{onRemoveItem:o}=s;return(0,f.jsx)(md,{item:e,onRemoveItem:o},e.question_id||t)})),xd="bounty_amount",fd="reputation",jd=e=>t=>{const s=(e=>e.split("_").map(Wi).join(" "))(t);return{name:s,onClick:r(e,t,s),isClose:!0}},yd=function(e){let{setSortByProp:t,reverse:s}=void 0===e?{}:e;const o=jd(t);return{pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Sort By, DESC"}],p1:[o(xd),o("answer_count"),o("score"),o("view_count"),o(fd),{name:"Reverse Items",onClick:s,isClose:!0}]}},bd=function(e,t,s){void 0===s&&(s=2);const o=u(t),n=u(e);return o||n?o&&!n?1:!o&&n?-1:s:0},vd=e=>(t,s)=>{const o=e(s),n=e(t),i=bd(n,o);return 2===i?o-n:i},Cd=vd((e=>{const{owner:t}=e||{};return(t||{})[fd]||0})),wd={[fd]:Cd,[xd]:vd((e=>(e||{})[xd]||0))};var kd;kd=wd,Object.setPrototypeOf(kd,null);const Sd=(e,t)=>t?e.sort(wd[t]||(e=>(t,s)=>{const o=s[e],n=t[e],i=bd(n,o);return 2!==i?i:o===n?Cd(t,s):o-n})(t)):e,Td={position:"relative",top:3,marginRight:12},Id={color:"#a9a9a9",padding:"0 12px"},Od={color:"#a487d4",fontWeight:"bold",cursor:"pointer"},Nd={float:"none"},Ld=[],Dd=e=>{const{repo:t,caption:s,onCloseItem:o}=e,[n,i]=(0,l.useState)((()=>({items:e.items||Ld,pnForSort:"",titleForSort:"",itemRemoved:0}))),{items:r,titleForSort:a,itemRemoved:c}=n,[d,p]=Qe(!0),u=(0,l.useCallback)((()=>{i((e=>Object.assign({},e,{items:[...e.items.reverse()]})))}),[]),h=(0,l.useCallback)(((e,t)=>{i((s=>Object.assign({},s,{pnForSort:e,titleForSort:t,items:[...Sd(s.items,e)]})))}),[]),m=(0,l.useCallback)((()=>{i((e=>Object.assign({},e,{itemRemoved:e.itemRemoved+1})))}),[]),[g,x,j,y]=fr(yd,{setSortByProp:h,reverse:u}),b=r.length,v=c?b-c+"/"+b:""+b,C="Sorted By "+a;return(0,f.jsxs)("div",{style:vr,children:[(0,f.jsx)(Ys,{isShow:x,className:gt,model:g,onClose:j}),(0,f.jsxs)(pl,{onClose:o,children:[(0,f.jsx)(Js,{style:Td,onClick:y}),(0,f.jsxs)("button",{className:ut,title:s,style:Object.assign({},wr,Nd),onClick:p,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:Id,children:v})]}),(0,f.jsx)("button",{className:ut,style:Od,title:"Reverse Items",onClick:u,children:C})]}),(0,f.jsx)(ms,{isShow:d,children:(0,f.jsx)(gd,{items:r,onRemoveItem:m})})]})},Rd=e=>{const t=Date.now();return _(e,(e=>{const{title:s,last_activity_date:o,owner:n}=e,{display_name:i}=n||{};var r,l;return e.dateAgo=(l=t,u(r=o)?Vn(1e3*r,l):""),e.title=Wc(s),e.owner.display_name=Wc(i),e}))},Ed=e=>{let{option:t,json:s,parentProps:o,onCloseItem:n,onWatchItem:i}=e;return(0,f.jsx)(Dd,Object.assign({caption:t.repo,repo:t.repo,requestType:t.requestType,items:Rd((s||{}).items),onCloseItem:n,onWatchItem:i},o),t.key)},_d=Object.assign({},wr,{position:"relative",top:-3}),Wd={paddingLeft:4},Md={padding:"0 10px"},Ad={paddingTop:12},Pd=e=>{let{caption:t,fromDate:s,toDate:o,labels:n,data:i,sourceLink:r,onMoveToTop:l,onCloseItem:a}=e;const[c,d]=Qe(!0),[p,u]=Rr(l),[h,m]=((e,t)=>{const s=Kr({labels:e,data:t}),o=s.datasets.length;return[s,150+16*Math.floor(o/5)]})(n,i);return(0,f.jsxs)("div",{style:vr,children:[p,(0,f.jsxs)(pl,{style:Wd,onClose:a,children:[u,(0,f.jsxs)("button",{className:mt,title:t,style:_d,onClick:d,children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:Md,children:s}),(0,f.jsx)("span",{children:o})]})]}),(0,f.jsxs)(ms,{isShow:c,style:Ad,children:[(0,f.jsx)(al,{data:h,height:m}),(0,f.jsx)(bl,{className:jt,style:Dr,href:r,children:"Statcounter Chart"})]})]})},Bd=["Date"],Fd=(e,t)=>t.value-e.value,Vd=function(e,t){void 0===t&&(t=5);const s=(e=>kl(e).map((t=>({caption:t,value:parseFloat(e[t])}))))(is(e[e.length-1],Bd));s.sort(Fd);const o=[],n=s.length;for(let e=0;e<n;e++){const t=s[e].caption;t&&o.push(t)}return o},Hd=e=>{const t=[],s=Vd(e),o=s.length,n=s.map((e=>{const t=[];return t.seriaName=e,t}));return e.forEach((e=>{if(s=e.Date,h(s)&&"00"!==s.slice(5,7)){t.push(e.Date);for(let t=0;t<o;t++){const s=n[t];s.push(e[s.seriaName])}}var s})),[t,n]},Gd=e=>{let{caption:t,region:s}=e;return((s||{}).caption||"")+": "+t},Ud=((e,t)=>{const s=(o=e,Object.assign(Object.create(null),o));var o;return e=>h(e)&&s[e]||t})({CR_DOWNLOADS:El,GH_RELEASE_RECENT:Fl,GH_TAGS:sa,GH_SEARCH_INFO:ia,GH_COMMITS:da,GH_ISSUES:ja,GH_PULL_REQUESTS:ja,NPM_DOWNLOADS_RECENT_MONTH:fc,NPM_DOWNLOADS:jc,NPM_TOP_VERSIONS:Oc,SE_QUESTIONS:Ed,SE_SEARCH_QUESTIONS:Ed,ST_OSVERSION:e=>{let{option:t,json:s,parentProps:o,onMoveToTop:n,onCloseItem:i,onWatchItem:r}=e;const[l,a]=Hd((e=>e.data.filter((e=>Boolean(e.Date))))(s));return(0,f.jsx)(Pd,Object.assign({caption:Gd(t),requestType:t.requestType,fromDate:l[0],toDate:l[l.length-1],labels:l,data:a,sourceLink:t.sourceLink,onMoveToTop:n,onCloseItem:i},o),t.key)}},xr),zd=(e,t,s)=>{const{requestType:o,chartType:n,browserType:i,key:l}=e;return Ud(o)({option:e,json:t,parentProps:s,onMoveToTop:r(mu,n,l),onCloseItem:r(du,n,i,l),onWatchItem:Du})},qd=e=>{let{chartType:t,onMinWidth:s,onInitialWidth:o,onPlusWidth:n,onMinusWidth:i,onRemoveAll:r}=e;return{pageWidth:180,maxPages:2,p0:[{id:"p1",type:"sub",name:"Resize"},{name:"Remove All Items",onClick:r,isClose:!0}],p1:[{name:"to MinWidth",onClick:s},{name:"to InitialWidth",onClick:o},{name:"+10px to Width",onClick:n},{name:"-10px to Width",onClick:i}]}},Kd="gap-right cont-caption",Yd={padding:"0 8px 0 6px",fontSize:"18px",fontWeight:"500"},Jd={position:"absolute",top:6,right:0},Xd={paddingLeft:0},Qd=e=>{let{style:t,moreStyle:s,caption:o="",onMore:n,onClose:i,children:r}=e;return(0,f.jsxs)("div",{className:Kd,style:t,children:[g(n)&&(0,f.jsx)(Js,{style:s,onClick:n}),(0,f.jsx)("span",{className:ut,style:dt(Yd,g(n)&&Xd),children:o}),r,(0,f.jsx)(Zs,{style:Jd,onClose:i})]})},$d=e=>{let{refEl:t,style:s,className:o,onFocusIn:n,children:i}=e;const r=(0,l.useRef)(),a=it("with-scroll",o);return(0,l.useImperativeHandle)(t,(()=>({scrollTop:()=>{const e=y(r);e&&(e.scrollTop=0)}})),[]),(0,f.jsx)("div",{ref:r,className:a,style:s,onFocus:n,children:i})},Zd=Object.assign,ep=e=>{Zd(e,{id:null,delta:0,step:1,countStep:0})};const tp=class{constructor(e){this._increaseStepValue=()=>{this.countStep+=1,this.countStep>30?this.step=3:this.countStep>15&&(this.step=2),(this.maxDelta-this.delta<20||this.delta-this.minDelta<20)&&(this.step=1)},this._getElementStyle=()=>{const{current:e}=this.elementRef||{},{style:t}=e||{};return t||{}},this._resizeLeft=()=>{this.delta>this.minDelta&&(this.delta-=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())},this._resizeRight=()=>{this.delta<this.maxDelta&&(this.delta+=this.step,this.currentWidth=this.initWidth+this.delta,this._getElementStyle().width=this.currentWidth+"px",this._increaseStepValue())},this._updateDelta=()=>{const e=parseInt(this._getElementStyle().width,10);isNaN(e)||(this.delta=e-this.initWidth)},this._hStartResize=e=>{null!==this.id&&this._hStopResize(!1),this._updateDelta(),this.id=setInterval(e,5)},this._hStopResize=(e,t)=>{clearInterval(this.id),ep(this);const{onResizeAfter:s}=this;e&&g(s)&&s(this.currentWidth)},ep(this);const{elementRef:t,onResizeAfter:s,initWidth:o,minWidth:n,maxWidth:i}=e;this.elementRef=t,this.onResizeAfter=s,this.initWidth=o,this.currentWidth=this.initWidth,this.minDelta=n-this.initWidth,this.maxDelta=i-this.initWidth,this.onStopRezise=r(this._hStopResize,!0),this.onStartResizeLeft=r(this._hStartResize,this._resizeLeft),this.onStartResizeRight=r(this._hStartResize,this._resizeRight)}},sp=e=>{const t=P((()=>new tp(e)))[0];return(0,l.useMemo)((()=>{const[e,s]=Ye?["onTouchStart","onTouchEnd"]:["onMouseDown","onMouseUp"],{onStopRezise:o,onStartResizeLeft:n,onStartResizeRight:i}=t;return[{[e]:n,[s]:o},{[e]:i,[s]:o}]}),[])},op="svg-resize",np={display:"inline-block"},ip={marginLeft:10},rp=e=>{const[t,s]=sp(e);return(0,f.jsxs)("div",{style:np,children:[(0,f.jsx)("div",Object.assign({className:op,style:ip,title:"Resize container horizontal left"},t,{children:(0,f.jsxs)(Qs,{children:[(0,f.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,f.jsx)("path",{d:"M 6,2 L 1,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})})),(0,f.jsx)("div",Object.assign({className:op,style:ip,title:"Resize container horizontal right"},s,{children:(0,f.jsxs)("svg",{viewBox:"0 0 12 12",width:"100%",height:"100%",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M 1,6 L 11,6",strokeWidth:"2",strokeLinecap:"round"}),(0,f.jsx)("path",{d:"M 6,2 L 11,6 6,10",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})}))]})},lp={backgroundColor:"#4d4d4d",height:"calc(100vh - 71px)",minHeight:500,marginLeft:10,borderRadius:4,boxShadow:"1px 4px 6px 1px rgba(0, 0, 0, 0.6)"},ap=Object.assign({},lp,{minWidth:270,maxWidth:400,paddingBottom:16}),cp=Object.assign({},lp,{position:"relative",minWidth:300,maxWidth:700,padding:"0px 0px 16px"}),dp=Object.assign({},lp,{position:"relative",width:635,padding:"0px 0px 16px",overflowY:"hidden",overflowX:"hidden"}),pp={overflowY:"auto",height:"92%",paddingRight:10},up={position:"relative",top:3,marginRight:6},hp=e=>parseInt(e.width,10)||635,mp=e=>e+"px",gp=e=>{const{style:t}=e||{};return t||{}},xp=(e,t)=>{gp(y(e)).width=mp(t)},fp=e=>{let{caption:t,browserType:s,chartType:o,onRemoveAll:n,onCloseContainer:i}=e;const r=(0,l.useRef)(),a=(0,l.useRef)(),[c,d]=(0,l.useState)((()=>({isShow:!1,configs:[],chartType:o}))),{isShow:p,configs:u}=c,[h,m,g,x]=fr(qd,{chartType:o,onMinWidth:()=>xp(r,375),onInitialWidth:()=>xp(r,635),onPlusWidth:()=>(e=>{const t=gp(y(e)),s=hp(t)+10;s<1200&&(t.width=mp(s))})(r),onMinusWidth:()=>(e=>{const t=gp(y(e)),s=hp(t)-10;s>375&&(t.width=mp(s))})(r),onRemoveAll:n}),j=(0,l.useCallback)((()=>{i(o,s),d((e=>Object.assign({},e,{isShow:!1})))}),[]);(0,l.useEffect)((()=>{d((e=>Object.assign({},e,ou(o))))}),[]),nu((e=>{if(e&&(e.chartType===o&&e.close&&j(),e.chartCont&&e.chartCont.chartType===o)){const t=y(a);t&&t.scrollTop(),d((t=>Object.assign({},t,e.chartCont)))}}));const[b,v]=p?[at,pt]:[ct];return(0,f.jsxs)("div",{ref:r,className:v,style:Object.assign({},dp,b),children:[(0,f.jsx)(Ys,{isShow:m,className:gt,model:h,onClose:g}),(0,f.jsx)(Qd,{moreStyle:up,caption:t,onMore:x,onClose:j,children:(0,f.jsx)(rp,{elementRef:r,initWidth:635,minWidth:375,maxWidth:1200})}),(0,f.jsx)($d,{refEl:a,style:pp,children:(0,f.jsx)("div",{children:u})})]})},jp=(e,t)=>{const s=e.chartContainerComp||fp,o=e.type;return(0,f.jsx)(s,{caption:e.chartContainerCaption,chartType:o,browserType:t,onCloseContainer:pu.bind(null,o,t),onRemoveAll:hu.bind(null,o,t)},o)},yp="loading",bp="loadingComplete",vp="loadingFailed",Cp=J(),wp=Cp.setValue,kp=J(),Sp=e=>{kp.setValue(null==e?void 0:e)},Tp=Cp.useAtomValue,Ip=kp.useAtomValue,Op=Array.isArray,Np=(e,t)=>((((e,t)=>{if(Op(e))for(const s of e){const e=s.items;if(Op(e))for(const s of e)if(s.id===t)return s}})(e,t)||{}).atomCounter||{}).setValue,Lp=(e,t,s)=>{const o=Np(t,e);o&&o((e=>({v:e.v,is:s})))},Dp=(e,t,s)=>{const o=Np(t,e);o&&o((e=>({v:e.v+s,is:!0})))},Rp=Object.create(null),Ep=(e,t)=>{Rp[e]=t||[]},_p=(e,t)=>(s,o)=>{o!==ne&&e(s,Rp[o],t)},Wp=_p(Lp,!0),Mp=_p(Lp,!1),Ap=_p(Dp,1),Pp=_p(Dp,-1),Bp=_p(((e,t)=>{const s=Np(t,e);s&&s((e=>({v:0,is:e.is})))})),Fp={WL_WATCH_LIST:{type:"WL_WATCH_LIST",menuTitle:"Watch List",dialogCaption:"Watch List",chartContainerCaption:"Watch List"}},Vp=Object.create(null);Vp.WL=Fp;const Hp=e=>{const t=e.split("_")[0];return Vp[t][e]},Gp=Array.isArray,Up=(e,t)=>{if(!(e=>"object"==typeof e&&null!==e)(e))return!1;const s=e.configs;if(!Gp(s))return!1;const o=s.findIndex((e=>e.key===t));return-1!==o&&(s.unshift(s[o]),s.splice(o+1,1),!0)},zp={caption:"Already loaded",descr:"This item already has been loaded\nto container, moved to top."},qp="color:rgb(237, 88, 19);",[Kp,Yp]=z("items"),[Jp,Xp]=z("msItem"),Qp=K(Jp,(e=>({chartCont:e}))),$p=K(Jp,((e,t)=>({Comp:jp(Hp(e),t)}))),Zp=K(Jp,(e=>({chartType:e,close:!0}))),eu=G((()=>Object.assign({},Kp({}),Jp()))),[tu,su]=U(eu),ou=e=>Yp(su())[e],nu=Y(eu,Xp),iu=e=>({chartType:e,configs:[],isShow:!0}),ru=(e,t)=>{const s=ou(e);if(s)s.isShow=!0,tu(Qp(s));else{Yp(su())[e]=iu(e),tu($p(e,t))}Wp(e,t)},lu=(e,t)=>{const{chartType:s,browserType:o}=e,n=zd(e,t,{chartType:s,browserType:o}),i=ou(s);if(i)i.configs.unshift(n),i.isShow=!0,tu(Qp(i));else{const e=Yp(su());e[s]=iu(s),e[s].configs.unshift(n),tu($p(s,o))}var r;r=e.limitRemaining,wp(bp),Sp(r),Ap(s,o)},au=e=>{var t;e.alertItemId=e.alertItemId||e.repo||"",Ru(e),(e=>{let{alertCaption:t,alertDescr:s,alertItemId:o}=e;console.log("%c"+t+":"+o,qp),console.log("%c"+s,qp)})(e),t=e.limitRemaining,wp(vp),Sp(t)},cu=(e,t,s)=>{const{loadId:o="LW"}=s;s.chartType=e,s.browserType=t;const{crKey:n,loadItem:i}=mr[o],r=n(s);((e,t)=>{const{chartType:s}=t,o=ou(s);return Up(o,e)})(r,s)?(setTimeout((()=>Ru(zp)),1e3),ru(e,t)):(s.key=r,wp(yp),i(s,lu,au))},du=(e,t,s)=>{const o=ou(e);o.configs=o.configs.filter((e=>e.key!==s)),tu(Qp(o)),Pp(e,t)},pu=Mp,uu=(e,t)=>{tu(Zp(e))},hu=(e,t)=>{const s=((e,t)=>{const s=e[t]||{};return s.configs=[],s})(su().items,e);Bp(e,t),tu(Qp(s))},mu=(e,t)=>{const s=ou(e);Up(s,t)&&tu(Qp(s))},gu=(e,t)=>{const s=e.type,o=e.dialogType&&ki[e.dialogType]||ki.DEFAULT;return(0,f.jsx)(o,Object.assign({caption:e.dialogCaption,optionURI:e.optionURI,optionsJsonProp:e.optionsJsonProp,onLoad:cu.bind(null,s,t),onShow:ru.bind(null,s,t)},e.dialogProps),s)},[xu,fu]=z("msAbout","is"),[ju,yu]=z("dgOption"),[bu,vu]=z("mdOption"),Cu=G((()=>Object.assign({},xu(!0),ju(),bu()))),[wu]=U(Cu),ku=Y(Cu,fu),Su=()=>wu(xu(!0)),Tu=Y(Cu,yu),Iu=Object.create(null),Ou=(e,t)=>{if(Iu[e])wu(ju({dialogType:e}));else{Iu[e]=!0;const s=gu(Hp(e),t);wu(ju({dialogType:e,dialogComp:s}))}},Nu=Y(Cu,vu),Lu=function(e,t){void 0===t&&(t={}),t.modalDialogType=e,wu(bu(Object.assign({},t)))},Du=r(Lu,$),Ru=r(Lu,X),Eu=r(Lu,Q),_u=(e,t,s)=>e.map((e=>{let{caption:o,isInitClose:n,items:i}=e;return{caption:o,isInitClose:n,items:i.map((e=>{let{id:o}=e;return{id:o,title:t[o].menuTitle,atomCounter:J({v:0,is:!1}),onClick:Ou.bind(null,o,s),onOpen:ru.bind(null,o,s),onClose:uu.bind(null,o)}}))}})),Wu=e=>{const[t,s]=(0,l.useState)((()=>[!!e,()=>s((e=>[!0,e[1],e[2]])),()=>s((e=>[!1,e[1],e[2]]))]));return t},Mu=e=>{const[t,s,o]=Wu(e);return[t,s,o,At(o)]},Au=(e,t)=>{const s=(0,l.useRef)();return(0,l.useEffect)((()=>{t&&e&&O(s)}),[e,t]),s},Pu=()=>[],Bu=function(e,t){void 0===t&&(t=Pu);const[s,o]=(0,l.useState)(t),[n,i,r,a]=Mu(e);return[s,o,n,i,r,a,Au(n,s)]},Fu=[void 0,()=>{}],Vu=()=>{const e=(0,l.useRef)();return Je?(0,l.useMemo)((()=>[t=>{b(e,t.target)},()=>O(e)]),[]):Fu},Hu=e=>{let{isShow:t,style:s,onKeyDown:o,children:n}=e;const[i,r]=(e=>e?[lt,pt]:[ct])(t);return(0,f.jsx)("div",{className:r,style:Object.assign({},ap,s,i),role:"presentation",onKeyDown:o,children:n})},Gu=e=>{let{style:t,caption:s="",onClose:o,children:n}=e;return(0,f.jsxs)("div",{className:Kd,style:t,children:[(0,f.jsx)("span",{className:ut,style:Yd,children:s}),n,(0,f.jsx)(Zs,{style:Jd,onClose:o})]})},Uu={color:"#a487d4"},zu=e=>{let{atom:t,onOpen:s,onClose:o}=e;const{useAtomValue:n}=t,{is:i,v:r}=n(),a=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),i?o():s()}),[i,s,o]),c=i?Uu:null;return 0===r?null:(0,f.jsx)(nn,{className:"menu__badge",style:c,caption:r,onClick:a})},qu=ht(),Ku={paddingLeft:6},Yu=e=>{let{item:t,className:s}=e;const o=Mt(t.onClick);return(0,f.jsxs)("div",{role:"menuitem",tabIndex:0,className:s,onClick:t.onClick,onKeyDown:o,children:[t.title,(0,f.jsx)(zu,{atom:t.atomCounter,onOpen:t.onOpen,onClose:t.onClose})]})},Ju=e=>{let{refFirstItem:t,rowClass:s,caption:o,items:n,isInitClose:i}=e;return(0,f.jsx)(Kl,{refItem:t,styleCaptionRow:Ku,fillOpen:"#1b2836",fillClose:"transparent",caption:o,isClose:i,children:_(n,((e,t)=>(0,f.jsx)(Yu,{className:(s||"row__topic")+" "+qu,item:e},e.id||t)))})},Xu={overflowY:"auto",height:"92%",paddingRight:10},Qu=e=>{let{menuItems:t,rowClass:s,refFirstItem:o}=e;return _(t,((e,t)=>(0,f.jsx)(Ju,{refFirstItem:0===t?o:void 0,isInitClose:e.isInitClose,caption:e.caption,items:e.items,rowClass:s},t)))},$u=e=>{let{isShowInitial:t,caption:s,rowClass:o,browserType:n,useMsBrowserDynamic:i,onLoadMenu:r,children:a}=e;const c=(0,l.useRef)(!1),[d,p,u,h,m,g,x]=Bu(t),[j,v]=Vu();return i((e=>{if(e&&e.browserType===n){const{menuItems:t}=e;t?(b(c,!0),p([...t])):(h(),v())}})),(0,l.useEffect)((()=>{u&&!y(c)&&r()}),[u]),(0,f.jsxs)(Hu,{isShow:u,onKeyDown:g,children:[(0,f.jsx)(Gu,{caption:s,onClose:m}),(0,f.jsxs)($d,{style:Xu,onFocusIn:j,children:[(0,f.jsx)(Qu,{menuItems:d,rowClass:o,refFirstItem:x}),a]})]})},Zu=Ge((e=>(0,f.jsx)($u,Object.assign({},e)))),eh=e=>{let{browserType:t,caption:s,sourceMenuUrl:o,rowClass:n}=e;return(0,f.jsx)(Zu,{isShowInitial:!0,browserType:t,caption:s,rowClass:n,useMsBrowserDynamic:hh,onLoadMenu:r(jh,{browserType:t,caption:s,sourceMenuUrl:o})},t)},[th,sh]=z("msBrowser","id"),[oh,nh]=z("msBrowserDynamic"),ih=q(oh,"elBrowser"),rh=q(oh,"browserType","menuItems"),lh=G((()=>Object.assign({},th(),oh()))),[ah]=U(lh),ch=Y(lh,sh),dh=e=>ah(th(e)),ph=r(dh,ne),uh=r(dh,ie),hh=Y(lh,nh),mh=e=>{const{browserType:t}=e;if((e=>Rp[e])(t))ah(rh(t));else{const s=eh(e);Ep(t),ah(ih(s))}},gh=e=>{let{json:t,option:s,onCompleted:o}=e;const{menu:n,items:i}=t,{browserType:r}=s;o({menu:n,items:i,browserType:r})},xh=e=>{let{menu:t,items:s,browserType:o}=e;const n=_u(t,s,o);((e,t)=>{Vp[e]=t})(o,s),Ep(o,n),ah(rh(o,n))},fh=e=>{e.alertItemId=e.alertItemId||e.caption||"",Ru(e)},jh=e=>{Se({uri:e.sourceMenuUrl,option:e,onCheckResponse:e=>!0,onFetch:gh,onCompleted:xh,onCatch:Ve,onFailed:fh})},yh=(e,t)=>{try{const s=new Blob([JSON.stringify(e)],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(s),o.rel="noopener",o.target="_blank",o.download=t,o.click(),"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(o.href),o.remove()}catch(e){console.log(e.message)}},bh=window.localStorage,vh=JSON.stringify,Ch=JSON.parse,wh=e=>({message:e}),kh=wh("LocalStorage is absent"),Sh=(wh("Use LocalStorage is not allowed"),!!bh);const Th=e=>"LW_"+e,Ih=e=>{if(!Sh)return[void 0,Object.assign({},kh)];try{return[Ch(bh[Th(e)])]}catch(e){return[void 0,e]}},Oh={groups:[{caption:"GitHub Libraries",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]},{caption:"Npm Packages",lists:[{caption:"List1"},{caption:"List2"},{caption:"List3"}]}]},Nh="crGroup",Lh="renGroup",Dh="delGroup",Rh="crList",Eh="renList",_h="delList",Wh="addItem",Mh=(e,t,s,o)=>{return vc(t,!!(n=s)&&"object"==typeof n&&!c(n)&&s[e],o);var n},Ah=(e,t)=>({isDone:!1,message:Ie(e,t)}),Ph=e=>({isDone:!1,message:Oe(e)}),Bh=(e,t)=>({isDone:!1,message:Ne(e,t)}),Fh=((e,t,s)=>t.filter(((t,o)=>t[e]!==s))).bind(null,"caption"),Vh=(e,t)=>c(e)?[...e,t]:[t],Hh=(e,t,s)=>[...e.slice(0,t),Object.assign({},e[t],{caption:s}),...e.slice(t+1)],Gh=function(e,t,s){return void 0===s&&(s=[]),0===t?[Object.assign({},e),...s]:[...s.slice(0,t),Object.assign({},e),...s.slice(t)]},Uh=Mh.bind(null,"groups","caption"),zh=Mh.bind(null,"lists","caption"),qh=bc.bind(null,"caption"),Kh=((e,t,s)=>-1!==(c(t)?bc(e,t,s):-1)).bind(null,"caption"),Yh="WL_LIBRARY_WATCH",Jh=G((()=>({isWatchEdited:!1,watchList:Oh,msEdit:{}}))),Xh=e=>e.watchList,Qh=e=>e.isWatchEdited,$h=Jh.setState,Zh=Jh.getState,em=()=>Qh(Zh()),tm=()=>Xh(Zh()),sm=Y(Jh,Xh),om=Y(Jh,(e=>e.msEdit)),nm=Y(Jh,Qh),im=()=>(tm()||{}).groups,rm=e=>{const t=Uh(tm(),e);return t?t.lists:[]},lm=(e,t)=>s=>{var o,n;o=e(tm(),s),n=t,o.isDone?$h({isWatchEdited:!0,watchList:Object.assign({},tm()),msEdit:{forActionType:n}}):$h({msEdit:{messages:[o.message],forActionType:n}})},am=lm(((e,t)=>{let{caption:s}=t;const o=e.groups;if(Kh(o,s))return Ph(s);const n=s?{caption:s}:{caption:"Default"};return e.groups=Vh(o,n),{isDone:!0}}),Nh),cm=lm(((e,t)=>{let{captionFrom:s,captionTo:o}=t;const n=e.groups,i=qh(n,s);return-1===i?Ah("group",s):Kh(n,o)?Ph(o):(e.groups=Hh(n,i,o),{isDone:!0})}),Lh),dm=lm(((e,t)=>{let{caption:s}=t;return e.groups=Fh(e.groups,s),{isDone:!0}}),Dh),pm=lm(((e,t)=>{let{captionGroup:s,captionList:o}=t;const n=Uh(e,s);if(!n)return Ah("group",s);const{lists:i}=n;return Kh(i,o)?Bh(o,s):(n.lists=Vh(i,{caption:o}),{isDone:!0})}),Rh),um=lm(((e,t)=>{let{captionGroup:s,captionListFrom:o,captionListTo:n}=t;const i=Uh(e,s);if(!i)return Ah("group",s);const{lists:r}=i,l=qh(r,o);return-1===l?Ah("list",o):Kh(r,n)?Bh(n,s):(i.lists=Hh(r,l,n),{isDone:!0})}),Eh),hm=lm(((e,t)=>{let{captionGroup:s,captionList:o}=t;const n=Uh(e,s);return n?(n.lists=Fh(n.lists,o),{isDone:!0}):Ah("group",s)}),_h),mm=lm(((e,t)=>{const{groupCaption:s,listCaption:o,caption:n,config:i}=t,r=Uh(e,s),l=zh(r,o),{items:a}=l;return Kh(a,n)?((e,t)=>({isDone:!1,message:Le(e,t)}))(n,o):(a?l.items.push(i):l.items=[i],{isDone:!0})}),Wh),gm=e=>t=>{var s;(s=e(tm(),t)).isDone?$h({isWatchEdited:!0,watchList:Object.assign({},tm())}):Ru(s)},xm=gm(((e,t)=>{let{dragId:s,dropId:o}=t;const n=s.split(";"),i=Uh(e,n[0]),r=zh(i,n[1]),l=qh(r.items,n[2]),a=r.items[l],c=o.split(";"),d=Uh(e,c[0]),p=zh(d,c[1]),u=c[2]?qh(p.items,c[2]):0;return r.caption!==p.caption&&Kh(p.items,n[3])?((e,t)=>({isDone:!1,alertItemId:e+":"+t,alertCaption:_e.caption,alertDescr:_e.descr}))(c[1],n[2]):(r.items=Fh(r.items,n[2]),p.items=Gh(a,u,p.items),{isDone:!0})})),fm=gm(((e,t)=>{let{dragId:s,dropId:o}=t;const[n,i]=s.split(";"),r=Uh(e,n),l=zh(r,i),[a,c]=o.split(";"),d=Uh(e,a),p=c?qh(d.lists,c):0;return r.caption!==d.caption&&Kh(d.lists,i)?((e,t)=>({isDone:!1,alertItemId:e+":"+t,alertCaption:We.caption,alertDescr:We.descr}))(a,i):(r.lists=Fh(r.lists,i),d.lists=Gh(l,p,d.lists),{isDone:!0})})),jm=gm(((e,t)=>{let{dragId:s,dropId:o}=t;const[n]=s.split(";"),i=Uh(e,n),[r]=o.split(";"),l=r?qh(e.groups,r):0;return e.groups=Fh(e.groups,n),e.groups=Gh(i,l,e.groups),{isDone:!0}})),ym=e=>({caption:"Watch List:",descr:e}),bm=function(e){if(void 0===e&&(e=!0),em()){const t=((e,t)=>{if(!Sh)return Object.assign({},kh);try{bh[Th(e)]=vh(t)}catch(e){return e}})(Yh,tm());t?Ru(ym(t.message)):($h({isWatchEdited:!1}),e&&Eu(ym("Watch List has been saved.")))}else Eu(ym("Watch List has not been edited\nfrom previous save."))},vm=function(e){let{isShowDialog:t}=void 0===e?{}:e;bm(t)},Cm=e=>{((e,t)=>{let{groupCaption:s,listCaption:o,caption:n}=t;const i=Uh(e,s),r=zh(i,o);r.items=Fh(r.items,n)})(tm(),e),$h({isWatchEdited:!0,watchList:Object.assign({},tm())})},wm=e=>{if((e.altKey||e.metaKey)&&e.key){const t=Tt[e.key.toUpperCase()];"function"==typeof t&&(e.stopImmediatePropagation(),t())}},km=()=>{(0,l.useEffect)((()=>kt?(document.addEventListener(St,wm,!1),()=>{Tt=null,document.removeEventListener(St,wm,!1)}):void 0),[])},Sm=["color","size","children"],Tm=e=>{let{color:t="currentColor",size:s="24"}=e,o=is(e,Sm);return(0,f.jsxs)(Qs,Object.assign({w:s,width:s,height:s,fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o,{children:[(0,f.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,f.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,f.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"8"})]}))},Im="grey",Om={borderColor:Im,color:Im},Nm=e=>{let{className:t,style:s}=e;const[o,n]=(0,l.useState)(em);nm((e=>{n(!!e)}));const i=dt(s,o&&Om);return(0,f.jsx)(fo,{className:t,caption:"S",title:"Save Watch Items to Locale Storage",style:i,onClick:vm})},Lm="#2f7ed8",Dm=(e,t,s)=>({backgroundColor:e,width:t+"%",transition:s,opacity:1}),Rm=(e,t,s)=>y(e)?(b(e,!1),Dm(t,0)):Dm(t,((e,t)=>e<0?0:e>=100?(b(t,!0),100):e)(s,e),"width 350ms linear"),Em=e=>{let{color:t=Lm,completed:s}=e;const o=V(),n=(0,l.useRef)(!1),i=(0,l.useRef)(null);(0,l.useEffect)((()=>{y(n)&&b(i,setTimeout(o,800))})),(0,l.useEffect)((()=>()=>{clearTimeout(y(i))}),[]);const r=Rm(n,t,s);return(0,f.jsx)("div",{className:"progress-line",style:r})},_m="#2f7ed8",Wm=(e,t)=>[e,t],Mm=Ge((()=>{const e=Tp(),[t,s]=e===yp?Wm(35,_m):e===bp?Wm(100,_m):e===vp?Wm(100,"#ed5813"):Wm(0,_m);return(0,f.jsx)(Em,{color:s,completed:t})})),Am=e=>{let{className:t,title:s}=e;return(0,f.jsx)("span",{className:t,title:s,children:(0,f.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",strokeWidth:"2",children:[(0,f.jsx)("title",{children:s}),(0,f.jsx)("rect",{ry:"1.8825414",rx:"194.14471",y:"1.434558",x:"19.176462",height:"12.460618",width:"10.85316",fill:"#8ecc2d",stroke:"#8ecc2d"}),(0,f.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"16.639841",x:"8.8410215",height:"13.752699",width:"18.307165",fill:"#232f3b",stroke:"#232f3b"}),(0,f.jsx)("rect",{ry:"1.87537",rx:"204.478",y:"3.4229634",x:"2.5897937",height:"10.894996",width:"10.001963",fill:"#a487d4",stroke:"#a487d4"})]})})},Pm=e=>{let{className:t,caption:s,title:o}=e;return(0,f.jsx)("span",{className:t,title:o,children:s})},Bm={display:"inline-block",color:"#2f7ed8",padding:"5px 10px 0",fontSize:"16px",fontWeight:"bold"},Fm=()=>{const e=Ip();return(0,f.jsx)("span",{style:Bm,children:e})},Vm="Library Watch v0.12.0",Hm="header",Gm=Hm+"__icon-app",Um=Hm+"__bt-about",zm=Hm+"__app-label",qm=Hm+"__bt-library",Km={position:"relative",top:-2,verticalAlign:"middle",margin:"0 8px"},Ym={marginTop:4,marginLeft:10},Jm={marginLeft:"auto"},Xm={browserType:oe,caption:"Library",sourceMenuUrl:"./data/github/source-menu.json",rowClass:"menu-item"},Qm=()=>mh(Xm),$m=()=>(0,f.jsxs)("header",{className:Hm,children:[(0,f.jsx)(Mm,{}),(0,f.jsx)(Am,{className:Gm,title:Vm}),(0,f.jsx)(Pm,{className:zm,caption:Vm}),(0,f.jsx)(Rt,{className:qm,caption:"Library",title:"Library Browser",hotKey:"L",timeout:0,onClick:Qm}),(0,f.jsx)(Rt,{caption:"Watch",title:"Watch Browser",hotKey:"W",timeout:0,onClick:ph}),(0,f.jsx)(Nm,{style:Ym}),(0,f.jsxs)("div",{style:Jm,children:[(0,f.jsx)(Fm,{}),(0,f.jsx)(Rt,{className:Um,title:"About webapp Library Watch",hotKey:"A",timeout:0,onClick:Su,children:(0,f.jsx)(Tm,{style:Km})})]})]}),Zm="#80c040",eg={display:"inline-block",color:Zm,width:24,height:24,border:"2px solid "+Zm,borderRadius:"50%",textAlign:"center"},tg=e=>{let{step:t}=e;return(0,f.jsx)("span",{style:eg,children:t})},sg=e=>{let{isFirstBlank:t,color:s,children:o}=e;return(0,f.jsxs)("span",{style:{color:s,fontWeight:"bold"},children:[t?" ":null,o]})},og={display:"inline-block",padding:"0 8px"},ng=e=>{let{color:t,href:s,title:o,caption:n,children:i}=e;return(0,f.jsx)("span",{style:og,children:(0,f.jsx)(bl,{className:"source-link",style:{color:t},href:s,title:o,children:n||i})})},ig=["w","h","children"],rg=e=>{let{w:t,h:s=t,children:o}=e,n=is(e,ig);return(0,f.jsx)("svg",Object.assign({fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round"},n,{"aria-hidden":"true",viewBox:"0 0 "+t+" "+s,xmlns:"http://www.w3.org/2000/svg",children:o}))},lg=e=>{let{className:t,href:s,title:o}=e;return(0,f.jsx)(bl,{className:t,href:s,title:o,children:(0,f.jsx)(rg,{w:"16",strokeMiterlimit:"1.414",children:(0,f.jsx)("path",{d:"M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.4371.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"})})})},ag=()=>(0,f.jsx)(bl,{className:"icon__react",href:"https://github.com/facebook/react",title:"React",children:(0,f.jsxs)(rg,{w:"600",children:[(0,f.jsx)("circle",{cx:"299.529",cy:"299.628",r:"50.167"}),(0,f.jsx)("path",{fill:"none",d:"M299.529,197.628\r c67.356,0,129.928,9.665,177.107,25.907c56.844,19.569,91.794,49.233,91.794,76.093c0,27.991-37.041,59.503-98.083,79.728\r c-46.151,15.291-106.879,23.272-170.818,23.272c-65.554,0-127.63-7.492-174.29-23.441c-59.046-20.182-94.611-52.103-94.611-79.559\r c0-26.642,33.37-56.076,89.415-75.616C167.398,207.503,231.515,197.628,299.529,197.628z"}),(0,f.jsx)("path",{fill:"none",d:"M210.736,248.922\r c33.649-58.348,73.281-107.724,110.92-140.48c45.35-39.466,88.507-54.923,111.775-41.505\r c24.248,13.983,33.042,61.814,20.067,124.796c-9.81,47.618-33.234,104.212-65.176,159.601\r c-32.749,56.788-70.25,106.819-107.377,139.272c-46.981,41.068-92.4,55.929-116.185,42.213\r c-23.079-13.31-31.906-56.921-20.834-115.233C153.281,368.316,176.758,307.841,210.736,248.922z"}),(0,f.jsx)("path",{fill:"none",d:"M210.821,351.482\r c-33.746-58.292-56.731-117.287-66.312-166.255c-11.544-58.999-3.382-104.109,19.864-117.566\r c24.224-14.024,70.055,2.244,118.14,44.94c36.356,32.28,73.688,80.837,105.723,136.173c32.844,56.733,57.461,114.209,67.036,162.582\r c12.117,61.213,2.309,107.984-21.453,121.74c-23.057,13.348-65.249-0.784-110.239-39.499\r C285.567,460.886,244.898,410.344,210.821,351.482z"})]})}),cg={paddingTop:20,textAlign:"center"},dg=()=>(0,f.jsxs)("div",{style:cg,children:[(0,f.jsx)(lg,{className:"icon__github",title:"GitHub Library Watch",href:"https://github.com/ZhnZhn/library-watch.git"}),(0,f.jsx)(ag,{})]}),pg={display:"block"},ug={display:"none"},hg={overflowY:"auto",height:"92%",paddingRight:10},mg={color:"grey",padding:"0 5px 0 16px",lineHeight:1.4,fontWeight:"bold"},gg={marginBottom:"1em"},xg={marginTop:3},fg=()=>{const[e,t,s,o]=Mu(!0);ku((e=>{e&&e.is&&t()})),nu((e=>{e&&(e.Comp||e.chartCont)&&s()}));const[n,i]=e?[pg,"show-popup"]:[ug];return(0,f.jsxs)("div",{className:i,style:Object.assign({},cp,n),role:"presentation",onKeyDown:o,children:[(0,f.jsx)(Gu,{caption:"About",onClose:s}),(0,f.jsx)($d,{style:hg,children:(0,f.jsxs)("div",{style:mg,children:[(0,f.jsxs)("p",{children:[(0,f.jsx)(sg,{color:"#80c040",children:"Library Watch"}),(0,f.jsx)(sg,{color:"grey",isFirstBlank:!0,children:"is a SPA RESTful client."})]}),(0,f.jsx)("p",{style:gg,children:"By means of web app Library-Watch, it is possible to view information about GitHub's repositories, NPM's packages, StackOverflows's questions."}),(0,f.jsxs)("p",{style:gg,children:[(0,f.jsx)(sg,{color:"grey",children:"Information API providers:"}),(0,f.jsx)(ng,{href:"https://crates.io/",color:"#009ae5",title:"crates.io",caption:"Crates.io"}),(0,f.jsx)(ng,{href:"https://www.github.com/",color:"#009ae5",title:"GitHub",caption:"GitHub"}),(0,f.jsx)(ng,{href:"https://www.npmjs.com/",color:"#273547",title:"NPM",caption:"NPM"}),(0,f.jsx)(ng,{href:"https://api-docs.npms.io/",color:"#273547",title:"NPMS.IO",caption:"NPMS.IO"}),(0,f.jsx)(ng,{href:"https://bundlephobia.com/",color:"#273547",title:"Bundlephobia.com",caption:"Bundlephobia.com"}),(0,f.jsx)(ng,{href:"https://stackexchange.com/",color:"#3186C9",title:"StackExchange",caption:"StackExchange"}),(0,f.jsx)(ng,{href:"https://gs.statcounter.com/",color:"#009ae5",title:"Statcounter",caption:"Statcounter"})]}),(0,f.jsxs)("p",{children:[(0,f.jsx)(tg,{step:"1"}),(0,f.jsx)(sg,{color:"black",isFirstBlank:!0,children:"Please, choose an information Browser from the header bar."})]}),(0,f.jsxs)("p",{style:xg,children:[(0,f.jsx)(tg,{step:"2"}),(0,f.jsx)(sg,{color:"black",isFirstBlank:!0,children:"Next, choose an information menu item in a Browser."})]}),(0,f.jsxs)("p",{style:xg,children:[(0,f.jsx)(tg,{step:"3"}),(0,f.jsx)(sg,{color:"black",isFirstBlank:!0,children:"Enter repository or package name in a draggable Dialog."})]}),(0,f.jsxs)("p",{style:xg,children:[(0,f.jsx)(tg,{step:"4"}),(0,f.jsx)(sg,{color:"black",isFirstBlank:!0,children:"Click a button Load."})]}),(0,f.jsx)("p",{style:xg,children:(0,f.jsx)(sg,{color:"grey",children:"The result will be shown in an Item component in a Container."})}),(0,f.jsx)("p",{style:Object.assign({},gg,xg),children:(0,f.jsx)(sg,{color:"grey",children:"Also, it possible to add an item to Watch Browser and save to LocalStorage."})}),(0,f.jsx)("p",{style:gg,children:"After clicking a button Show in a Dialog opens Container with Items or empty. After closing a Container all Items remains. In one-time max three Item Dialogs can be opened."}),(0,f.jsxs)("p",{children:[(0,f.jsx)(sg,{color:"grey",children:"In that case of using"}),(0,f.jsx)(ng,{href:"https://developer.github.com/v3/#rate-limiting",color:"#009ae5",isFirstBlank:!0,title:"GitHub API v3 Rate Limiting",children:"GitHub"}),(0,f.jsxs)(sg,{color:"grey",isFirstBlank:!0,children:["API provider, exists some restriction on frequency and amount queries (",(0,f.jsx)(sg,{color:"#2f7ed8",children:"60 calls per hour, 10 requests per minute for Search API"}),(0,f.jsx)(sg,{color:"grey",children:")."})]})]}),(0,f.jsx)(dg,{})]})})]})},jg=()=>Lu(ee),yg=()=>Lu(te),bg=uh,vg=e=>Lu(Z,e),Cg=r(Lu,se,{onLoad:e=>{try{const{progressEvent:t}=e;Zr(tm(),JSON.parse(t.target.result)),$h({isWatchEdited:!0,watchList:Object.assign({},tm())})}catch(e){Ru(Object.assign({},Me))}}}),wg=(e,t)=>{t.stopPropagation(),Cm(e)},kg=()=>{const e="WatchItems_"+$n(Date.now())+".json";yh(tm(),e)},Sg="bt__watch__bar",Tg={marginBottom:10},Ig={marginLeft:20},Og=e=>{let{is:t}=e;return t?(0,f.jsxs)("div",{style:Tg,children:[(0,f.jsx)(fo,{caption:"GROUP",title:"Edit Group",className:Sg,isWithoutDefault:!0,onClick:jg}),(0,f.jsx)(fo,{caption:"LIST",title:"Edit Group List",className:Sg,isWithoutDefault:!0,style:Ig,onClick:yg}),(0,f.jsx)(fo,{caption:"DB",title:"Double Watch Browser",className:Sg,isWithoutDefault:!0,style:Ig,onClick:bg})]}):null},Ng={fromLevel3(e){const t="caption",s=[];for(let o of e.groups||[])for(let e of o.lists||[])for(let n of e.items||[])n.topic=o[t]+"/"+e[t],s.push(n);return s}},Lg={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},Dg={},Rg=e=>{let{item:t=Dg,propCaption:s}=e;return(0,f.jsx)("div",{style:Lg,children:t[s]})},Eg={width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"rgb(164, 135, 212)"},_g=e=>{const{item:t}=e;return(0,f.jsxs)("div",{children:[(0,f.jsx)(Rg,Object.assign({},e)),(0,f.jsx)("div",{style:Eg,children:t.topic})]})},Wg=()=>{},Mg=(0,l.memo)((e=>{let{style:t,data:s,onSelect:o=Wg}=e;const n=(0,l.useCallback)((e=>{e&&o(e)}),[o]),i=Ng.fromLevel3(s);return(0,f.jsx)("div",{style:t,children:(0,f.jsx)(Tn,{width:"330",placeholder:"Find Item",propCaption:"caption",options:i,ItemOptionComp:_g,onSelect:n})})}),((e,t)=>!t.isShouldUpdate)),Ag={width:"100%",padding:"0 0 8px 0"},Pg=e=>{let{isShow:t,isShouldUpdate:s,data:o}=e;return o?(0,f.jsx)(ms,{isShow:t,children:(0,f.jsx)(Mg,{style:Ag,data:o,isShouldUpdate:s,onSelect:vg})}):null},Bg={GROUP:"GROUP",C_GROUP_ENTER:"#1b2836",LIST:"LIST",C_LIST_ENTER:"#80c040",ITEM:"ITEM"},Fg=e=>JSON.parse(e.dataTransfer.getData("text")),Vg="border-bottom",Hg="border-left";let Gg,Ug,zg,qg;const Kg=e=>e.currentTarget.style,Yg=(e,t)=>(e=>"4px solid "+e)((e=>-1!==Gg.indexOf(e))(e)?t||"green":"red"),Jg=e=>{const t=Ug.style;Kg(e).removeProperty(Hg),t.removeProperty("border"),t.setProperty(Vg,zg)},Xg=Object.assign,Qg=e=>{let{event:t,dragId:s,xType:o}=e;Xg(t.dataTransfer,{effectAllowed:"move",dropEffect:"move"}).setData("text",JSON.stringify({dragId:s,xType:o}))},$g=(e,t)=>(s,o)=>{((e,t)=>{Ug=e.currentTarget,Gg=t,zg=Kg(e).getPropertyValue(Vg)})(o,e),Qg({event:o,dragId:t(s),xType:e[0]})},Zg=(e,t)=>s=>{s.preventDefault(),((e,t,s)=>{const o=Kg(e);qg=o.getPropertyValue(Hg),o.setProperty(Hg,Yg(t,s))})(s,e,t)},ex=e=>{e.preventDefault()},tx=e=>{e.preventDefault(),(e=>{const t=Kg(e);t.removeProperty(Hg),t.setProperty(Hg,qg)})(e)},sx=(e,t,s,o,n,i,l)=>i?{draggable:!0,onDragStart:r(e,l),onDrop:r(t,l),onDragEnter:s,onDragOver:o,onDragLeave:n}:void 0,ox=e=>{let{caption:t}=e;return t+";"},nx=$g([Bg.GROUP],ox),ix=Zg(Bg.GROUP,Bg.C_GROUP_ENTER),rx=r(sx,nx,((e,t)=>{Jg(t);const{xType:s,dragId:o}=Fg(t),n=ox(e);if(s===Bg.GROUP){if(o===n)return;t.preventDefault(),jm({dragId:o,dropId:n})}else s===Bg.LIST&&(t.preventDefault(),fm({dragId:o,dropId:n}))}),ix,ex,tx),lx=e=>{let{groupCaption:t,caption:s}=e;return t+";"+s+";"},ax=$g([Bg.LIST,Bg.GROUP],lx),cx=Zg(Bg.LIST,Bg.C_LIST_ENTER),dx=r(sx,ax,((e,t)=>{Jg(t);const{xType:s,dragId:o}=Fg(t),n=lx(e);if(s===Bg.LIST){if(o===n)return;t.preventDefault(),fm({dragId:o,dropId:n})}else s===Bg.ITEM&&(t.preventDefault(),xm({dragId:o,dropId:n}))}),cx,ex,tx),px=e=>{let{groupCaption:t,listCaption:s,caption:o}=e;return t+";"+s+";"+o},ux=$g([Bg.ITEM,Bg.LIST],px),hx=Zg(Bg.ITEM,Bg.C_LIST_ENTER),mx=r(sx,ux,((e,t)=>{Jg(t);const{xType:s,dragId:o}=Fg(t),n=px(e);if(s===Bg.ITEM){if(o===n)return;t.preventDefault(),xm({dragId:o,dropId:n})}}),hx,ex,tx),gx={position:"relative",paddingRight:40,paddingTop:5,paddingBottom:5,paddingLeft:14,lineHeight:1.4},xx={display:"inline-block",verticalAlign:"middle",width:"100%",maxWidth:250,textOverflow:"ellipsis",overflow:"hidden"},fx={position:"absolute",right:0},jx={float:"right"},yx=e=>{let{version:t,date:s}=e;return t?(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{children:t}),(0,f.jsx)("span",{style:jx,children:(s||"").split(" ")[0]})]}):null},bx=e=>{let{isModeEdit:t,item:s,className:o,onClick:n,onClose:i,dndItemHandlers:r}=e;const{repo:l,version:a,date:c}=s,d=Mt(n);return(0,f.jsxs)("div",Object.assign({role:"menuitem",tabIndex:"0",className:o,style:gx,onClick:n,onKeyDown:d},r,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:xx,children:l}),t?(0,f.jsx)(Zs,{style:fx,onClose:i}):null]}),a?(0,f.jsx)(yx,{version:a,date:c}):null]}))},vx=ht("row__topic"),Cx=e=>{let{isModeEdit:t,items:s,groupCaption:o,listCaption:n}=e;return _(s,(e=>{const{caption:s}=e,i={groupCaption:o,listCaption:n,caption:s};return(0,f.jsx)(bx,{className:vx,isModeEdit:t,item:e,onClick:r(vg,e),onClose:r(wg,i),dndItemHandlers:mx(t,i)},s)}))},wx={marginLeft:8,lineHeight:2,borderLeft:"1px solid yellow"},kx={paddingLeft:12},Sx=e=>{let{isModeEdit:t,groupCaption:s,lists:o}=e;return _(o,(e=>{let{caption:o,items:n}=e;return(0,f.jsx)(Kl,{fillOpen:"#80c040",style:wx,styleCaptionRow:kx,caption:o,dndHandlers:dx(t,{groupCaption:s,caption:o}),children:(0,f.jsx)(Cx,{isModeEdit:t,items:n,groupCaption:s,listCaption:o})},o)}))},Tx={lineHeight:2},Ix={paddingLeft:6},Ox=e=>{let{refFirstItem:t,isModeEdit:s,groups:o}=e;return _(o,((e,o)=>{let{caption:n,lists:i}=e;return(0,f.jsx)(Kl,{refItem:0===o?t:void 0,style:Tx,styleCaptionRow:Ix,caption:n,dndHandlers:rx(s,{caption:n}),children:(0,f.jsx)(Sx,{isModeEdit:s,groupCaption:n,lists:i})},n)}))},Nx="browser-watch",Lx=e=>Nx+" "+Nx+"--"+e,Dx=Lx("1r"),Rx=Lx("2r"),Ex="bt__watch__caption",_x={maxWidth:500},Wx={minWidth:340},Mx={minWidth:310},Ax=e=>{let{isShow:t,isEditMode:s,isDoubleWatch:o,caption:n,browserType:i,useMsBrowser:r,useMsBrowserDynamic:a,useWatchList:c}=e;const d=(0,l.useRef)(!1),[p,u]=Qe(s),[h,m,g]=Qe(),[x,j,v,C,w,k,S]=Bu(t,tm),[T,I]=Vu(),[N,L]=(0,l.useMemo)((()=>[()=>{o?bg():w()},()=>{o||C()}]),[o]);r((e=>{e&&e.id===i&&(L(),I()||O(S))})),c((e=>{e&&(b(d,!0),j(e),g(!1))}));const{groups:D}=x||{},R=o?Mx:Wx,[E,_]=p?["V","Toggle to View Mode"]:["E","Toggle to Edit Mode"],W=!(!h||!y(d))&&(()=>(b(d,!1),!0)),M=((e,t)=>e&&t?Rx:e||t?Dx:Nx)(h,p);return(0,f.jsxs)(Hu,{isShow:v,style:_x,onKeyDown:k,children:[(0,f.jsxs)(Gu,{style:R,caption:n,onClose:N,children:[(0,f.jsx)(Nm,{className:Ex}),(0,f.jsx)(fo,{isWithoutDefault:!0,className:Ex,caption:E,title:_,onClick:u}),(0,f.jsx)(fo,{isWithoutDefault:!0,className:Ex,caption:"F",title:"Show/Hide : Find Item Input",onClick:m}),!o&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(fo,{isWithoutDefault:!0,className:Ex,caption:"B",title:"BackUp Watch Items to JSON File",onClick:kg}),(0,f.jsx)(fo,{isWithoutDefault:!0,className:Ex,caption:"L",title:"Load Watch Items from JSON File",onClick:Cg})]})]}),(0,f.jsx)(Og,{is:p}),(0,f.jsx)(Pg,{isShow:h,isShouldUpdate:W,data:x}),(0,f.jsx)($d,{className:M,onFocusIn:T,children:(0,f.jsx)(Ox,{refFirstItem:S,isModeEdit:p,groups:D})})]})},Px={zIndex:30,position:"absolute",top:70,left:10,width:"99%"},Bx=(e,t)=>{let s,o;for(o=0;o<e.length;o++)if(e[o].key===t){s=o;break}return[...e.slice(0,s),...e.slice(s+1),e[s]]},Fx=(e,t,s,o)=>(t.push(o),t.length>e?(s[t[0]]=!1,t.slice(1)):t),Vx={dialog:{},elementDialogs:[],openDialogs:[]},Hx=e=>{let{useDgOption:t,maxDialog:s}=e;const[o,n]=(0,l.useState)(Vx),{dialog:i,elementDialogs:r}=o;return t((e=>{if(e){const{dialogType:t,dialogComp:o}=e;n(o?e=>{const{dialog:n,elementDialogs:i,openDialogs:r}=e;return n[t]=!0,i.push(o),{dialog:n,elementDialogs:i,openDialogs:Fx(s,r,n,t)}}:e=>{const{dialog:o,elementDialogs:n,openDialogs:i}=e;let r;return o[t]||(o[t]=!0,r=Fx(s,i,o,t)),{dialog:o,elementDialogs:Bx(n,t),openDialogs:r||i}})}})),(0,f.jsx)("div",{style:Px,children:r.map((e=>{const{key:t}=e;return j(e,{isShow:i[t],onClose:()=>{return e=t,void n((t=>{const{dialog:s,openDialogs:o}=t;return s[e]=!s[e],Object.assign({},t,{dialog:s,openDialogs:s[e]?o:o.filter((t=>t!==e))})}));var e}})}))})},Gx=e=>{let{useMsBrowser:t,useMsBrowserDynamic:s,useWatchList:o,updateWatchAction:n,useDgOption:i}=e;const[r,a]=Qe(!1),[c,d]=(0,l.useState)([]);return t((e=>{e&&e.id===ie&&a()})),s((e=>{e&&e.elBrowser&&d((t=>[e.elBrowser,...t]))})),(0,f.jsxs)("div",{className:"hrz-container",children:[(0,f.jsx)(Ax,{caption:"Watch",browserType:ne,useMsBrowser:t,useWatchList:o}),r&&(0,f.jsx)(Ax,{isShow:!0,isEditMode:!0,isDoubleWatch:!0,caption:"Watch 2",browserType:ne,useMsBrowser:t,useWatchList:o}),c,(0,f.jsx)(Hx,{maxDialog:3,useDgOption:i})]})},Ux=()=>{const[e,t]=(0,l.useState)([]);return nu((e=>{e&&e.Comp&&t((t=>[e.Comp,...t]))})),(0,f.jsx)("div",{className:"hrz-container",children:e})},zx=e=>{let{isShow:t,onClose:s,children:o}=e;const[n,i]=t?["modal-root show-modal",lt]:["modal-root",ct];return(0,f.jsx)("div",{role:"presentation",className:n,style:i,onClick:s,children:o})},qx={isShow:!1,inits:{},shows:{},data:{},dialogs:[],currentDialog:null},Kx=e=>{let{useMdOption:t,routerDialog:s}=e;const[o,n]=(0,l.useState)(qx),{isShow:i,shows:r,data:a,dialogs:c,currentDialog:d}=o,p=e=>{n((t=>(t.shows[e]=!1,Object.assign({},t,{isShow:!1,currentDialog:null}))))};return t((e=>{if(e){const{modalDialogType:t}=e;n((o=>{const{inits:n,shows:i,data:r,dialogs:l}=o;return r[t]=e,i[t]=!0,n[t]||(l.push({type:t,Comp:s[t]}),n[t]=!0),Object.assign({},o,{isShow:!0,currentDialog:t})}))}})),(0,f.jsx)(zx,{isShow:i,onClose:()=>p(d),children:c.map((e=>{let{type:t,Comp:s}=e;return(0,f.jsx)(s,{isShow:r[t],data:a[t],onClose:()=>p(t)},t)}))})},Yx={color:"silver",stroke:"silver",backgroundColor:"#232f3b",padding:5,textAlign:"center",fontSize:18},Jx={position:"absolute",top:6,right:0},Xx=e=>{let{caption:t,onClose:s}=e;return(0,f.jsxs)("div",{style:Yx,children:[(0,f.jsx)("span",{className:ut,children:t}),(0,f.jsx)(Zs,{style:Jx,onClose:s})]})},Qx={opacity:0,transform:"scaleY(0)"},$x=Object.assign({},oo,{position:"absolute",top:"20%",left:"40%",display:"block",zIndex:10}),Zx=e=>{let{isShow:t,isWithButton:s=!0,timeout:o=450,style:n,caption:i,commandButtons:r,onClose:a,children:c}=e;const d=V(),p=At(a),u=(0,l.useRef)(),h=(0,l.useCallback)((e=>{e.stopPropagation()}),[]);let m,g;return(0,l.useEffect)((()=>{y(u)&&setTimeout(d,o)})),y(u)?(g=so,b(u,!1)):([m,g]=t?[eo,to]:["hide-popup",Qx],t||b(u,!0)),(0,f.jsxs)("div",{role:"dialog",tabIndex:"-1","aria-label":i,"aria-hidden":!t,className:m,style:Object.assign({},$x,n,g),onClick:h,onKeyDown:p,children:[(0,f.jsx)(Xx,{caption:i,onClose:a}),(0,f.jsx)("div",{children:c}),s&&(0,f.jsxs)("div",{style:io,children:[r,(0,f.jsx)(Rt,{caption:"Close",title:"Click to close modal dialog",timeout:0,onClick:a},"close")]})]})},ef={color:"#f44336",display:"inline-block",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},tf={color:"#a487d4",fontWeight:"bold"},sf={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre-line",fontWeight:"bold"},of=()=>{},nf=ze((e=>{let{isShow:t,data:s,onClose:o=of}=e;const{alertCaption:n,alertItemId:i,alertDescr:r,caption:l,itemId:a,descr:c}=s||{},d=n||l||"",p=(h=i||a)?h.substring(0,20)+"...":"",u=r||c||"";var h;return(0,f.jsxs)(Zx,{caption:"Alert",isShow:t,onClose:o,children:[(0,f.jsx)(xo,{children:(0,f.jsxs)("span",{style:ef,children:[(0,f.jsx)("span",{children:d}),(0,f.jsx)("span",{children:":"}),(0,f.jsx)("span",{style:tf,title:p,children:p})]})}),(0,f.jsx)(xo,{children:(0,f.jsx)("p",{style:sf,children:u})})]})})),rf={color:"#a487d4",width:400,paddingLeft:10,lineHeight:2,fontSize:"18px",fontWeight:"bold"},lf={color:"gray",width:400,paddingLeft:10,lineHeight:1.4,whiteSpace:"pre",fontWeight:"bold"},af=ze((e=>{let{isShow:t,data:s,onClose:o}=e;const{caption:n,descr:i}=s;return(0,f.jsxs)(Zx,{caption:"Information",isShow:t,onClose:o,children:[(0,f.jsx)(xo,{children:(0,f.jsx)("p",{style:rf,children:n})}),(0,f.jsx)(xo,{children:(0,f.jsx)("p",{style:lf,children:i})})]})})),cf="Choose a file...",df=()=>{},pf=e=>{let{as:t="text",onChange:s=df}=e;const[o,n]=(0,l.useState)(cf),i=(0,l.useCallback)((e=>{const o=[];for(let t=0;t<e.target.files.length;t++)o.push(e.target.files[t]);Promise.all(o.map((e=>new Promise(((s,o)=>{let n=new FileReader;switch(n.onload=t=>{s([t,e])},t.toLowerCase()){case"binary":n.readAsBinaryString(e);break;case"buffer":n.readAsArrayBuffer(e);break;case"text":default:n.readAsText(e);break;case"url":n.readAsDataURL(e)}}))))).then((e=>{const t=e&&e[0]?(e[0][1]||{}).name:cf;n(t),s(e)}))}),[]);return(0,f.jsxs)("div",{className:"_react-file-reader-input",children:[(0,f.jsx)("input",{className:"inputfile",type:"file",id:"file",name:"file",as:t,onChange:i}),(0,f.jsxs)("label",{htmlFor:"file",children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17",children:(0,f.jsx)("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})}),(0,f.jsx)("span",{children:o})]})]})},uf={minWidth:320},hf={margin:"16px 0"},mf={width:"100%",marginRight:16},gf=ze((e=>{let{isShow:t,data:s,onClose:o}=e;const{onLoad:n}=s,i=(0,l.useRef)(null),r=(0,l.useCallback)((e=>{const[t]=e||[],s=t?[t[0],t[1]]:null;b(i,s)}),[]),[a,c,d]=_t(((e,t)=>{const[s,o]=y(i)||[];s&&o?(n({progressEvent:s}),t()):e(["Please choose file for loading."])}),o);return(0,f.jsxs)(Zx,{style:uf,caption:"Load Watch Items from File",isShow:t,commandButtons:c,onClose:d,children:[(0,f.jsx)(xo,{style:hf,children:(0,f.jsx)(pf,{as:"text",onChange:r})}),(0,f.jsx)(xo,{style:mf,children:(0,f.jsx)(Oo,{validationMessages:a})})]})})),xf=e=>{const t=(0,l.useRef)(),{current:s}=t;return t.current=e,s},ff=()=>{const e=(0,l.useRef)(null),t=(0,l.useCallback)((t=>{e.current=t&&t.caption||null}),[]);return[e,t]},jf=e=>{let{style:t,caption:s,isCaption:o=!0,textStyle:n,text:i}=e;return(0,f.jsxs)(xo,{style:t,children:[(0,f.jsx)(Ao,{is:o,caption:s}),(0,f.jsx)("span",{style:n,children:i})]})},yf={fontWeight:"bold"},bf={lineHeight:2},vf={fontWeight:"bold",color:"gray"},Cf=ze((e=>{const t=xf(e),{isShow:s,data:o,onClose:n}=e,[i,r]=jn(null),[a,c]=ff(),[d,p]=(0,l.useState)((()=>({groupOptions:im(),listOptions:[]}))),{groupOptions:u,listOptions:h}=d,[m,g,x]=st(),j=(0,l.useCallback)((e=>{const{caption:t,lists:s}=e||{},o=t?(p((e=>Object.assign({},e,{listOptions:s||[]}))),t):null;i(o)}),[i]),v=(0,l.useCallback)((()=>{x(),n()}),[]),C=(0,l.useCallback)((()=>{const e=r(),t=y(a),s=[];if(e||s.push(Re("Group")),t||s.push(Re("List")),0===s.length){const{caption:s,config:n}=o;mm({caption:s,groupCaption:e,listCaption:t,config:n})}else g(s)}),[o]),w=(0,l.useMemo)((()=>[(0,f.jsx)(Rt,{caption:"Add",title:"Click to add to watch list",timeout:0,onClick:C},"add")]),[C]);om((e=>{e&&e.forActionType===Wh&&(e.message?g(e.messages):v())})),(0,l.useEffect)((()=>{if(t&&t!==e&&t.isShow!==s){const e=r(),t=im();if(t!==u)i(null),b(a,null),p({groupOptions:t,listOptions:[]});else if(e){const t=rm(e);t!==h&&(b(a,null),p((e=>Object.assign({},e,{listOptions:t}))))}}}));const{caption:k,config:S}=o,{descr:T}=S||{};return(0,f.jsxs)(Zx,{caption:"Add To Watch List",isShow:s,commandButtons:w,onClose:v,children:[(0,f.jsx)(In,{caption:"Group",options:u,onSelect:j}),(0,f.jsx)(In,{caption:"List",options:h,onSelect:c}),(0,f.jsx)(jf,{style:bf,caption:"Item",textStyle:yf,text:k}),(0,f.jsx)(jf,{style:bf,caption:"Descr",textStyle:vf,text:T}),(0,f.jsx)(Oo,{validationMessages:m})]})})),wf={fontWeight:"bold",color:"gray",padding:"8px 8px 0 8px"},kf={lineHeight:2},Sf={lineHeight:1.5},Tf={fontWeight:"bold"},If=ze((e=>{let{isShow:t,data:s,onClose:o}=e;const n=[(0,f.jsx)(Rt,{isPrimary:!0,caption:"Load",onClick:()=>{cu(re,ne,s),o()}},"load")],{caption:i,descr:r,date:l}=s;return(0,f.jsxs)(Zx,{caption:"Load Watch Item",isShow:t,commandButtons:n,onClose:o,children:[(0,f.jsx)(jf,{style:Sf,isCaption:!1,text:r,textStyle:wf},"1"),(0,f.jsx)(jf,{style:kf,caption:"Item",text:i,textStyle:Tf},"2"),l&&(0,f.jsx)(jf,{style:kf,caption:"Date",text:l,textStyle:Tf},"3")]})})),Of=e=>it("tab",[e,"tab--selected"]),Nf=(e,t)=>"tab-"+e+"-"+t,Lf=(e,t)=>"tabpanel-"+e+"-"+t,Df=["ariaLabel","id","isShow","width","height","children"],Rf={margin:"5px 5px 10px 24px"},Ef={width:"100%",height:"100%"},_f=Object.assign({},lt,Ef),Wf=e=>{let{ariaLabel:t,id:s,isShow:o,width:n,height:i,children:r}=e,a=is(e,Df);const[c,d]=(0,l.useState)(0),p=e=>e===c,u=(e,t)=>{const o=e=>{const t=((e,t)=>-1===e?t-1:e===t?0:e)(e,r.length);(e=>{I(document.getElementById(e))})(Nf(s,t)),d(t)},{keyCode:n}=t,i=39===n?1:37===n?-1:0;i&&((e=>{e.stopPropagation(),e.preventDefault()})(t),o(e+i))};return(0,f.jsxs)("div",{style:{width:n,height:i},children:[(0,f.jsx)("div",{role:"tablist","aria-label":t,"aria-orientation":"horizontal",style:Rf,children:_(r,((e,t)=>{const o=p(t);return j(e,{isSelected:o,tabId:Nf(s,t),tabPanelId:Lf(s,t),className:Of(o),onClick:()=>d(t),onKeyDown:e=>u(t,e)},t)}))}),(0,f.jsx)("div",{style:Ef,children:_(r,((e,t)=>{const n=p(t);return(0,f.jsx)("div",{style:n?_f:ct,role:"tabpanel",id:Lf(s,t),"aria-labelledby":Nf(s,t),children:j(e.props.children,Object.assign({isVisible:m(o)?o&&n:n},a))},t)}))})]})},Mf=e=>{let{className:t,tabId:s,tabPanelId:o,title:n,isSelected:i,onClick:r,onKeyDown:l}=e;return(0,f.jsx)("button",{type:"button",role:"tab",className:t,id:s,tabIndex:i?"0":"-1","aria-selected":i,"aria-controls":o,onClick:r,onKeyDown:l,children:n})},Af={textAlign:"right",margin:"8px 4px 10px 0",cursor:"default"},Pf=e=>{let{caption:t,onClick:s,onClear:o,onClose:n}=e;return(0,f.jsxs)("div",{style:Af,children:[(0,f.jsx)(Rt,{isPrimary:!0,caption:t,timeout:0,onClick:s}),o&&(0,f.jsx)(Rt,{caption:"Clear",timeout:0,onClick:o}),(0,f.jsx)(Rt,{caption:"Close",timeout:0,onClick:n})]})},Bf=(e,t,s)=>{om((o=>{o&&o.forActionType===e&&(o.messages?t(o.messages):s())}))},Ff=e=>{let{forActionType:t,msgOnIsEmptyName:s,onCreate:o,onClose:n}=e;const i=(0,l.useRef)(),[r,a,c]=st((()=>y(i).setValue(""))),d=(0,l.useCallback)((()=>{const e=y(i),t=e.getValue();t?o({caption:t}):(e.setValue(""),a([s("Group")]))}),[]);return Bf(t,a,c),(0,f.jsxs)("div",{children:[(0,f.jsx)(Bo,{refEl:i,caption:"Group"}),(0,f.jsx)(Oo,{validationMessages:r}),(0,f.jsx)(Pf,{caption:"Create",onClick:d,onClear:c,onClose:n})]})},Vf=e=>{const[t,s]=P(im),o=V();return[t,()=>{s.current=im(),o()}]},Hf=()=>{},Gf=function(e,t,s,o){void 0===o&&(o=Hf);const[n,i]=Vf();return Bf(e,t,s),sm((e=>{e&&(i(),o())})),n},Uf=e=>{let{forActionType:t,msgOnNotSelect:s,msgOnIsEmptyName:o,onRename:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=ff(),[d,p,u]=st((()=>y(r).setValue(""))),h=Gf(t,p,u),m=(0,l.useCallback)((()=>{const e=y(r).getValue(),t=y(a);if(e&&t)n({captionFrom:t,captionTo:e});else{const n=[];t||n.push(s("Group From")),e||n.push(o("Group To")),p(n)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(In,{caption:"Group From",options:h,onSelect:c}),(0,f.jsx)(Bo,{refEl:r,caption:"Group To"}),(0,f.jsx)(Oo,{validationMessages:d}),(0,f.jsx)(Pf,{caption:"Rename",onClick:m,onClear:u,onClose:i})]})},zf=e=>{let{forActionType:t,msgOnNotSelect:s,onDelete:o,onClose:n}=e;const[i,r]=ff(),[a,c,d]=st(),p=Gf(t,c,d),u=(0,l.useCallback)((()=>{const e=y(i);e?o({caption:e}):c([s("Group")])}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(In,{caption:"Group",options:p,onSelect:r}),(0,f.jsx)(Oo,{validationMessages:a}),(0,f.jsx)(Pf,{caption:"Delete",onClick:u,onClose:n})]})},qf=ze((e=>{let{isShow:t,store:s,onClose:o}=e;return(0,f.jsx)(Zx,{caption:"Watch Groups Edit",isShow:t,isWithButton:!1,onClose:o,children:(0,f.jsxs)(Wf,{width:"380px",children:[(0,f.jsx)(Mf,{title:"Create",children:(0,f.jsx)(Ff,{forActionType:Nh,msgOnIsEmptyName:De,onCreate:am,onClose:o})}),(0,f.jsx)(Mf,{title:"Rename",children:(0,f.jsx)(Uf,{forActionType:Lh,msgOnNotSelect:Re,msgOnIsEmptyName:De,onRename:cm,onClose:o})}),(0,f.jsx)(Mf,{title:"Delete",children:(0,f.jsx)(zf,{forActionType:Dh,msgOnNotSelect:Re,onDelete:dm,onClose:o})})]},"1")})})),Kf=e=>{let{forActionType:t,msgOnNotSelect:s,msgOnIsEmptyName:o,onCreate:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c]=ff(),[d,p,u]=st((()=>y(r).setValue(""))),h=Gf(t,p,u),m=(0,l.useCallback)((()=>{const e=y(r).getValue(),t=y(a);if(t&&e)n({captionGroup:t,captionList:e});else{const n=[];t||n.push(s("In Group")),e||n.push(o("List")),p(n)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(In,{caption:"In Group",options:h,onSelect:c}),(0,f.jsx)(Bo,{refEl:r,caption:"List"}),(0,f.jsx)(Oo,{validationMessages:d}),(0,f.jsx)(Pf,{caption:"Create",onClick:m,onClear:u,onClose:i})]})},Yf=["refEl"],Jf=e=>{let{refEl:t}=e,s=is(e,Yf);const o=xf(s),n=(0,l.useRef)(null),[i,r]=ff(),[a,c]=(0,l.useState)([]),d=(0,l.useCallback)((e=>{e&&e.caption?(b(n,e.caption),c(e.lists||[])):b(n,null)}),[]),{getWatchListsByGroup:p,groupCaption:u,groupOptions:h,listCaption:m}=s;return(0,l.useEffect)((()=>{if(o&&s!==o){const e=y(n);s.groupOptions!==o.groupOptions?(b(n,null),b(i,null),c([])):e&&c((t=>{const s=p(e);return s!==t?(b(i,null),s):t}))}})),(0,l.useImperativeHandle)(t,(()=>({getValue:()=>({captionGroup:y(n),captionList:y(i)}),setValueNull:()=>{b(n,null),b(i,null)}}))),(0,f.jsxs)("div",{children:[(0,f.jsx)(In,{caption:u,options:h,onSelect:d}),(0,f.jsx)(In,{caption:m,options:a,onSelect:r})]})},Xf=e=>{let{getWatchListsByGroup:t,forActionType:s,msgOnIsEmptyName:o,msgOnNotSelect:n,onRename:i,onClose:r}=e;const a=(0,l.useRef)(),c=(0,l.useRef)(),[d,p,u]=st((()=>y(c).setValue(""))),h=V(),m=Gf(s,p,u,h),g=(0,l.useCallback)((()=>{const{captionGroup:e,captionList:t}=y(a).getValue(),s=y(c).getValue();if(e&&t&&s)i({captionGroup:e,captionListFrom:t,captionListTo:s});else{const i=[];e||i.push(n("Group")),t||i.push(n("List From")),s||i.push(o("List To")),p(i)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Jf,{refEl:a,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:m,listCaption:"List From"}),(0,f.jsx)(Bo,{refEl:c,caption:"List To"}),(0,f.jsx)(Oo,{validationMessages:d}),(0,f.jsx)(Pf,{caption:"Rename",onClick:g,onClear:u,onClose:r})]})},Qf=e=>{let{getWatchListsByGroup:t,forActionType:s,msgOnNotSelect:o,onDelete:n,onClose:i}=e;const r=(0,l.useRef)(),[a,c,d]=st(),p=V(),u=Gf(s,c,d,p),h=(0,l.useCallback)((()=>{const e=y(r),{captionGroup:t,captionList:s}=e.getValue();if(t&&s)n({captionGroup:t,captionList:s});else{const e=[];t||e.push(o("Group")),s||e.push(o("List")),c(e)}}),[]);return(0,f.jsxs)("div",{children:[(0,f.jsx)(Jf,{refEl:r,getWatchListsByGroup:t,groupCaption:"In Group",groupOptions:u,listCaption:"List"}),(0,f.jsx)(Oo,{validationMessages:a}),(0,f.jsx)(Pf,{caption:"Delete",onClick:h,onClear:d,onClose:i})]})},$f=ze((e=>{let{isShow:t,store:s,onClose:o}=e;return(0,f.jsx)(Zx,{caption:"Watch Lists Edit",isShow:t,isWithButton:!1,onClose:o,children:(0,f.jsxs)(Wf,{width:"380px",children:[(0,f.jsx)(Mf,{title:"Create",children:(0,f.jsx)(Kf,{forActionType:Rh,msgOnNotSelect:Re,msgOnIsEmptyName:De,onCreate:pm,onClose:o})}),(0,f.jsx)(Mf,{title:"Rename",children:(0,f.jsx)(Xf,{getWatchListsByGroup:rm,forActionType:Eh,msgOnNotSelect:Re,msgOnIsEmptyName:De,onRename:um,onClose:o})}),(0,f.jsx)(Mf,{title:"Delete",children:(0,f.jsx)(Qf,{getWatchListsByGroup:rm,forActionType:_h,msgOnNotSelect:Re,onDelete:hm,onClose:o})})]},"1")})})),Zf={[X]:nf,[Q]:af,[se]:gf,[$]:Cf,[Z]:If,[ee]:qf,[te]:$f},ej=e=>(km(),(0,l.useEffect)((()=>{$h({watchList:Ih(Yh)[0]||Oh})}),[]),(0,f.jsxs)("div",{children:[(0,f.jsx)($m,{}),(0,f.jsxs)("div",{className:"component-container",children:[(0,f.jsx)(Gx,{useMsBrowser:ch,useMsBrowserDynamic:hh,useWatchList:sm,useDgOption:Tu}),(0,f.jsx)(fg,{}),(0,f.jsx)(Ux,{})]}),(0,f.jsx)(Kx,{useMdOption:Nu,routerDialog:Zf})]}));i().config("https://59cd430997004591af3320a9875237d7@sentry.io/99461").install();const tj=()=>{document.getElementById("preloader")&&document.body.removeChild(document.getElementById("preloader")),(0,o.createRoot)(document.getElementById("app")).render((0,f.jsx)(ej,{}))};!function(){const e=window.preloader;e&&(e.isErrCss||e.isErrScript)?e.stop():tj()}()}},e=>{var t;t=912,e(e.s=t)}]);