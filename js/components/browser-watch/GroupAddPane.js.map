{"version":3,"sources":["../../../src/components/browser-watch/GroupAddPane.jsx"],"names":["Styles","COMMAND_DIV","cursor","float","marginTop","marginBottom","marginRight","GroupAddPane","displayName","getInitialState","validationMessages","componentDidMount","unsubscribe","props","store","listen","_onStore","componentWillUnmount","actionType","data","actionCompleted","actionFailed","forActionType","_handlerClear","setState","messages","inputText","setValue","state","length","_handlerCreate","caption","getValue","onCreate","msgOnIsEmptyName","render","onClose","c"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAIA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAAS;AACbC,eAAc;AACXC,YAAQ,SADG;AAEXC,WAAO,OAFI;AAGXC,eAAW,KAHA;AAIXC,kBAAc,MAJH;AAKXC,iBAAa;AALF;AADD,CAAf;;AANA;;AAgBA,IAAMC,eAAe,gCAAiB;AACpCC,eAAc,cADsB;AAEpC;;;;;;;;;;;AAWAC,iBAboC,6BAanB;AACf,WAAO;AACLC,0BAAqB;AADhB,KAAP;AAGD,GAjBmC;AAmBpCC,mBAnBoC,+BAmBjB;AACjB,SAAKC,WAAL,GAAmB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwB,KAAKC,QAA7B,CAAnB;AACD,GArBmC;AAsBpCC,sBAtBoC,kCAsBd;AACpB,SAAKL,WAAL;AACD,GAxBmC;AAyBpCI,UAzBoC,oBAyB3BE,UAzB2B,EAyBfC,IAzBe,EAyBV;AAClB;AADkB,iBAE+B,KAAKN,KAFpC;AAAA,QAEjBO,eAFiB,UAEjBA,eAFiB;AAAA,QAEAC,YAFA,UAEAA,YAFA;AAAA,QAEcC,aAFd,UAEcA,aAFd;;AAGxB,QAAIJ,eAAeE,eAAf,IAAkCD,KAAKG,aAAL,KAAuBA,aAA7D,EAA2E;AACxE,WAAKC,aAAL;AACF,KAFD,MAEO,IAAIL,eAAeG,YAAf,IAA+BF,KAAKG,aAAL,KAAuBA,aAA1D,EAAwE;AAC5E,WAAKE,QAAL,CAAc,EAACd,oBAAoBS,KAAKM,QAA1B,EAAd;AACF;AACF,GAjCmC;AAmCpCF,eAnCoC,2BAmCrB;AACb,SAAKG,SAAL,CAAeC,QAAf,CAAwB,EAAxB;AACA,QAAI,KAAKC,KAAL,CAAWlB,kBAAX,CAA8BmB,MAA9B,GAAqC,CAAzC,EAA2C;AACxC,WAAKL,QAAL,CAAc,EAACd,oBAAoB,EAArB,EAAd;AACF;AACF,GAxCmC;AA0CpCoB,gBA1CoC,4BA0CpB;AACb,QAAMC,UAAU,KAAKL,SAAL,CAAeM,QAAf,EAAhB;AACA,QAAID,OAAJ,EAAY;AACV,WAAKlB,KAAL,CAAWoB,QAAX,CAAoB,EAACF,gBAAD,EAApB;AACD,KAFD,MAEO;AACL,WAAKL,SAAL,CAAeC,QAAf,CAAwB,EAAxB;AACA,WAAKH,QAAL,CAAc,EAACd,oBAAmB,CAAC,KAAKG,KAAL,CAAWqB,gBAAX,CAA4B,OAA5B,CAAD,CAApB,EAAd;AACD;AACH,GAlDmC;AAoDpCC,QApDoC,oBAoD5B;AAAA;;AACA,QAACC,OAAD,GAAY,KAAKvB,KAAjB,CAACuB,OAAD;AAAA,QACC1B,kBADD,GACuB,KAAKkB,KAD5B,CACClB,kBADD;;AAEN,WACE;AAAA;AAAA;AACE,oCAAC,sBAAD;AACG,aAAK;AAAA,iBAAK,MAAKgB,SAAL,GAAiBW,CAAtB;AAAA,SADR;AAEG,iBAAS;AAFZ,QADF;AAKE,oCAAC,oCAAD;AACG,4BAAoB3B;AADvB,QALF;AAQE;AAAA;AAAA,UAAK,OAAOV,OAAOC,WAAnB;AACC,sCAAC,uBAAD;AACG,gBAAK,OADR;AAEG,mBAAQ,QAFX;AAGG,mBAAS,KAAK6B;AAHjB,UADD;AAMC,sCAAC,uBAAD;AACG,gBAAK,OADR;AAEG,mBAAQ,OAFX;AAGG,mBAAS,KAAKP;AAHjB,UAND;AAWC,sCAAC,uBAAD;AACG,gBAAK,OADR;AAEG,mBAAQ,OAFX;AAGG,mBAASa;AAHZ;AAXD;AARF,KADF;AA4BD;AAnFmC,CAAjB,CAArB;;kBAsFe7B,Y","file":"GroupAddPane.js","sourcesContent":["import React from 'react';\r\nimport createReactClass from 'create-react-class'\r\n\r\n//import PropTypes from 'prop-types'\r\n\r\nimport RowInputText from './RowInputText';\r\nimport ToolBarButton from '../header/ToolBarButton';\r\nimport ValidationMessagesFragment from '../zhnMoleculs/ValidationMessagesFragment';\r\n\r\nconst Styles = {\r\n  COMMAND_DIV : {\r\n     cursor: 'default',\r\n     float: 'right',\r\n     marginTop: '8px',\r\n     marginBottom: '10px',\r\n     marginRight: '4px'\r\n  }\r\n}\r\n\r\nconst GroupAddPane = createReactClass({\r\n  displayName : 'GroupAddPane',\r\n  /*\r\n  propTypes : {\r\n    store : PropTypes.object,\r\n    actionCompleted : PropTypes.string,\r\n    actionFailed : PropTypes.string,\r\n    forActionType : PropTypes.string,\r\n    msgOnIsEmptyName : PropTypes.func,\r\n    onCreate : PropTypes.func,\r\n    onClose : PropTypes.func\r\n  },\r\n  */\r\n  getInitialState(){\r\n    return {\r\n      validationMessages : []\r\n    }\r\n  },\r\n\r\n  componentDidMount(){\r\n    this.unsubscribe = this.props.store.listen(this._onStore);\r\n  },\r\n  componentWillUnmount(){\r\n    this.unsubscribe();\r\n  },\r\n  _onStore(actionType, data){\r\n          //store\r\n    const {actionCompleted, actionFailed, forActionType} = this.props;\r\n    if (actionType === actionCompleted && data.forActionType === forActionType){\r\n       this._handlerClear();\r\n    } else if (actionType === actionFailed && data.forActionType === forActionType){\r\n       this.setState({validationMessages: data.messages});\r\n    }\r\n  },\r\n\r\n  _handlerClear(){\r\n    this.inputText.setValue('');\r\n    if (this.state.validationMessages.length>0){\r\n       this.setState({validationMessages: []});\r\n    }\r\n  },\r\n\r\n  _handlerCreate(){\r\n     const caption = this.inputText.getValue();\r\n     if (caption){\r\n       this.props.onCreate({caption});\r\n     } else {\r\n       this.inputText.setValue('');\r\n       this.setState({validationMessages:[this.props.msgOnIsEmptyName('Group')]});\r\n     }\r\n  },\r\n\r\n  render(){\r\n    const {onClose} = this.props\r\n        , {validationMessages} = this.state;\r\n    return (\r\n      <div>\r\n        <RowInputText\r\n           ref={c => this.inputText = c}\r\n           caption={'Group:'}\r\n        />\r\n        <ValidationMessagesFragment\r\n           validationMessages={validationMessages}\r\n         />\r\n        <div style={Styles.COMMAND_DIV}>\r\n         <ToolBarButton\r\n            type=\"TypeC\"\r\n            caption=\"Create\"\r\n            onClick={this._handlerCreate}\r\n         />\r\n         <ToolBarButton\r\n            type=\"TypeC\"\r\n            caption=\"Clear\"\r\n            onClick={this._handlerClear}\r\n         />\r\n         <ToolBarButton\r\n            type=\"TypeC\"\r\n            caption=\"Close\"\r\n            onClick={onClose}\r\n         />\r\n       </div>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\nexport default GroupAddPane\r\n"]}