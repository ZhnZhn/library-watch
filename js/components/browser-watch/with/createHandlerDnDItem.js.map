{"version":3,"sources":["../../../../src/components/browser-watch/with/createHandlerDnDItem.js"],"names":["createHandlerDnDItem","DRAG","WatchActions","_handlerDragStartItem","ev","groupCaption","listCaption","caption","dragStartWithDnDStyle","LIST","ITEM","dataTransfer","effectAllowed","dropEffect","_data","dragId","xType","setData","JSON","stringify","_handlerDropItem","dropWithDnDStyle","data","parse","getData","dropId","preventDefault","dragDropItem","undefined","_handlerDragEnterItem","dragEnterWithDnDStyle","_handlerDragOverItem","_handlerDragLeaveItem","dragLeaveWithDnDStyle"],"mappings":";;;;;AACA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAASC,IAAT,EAAeC,YAAf,EAA4B;AACvD,SAAO;AAELC,IAAAA,qBAFK,uCAEuDC,EAFvD,EAE0D;AAAA,UAAxCC,YAAwC,QAAxCA,YAAwC;AAAA,UAA1BC,WAA0B,QAA1BA,WAA0B;AAAA,UAAbC,OAAa,QAAbA,OAAa;AAC7D,WAAKC,qBAAL,CAA2BJ,EAA3B,EAA+B,CAACH,IAAI,CAACQ,IAAN,EAAYR,IAAI,CAACS,IAAjB,CAA/B;AACAN,MAAAA,EAAE,CAACO,YAAH,CAAgBC,aAAhB,GAA8B,MAA9B;AACAR,MAAAA,EAAE,CAACO,YAAH,CAAgBE,UAAhB,GAA2B,MAA3B,CAH6D,CAI7D;;AACA,UAAMC,KAAK,GAAG;AACZC,QAAAA,MAAM,EAAMV,YAAN,SAAsBC,WAAtB,SAAqCC,OAD/B;AAEZS,QAAAA,KAAK,EAAGf,IAAI,CAACS;AAFD,OAAd;AAIAN,MAAAA,EAAE,CAACO,YAAH,CAAgBM,OAAhB,CAAwB,MAAxB,EAAgCC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAAhC;AAED,KAbI;AAeLM,IAAAA,gBAfK,mCAeoDhB,EAfpD,EAeuD;AAAA,UAAzCC,YAAyC,SAAzCA,YAAyC;AAAA,UAA3BC,WAA2B,SAA3BA,WAA2B;AAAA,UAAdC,OAAc,SAAdA,OAAc;AACzD,WAAKc,gBAAL,CAAsBjB,EAAtB;AACM,UAAAkB,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWnB,EAAE,CAACO,YAAH,CAAgBa,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,UACER,KADF,GACoBM,IADpB,CACEN,KADF;AAAA,UACSD,MADT,GACoBO,IADpB,CACSP,MADT;AAAA,UAEAU,MAFA,GAEYpB,YAFZ,SAE4BC,WAF5B,SAE2CC,OAF3C;;AAIN,UAAIS,KAAK,KAAKf,IAAI,CAACS,IAAnB,EAAyB;AACvB,YAAKK,MAAM,KAAKU,MAAhB,EAAwB;AACtBrB,UAAAA,EAAE,CAACsB,cAAH;AACAxB,UAAAA,YAAY,CAACyB,YAAb,CAA0B;AACxBZ,YAAAA,MAAM,EAAGA,MADe;AAExBU,YAAAA,MAAM,EAAGA;AAFe,WAA1B;AAIF,SANA,MAMM;AACL,iBAAOG,SAAP;AACD;AACF;AACF,KAhCI;AAkCLC,IAAAA,qBAlCK,iCAkCiBzB,EAlCjB,EAkCoB;AACtBA,MAAAA,EAAE,CAACsB,cAAH;AACA,WAAKI,qBAAL,CAA2B1B,EAA3B,EAA+BH,IAAI,CAACS,IAApC;AACF,KArCI;AAsCLqB,IAAAA,oBAtCK,gCAsCgB3B,EAtChB,EAsCmB;AACrBA,MAAAA,EAAE,CAACsB,cAAH;AACF,KAxCI;AAyCLM,IAAAA,qBAzCK,iCAyCiB5B,EAzCjB,EAyCoB;AACtBA,MAAAA,EAAE,CAACsB,cAAH;AACA,WAAKO,qBAAL,CAA2B7B,EAA3B;AACF;AA5CI,GAAP;AA+CD,CAhDD;;eAkDeJ,oB","sourcesContent":["\r\nconst createHandlerDnDItem = function(DRAG, WatchActions){\r\n  return {\r\n\r\n    _handlerDragStartItem({groupCaption, listCaption, caption}, ev){\r\n      this.dragStartWithDnDStyle(ev, [DRAG.LIST, DRAG.ITEM]);\r\n      ev.dataTransfer.effectAllowed=\"move\";\r\n      ev.dataTransfer.dropEffect=\"move\";\r\n      //.setDragImage(img, 0, 0);\r\n      const _data = {\r\n        dragId : `${groupCaption};${listCaption};${caption}`,\r\n        xType : DRAG.ITEM\r\n      };\r\n      ev.dataTransfer.setData(\"text\", JSON.stringify(_data));\r\n\r\n    },\r\n\r\n    _handlerDropItem({ groupCaption, listCaption, caption }, ev){\r\n       this.dropWithDnDStyle(ev);\r\n       const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n           , { xType, dragId } = data\r\n           , dropId = `${groupCaption};${listCaption};${caption}`\r\n\r\n       if (xType === DRAG.ITEM) {\r\n         if ( dragId !== dropId) {\r\n           ev.preventDefault();           \r\n           WatchActions.dragDropItem({\r\n             dragId : dragId,\r\n             dropId : dropId\r\n           });\r\n        } else {\r\n          return undefined;\r\n        }\r\n      }\r\n    },\r\n\r\n    _handlerDragEnterItem(ev){\r\n       ev.preventDefault();\r\n       this.dragEnterWithDnDStyle(ev, DRAG.ITEM);\r\n    },\r\n    _handlerDragOverItem(ev){\r\n       ev.preventDefault();\r\n    },\r\n    _handlerDragLeaveItem(ev){\r\n       ev.preventDefault();\r\n       this.dragLeaveWithDnDStyle(ev);\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport default createHandlerDnDItem\r\n"],"file":"createHandlerDnDItem.js"}