{"version":3,"sources":["../../../../src/components/browser-watch/with/createHandlerDnDList.js"],"names":["createHandlerDnDList","DRAG","WatchActions","_handlerDragStartList","ev","groupCaption","caption","dragStartWithDnDStyle","GROUP","LIST","dataTransfer","effectAllowed","dropEffect","_data","dragId","xType","setData","JSON","stringify","_handlerDropList","dropWithDnDStyle","data","parse","getData","dropId","preventDefault","dragDropList","undefined","ITEM","dragDropItem","_handlerDragEnterList","dragEnterWithDnDStyle","_handlerDragOverList","_handlerDragLeaveList","dragLeaveWithDnDStyle"],"mappings":";;;;;AAEA,IAAMA,oBAAoB,GAAG,SAAvBA,oBAAuB,CAASC,IAAT,EAAeC,YAAf,EAA4B;AACvD,SAAO;AAELC,IAAAA,qBAFK,uCAE2CC,EAF3C,EAE8C;AAAA,UAA3BC,YAA2B,QAA3BA,YAA2B;AAAA,UAAbC,OAAa,QAAbA,OAAa;AAChD,WAAKC,qBAAL,CAA2BH,EAA3B,EAA+B,CAACH,IAAI,CAACO,KAAN,EAAaP,IAAI,CAACQ,IAAlB,CAA/B;AACAL,MAAAA,EAAE,CAACM,YAAH,CAAgBC,aAAhB,GAA8B,MAA9B;AACAP,MAAAA,EAAE,CAACM,YAAH,CAAgBE,UAAhB,GAA2B,MAA3B;AACA,UAAMC,KAAK,GAAG;AACZC,QAAAA,MAAM,EAAMT,YAAN,SAAsBC,OADhB;AAEZS,QAAAA,KAAK,EAAGd,IAAI,CAACQ;AAFD,OAAd;AAIAL,MAAAA,EAAE,CAACM,YAAH,CAAgBM,OAAhB,CAAwB,MAAxB,EAAgCC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAAhC;AACF,KAXI;AAaLM,IAAAA,gBAbK,mCAauCf,EAbvC,EAa0C;AAAA,UAA5BC,YAA4B,SAA5BA,YAA4B;AAAA,UAAdC,OAAc,SAAdA,OAAc;AAC5C,WAAKc,gBAAL,CAAsBhB,EAAtB,EAD4C,CAE5C;;AAEM,UAAAiB,IAAI,GAAGJ,IAAI,CAACK,KAAL,CAAWlB,EAAE,CAACM,YAAH,CAAgBa,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,UACER,KADF,GACoBM,IADpB,CACEN,KADF;AAAA,UACSD,MADT,GACoBO,IADpB,CACSP,MADT;AAAA,UAEAU,MAFA,GAEanB,YAFb,SAE6BC,OAF7B;;AAIN,UAAIS,KAAK,KAAKd,IAAI,CAACQ,IAAnB,EAAyB;AACvB,YAAIK,MAAM,KAAKU,MAAf,EAAuB;AACrBpB,UAAAA,EAAE,CAACqB,cAAH;AACAvB,UAAAA,YAAY,CAACwB,YAAb,CAA0B;AACxBZ,YAAAA,MAAM,EAAGA,MADe;AAExBU,YAAAA,MAAM,EAAGA;AAFe,WAA1B;AAID,SAND,MAMO;AACL,iBAAOG,SAAP;AACD;AACF,OAVD,MAUO,IAAIZ,KAAK,KAAKd,IAAI,CAAC2B,IAAnB,EAAyB;AAC9BxB,QAAAA,EAAE,CAACqB,cAAH;AACAvB,QAAAA,YAAY,CAAC2B,YAAb,CAA0B;AACxBf,UAAAA,MAAM,EAAGA,MADe;AAExBU,UAAAA,MAAM,EAAGA;AAFe,SAA1B;AAIF;AACF,KAtCI;AAwCLM,IAAAA,qBAxCK,iCAwCiB1B,EAxCjB,EAwCoB;AACtBA,MAAAA,EAAE,CAACqB,cAAH;AACA,WAAKM,qBAAL,CAA2B3B,EAA3B,EAA+BH,IAAI,CAACQ,IAApC;AACF,KA3CI;AA6CLuB,IAAAA,oBA7CK,gCA6CgB5B,EA7ChB,EA6CmB;AACrBA,MAAAA,EAAE,CAACqB,cAAH;AACF,KA/CI;AAiDLQ,IAAAA,qBAjDK,iCAiDiB7B,EAjDjB,EAiDoB;AACtBA,MAAAA,EAAE,CAACqB,cAAH;AACA,WAAKS,qBAAL,CAA2B9B,EAA3B;AACF;AApDI,GAAP;AAuDD,CAxDD;;eA0DeJ,oB","sourcesContent":["\r\n\r\nconst createHandlerDnDList = function(DRAG, WatchActions){\r\n  return {\r\n\r\n    _handlerDragStartList({ groupCaption, caption}, ev){\r\n       this.dragStartWithDnDStyle(ev, [DRAG.GROUP, DRAG.LIST]);\r\n       ev.dataTransfer.effectAllowed=\"move\";\r\n       ev.dataTransfer.dropEffect=\"move\";\r\n       const _data = {\r\n         dragId : `${groupCaption};${caption}`,\r\n         xType : DRAG.LIST\r\n       };\r\n       ev.dataTransfer.setData(\"text\", JSON.stringify(_data));\r\n    },\r\n\r\n    _handlerDropList({ groupCaption, caption }, ev){\r\n       this.dropWithDnDStyle(ev);\r\n       //ev.currentTarget.style.borderLeft = \"\";\r\n\r\n       const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n          ,  { xType, dragId } = data\r\n          ,  dropId =  `${groupCaption};${caption};`\r\n\r\n       if (xType === DRAG.LIST) {\r\n         if (dragId !== dropId) {\r\n           ev.preventDefault();\r\n           WatchActions.dragDropList({\r\n             dragId : dragId,\r\n             dropId : dropId\r\n           });\r\n         } else {\r\n           return undefined;\r\n         }\r\n       } else if (xType === DRAG.ITEM) {\r\n         ev.preventDefault();\r\n         WatchActions.dragDropItem({\r\n           dragId : dragId,\r\n           dropId : dropId\r\n        });\r\n      }\r\n    },\r\n\r\n    _handlerDragEnterList(ev){\r\n       ev.preventDefault();\r\n       this.dragEnterWithDnDStyle(ev, DRAG.LIST);\r\n    },\r\n\r\n    _handlerDragOverList(ev){\r\n       ev.preventDefault();\r\n    },\r\n\r\n    _handlerDragLeaveList(ev){\r\n       ev.preventDefault();\r\n       this.dragLeaveWithDnDStyle(ev);\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport default createHandlerDnDList\r\n"],"file":"createHandlerDnDList.js"}