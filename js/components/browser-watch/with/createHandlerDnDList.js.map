{"version":3,"sources":["../../../../src/components/browser-watch/with/createHandlerDnDList.js"],"names":["createHandlerDnDList","DRAG","WatchActions","_handlerDragStartList","ev","groupCaption","caption","dragStartWithDnDStyle","GROUP","LIST","dataTransfer","effectAllowed","dropEffect","_data","dragId","xType","setData","JSON","stringify","_handlerDropList","dropWithDnDStyle","parse","getData","data","dropId","preventDefault","dragDropList","undefined","ITEM","dragDropItem","_handlerDragEnterList","dragEnterWithDnDStyle","_handlerDragOverList","_handlerDragLeaveList","dragLeaveWithDnDStyle"],"mappings":";;;;;;;AAEA,IAAMA,uBAAuB,SAAvBA,oBAAuB,CAASC,IAAT,EAAeC,YAAf,EAA4B;AACvD,SAAO;AAELC,yBAFK,uCAE2CC,EAF3C,EAE8C;AAAA,UAA3BC,YAA2B,QAA3BA,YAA2B;AAAA,UAAbC,OAAa,QAAbA,OAAa;;AAChD,WAAKC,qBAAL,CAA2BH,EAA3B,EAA+B,CAACH,KAAKO,KAAN,EAAaP,KAAKQ,IAAlB,CAA/B;AACAL,SAAGM,YAAH,CAAgBC,aAAhB,GAA8B,MAA9B;AACAP,SAAGM,YAAH,CAAgBE,UAAhB,GAA2B,MAA3B;AACA,UAAMC,QAAQ;AACZC,gBAAYT,YAAZ,SAA4BC,OADhB;AAEZS,eAAQd,KAAKQ;AAFD,OAAd;AAIAL,SAAGM,YAAH,CAAgBM,OAAhB,CAAwB,MAAxB,EAAgCC,KAAKC,SAAL,CAAeL,KAAf,CAAhC;AACF,KAXI;AAaLM,oBAbK,mCAauCf,EAbvC,EAa0C;AAAA,UAA5BC,YAA4B,SAA5BA,YAA4B;AAAA,UAAdC,OAAc,SAAdA,OAAc;;AAC5C,WAAKc,gBAAL,CAAsBhB,EAAtB;AACA;;AAEM,iBAAOa,KAAKI,KAAL,CAAWjB,GAAGM,YAAH,CAAgBY,OAAhB,CAAwB,MAAxB,CAAX,CAAP;AAAA,UACEP,KADF,GACoBQ,IADpB,CACER,KADF;AAAA,UACSD,MADT,GACoBS,IADpB,CACST,MADT;AAAA,UAEAU,MAFA,GAEanB,YAFb,SAE6BC,OAF7B;;;AAIN,UAAIS,UAAUd,KAAKQ,IAAnB,EAAyB;AACvB,YAAIK,WAAWU,MAAf,EAAuB;AACrBpB,aAAGqB,cAAH;AACAvB,uBAAawB,YAAb,CAA0B;AACxBZ,oBAASA,MADe;AAExBU,oBAASA;AAFe,WAA1B;AAID,SAND,MAMO;AACL,iBAAOG,SAAP;AACD;AACF,OAVD,MAUO,IAAIZ,UAAUd,KAAK2B,IAAnB,EAAyB;AAC9BxB,WAAGqB,cAAH;AACAvB,qBAAa2B,YAAb,CAA0B;AACxBf,kBAASA,MADe;AAExBU,kBAASA;AAFe,SAA1B;AAIF;AACF,KAtCI;AAwCLM,yBAxCK,iCAwCiB1B,EAxCjB,EAwCoB;AACtBA,SAAGqB,cAAH;AACA,WAAKM,qBAAL,CAA2B3B,EAA3B,EAA+BH,KAAKQ,IAApC;AACF,KA3CI;AA6CLuB,wBA7CK,gCA6CgB5B,EA7ChB,EA6CmB;AACrBA,SAAGqB,cAAH;AACF,KA/CI;AAiDLQ,yBAjDK,iCAiDiB7B,EAjDjB,EAiDoB;AACtBA,SAAGqB,cAAH;AACA,WAAKS,qBAAL,CAA2B9B,EAA3B;AACF;AApDI,GAAP;AAuDD,CAxDD;;kBA0DeJ,oB","file":"createHandlerDnDList.js","sourcesContent":["\r\n\r\nconst createHandlerDnDList = function(DRAG, WatchActions){\r\n  return {\r\n\r\n    _handlerDragStartList({ groupCaption, caption}, ev){\r\n       this.dragStartWithDnDStyle(ev, [DRAG.GROUP, DRAG.LIST]);\r\n       ev.dataTransfer.effectAllowed=\"move\";\r\n       ev.dataTransfer.dropEffect=\"move\";\r\n       const _data = {\r\n         dragId : `${groupCaption};${caption}`,\r\n         xType : DRAG.LIST\r\n       };\r\n       ev.dataTransfer.setData(\"text\", JSON.stringify(_data));\r\n    },\r\n\r\n    _handlerDropList({ groupCaption, caption }, ev){\r\n       this.dropWithDnDStyle(ev);\r\n       //ev.currentTarget.style.borderLeft = \"\";\r\n\r\n       const data = JSON.parse(ev.dataTransfer.getData(\"text\"))\r\n          ,  { xType, dragId } = data\r\n          ,  dropId =  `${groupCaption};${caption};`\r\n\r\n       if (xType === DRAG.LIST) {\r\n         if (dragId !== dropId) {\r\n           ev.preventDefault();\r\n           WatchActions.dragDropList({\r\n             dragId : dragId,\r\n             dropId : dropId\r\n           });\r\n         } else {\r\n           return undefined;\r\n         }\r\n       } else if (xType === DRAG.ITEM) {\r\n         ev.preventDefault();\r\n         WatchActions.dragDropItem({\r\n           dragId : dragId,\r\n           dropId : dropId\r\n        });\r\n      }\r\n    },\r\n\r\n    _handlerDragEnterList(ev){\r\n       ev.preventDefault();\r\n       this.dragEnterWithDnDStyle(ev, DRAG.LIST);\r\n    },\r\n\r\n    _handlerDragOverList(ev){\r\n       ev.preventDefault();\r\n    },\r\n\r\n    _handlerDragLeaveList(ev){\r\n       ev.preventDefault();\r\n       this.dragLeaveWithDnDStyle(ev);\r\n    }\r\n\r\n  };\r\n};\r\n\r\nexport default createHandlerDnDList\r\n"]}