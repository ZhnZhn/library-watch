{"version":3,"sources":["../../../src/components/browser-watch/FragmentSelectGroupList.jsx"],"names":["FragmentSelectGroupList","createClass","displayName","propTypes","store","PropTypes","object","groupCaption","string","groupOptions","array","listCaption","getInitialState","listOptions","componentWillReceiveProps","nextProps","props","setState","getWatchListsByGroup","state","_handlerSelectGroup","item","caption","lists","_handlerSelectList","render","getValue","captionGroup","captionList","setValueNull"],"mappings":";;;;;;AAAA;;;;AAEA;;;;;;AAEA,IAAMA,0BAA0B,gBAAMC,WAAN,CAAkB;AAChDC,eAAc,yBADkC;AAEhDC,aAAY;AACVC,WAAQ,gBAAMC,SAAN,CAAgBC,MADd;AAEVC,kBAAe,gBAAMF,SAAN,CAAgBG,MAFrB;AAGVC,kBAAe,gBAAMJ,SAAN,CAAgBK,KAHrB;AAIVC,iBAAc,gBAAMN,SAAN,CAAgBG;AAJpB,GAFoC;;AAShDI,iBATgD,6BAS/B;AACf,SAAKL,YAAL,GAAoB,IAApB;AACA,SAAKI,WAAL,GAAmB,IAAnB;AACA,WAAO;AACJE,mBAAc;AADV,KAAP;AAGD,GAf+C;AAiBhDC,2BAjBgD,qCAiBtBC,SAjBsB,EAiBZ;AAClC,QAAIA,cAAc,KAAKC,KAAvB,EAA6B;AAC3B,UAAID,UAAUN,YAAV,KAA2B,KAAKO,KAAL,CAAWP,YAA1C,EAAuD;AACnD,aAAKF,YAAL,GAAoB,IAApB;AACA,aAAKI,WAAL,GAAmB,IAAnB;AACA,aAAKM,QAAL,CAAc,EAACJ,aAAa,EAAd,EAAd;AACH,OAJD,MAIO;AACL,YAAI,KAAKN,YAAT,EAAsB;AACpB,cAAMM,cAAc,KAAKG,KAAL,CAAWZ,KAAX,CAAiBc,oBAAjB,CAAsC,KAAKX,YAA3C,CAApB;AACA,cAAIM,gBAAgB,KAAKM,KAAL,CAAWN,WAA/B,EACE,KAAKF,WAAL,GAAmB,IAAnB;AACA,eAAKM,QAAL,CAAc,EAACJ,wBAAD,EAAd;AACH;AACF;AACF;AACF,GAhC+C;AAkChDO,qBAlCgD,+BAkC5BC,IAlC4B,EAkCvB;AACvB,QAAIA,QAAQA,KAAKC,OAAjB,EAAyB;AACvB,WAAKf,YAAL,GAAoBc,KAAKC,OAAzB;AACA,UAAID,KAAKE,KAAT,EAAe;AACb,aAAKN,QAAL,CAAc,EAACJ,aAAcQ,KAAKE,KAApB,EAAd;AACD,OAFD,MAEQ;AACN,aAAKN,QAAL,CAAc,EAACJ,aAAc,EAAf,EAAd;AACD;AACF,KAPD,MAOO;AACL,WAAKN,YAAL,GAAoB,IAApB;AACD;AACF,GA7C+C;AA+ChDiB,oBA/CgD,8BA+C7BH,IA/C6B,EA+CxB;AACrB,SAAKV,WAAL,GAAoBU,QAAQA,KAAKC,OAAd,GAAyBD,KAAKC,OAA9B,GAAwC,IAA3D;AACF,GAjD+C;AAmDhDG,QAnDgD,oBAmDxC;AAAA,iBAC4C,KAAKT,KADjD;AAAA,QACCT,YADD,UACCA,YADD;AAAA,QACeE,YADf,UACeA,YADf;AAAA,QAC6BE,WAD7B,UAC6BA,WAD7B;AAAA,QAECE,WAFD,GAEgB,KAAKM,KAFrB,CAECN,WAFD;;AAGN,WACE;AAAA;AAAA;AACG;AACE,iBAASN,YADX;AAEE,iBAASE,YAFX;AAGE,kBAAU,KAAKW;AAHjB,QADH;AAMG;AACE,iBAAST,WADX;AAEE,iBAASE,WAFX;AAGE,kBAAU,KAAKW;AAHjB;AANH,KADF;AAcD,GApE+C;AAsEhDE,UAtEgD,sBAsEtC;AACR,WAAO,EAACC,cAAc,KAAKpB,YAApB,EAAkCqB,aAAa,KAAKjB,WAApD,EAAP;AACD,GAxE+C;AAyEhDkB,cAzEgD,0BAyElC;AACZ,SAAKtB,YAAL,GAAoB,IAApB;AACA,SAAKI,WAAL,GAAmB,IAAnB;AACD;AA5E+C,CAAlB,CAAhC;;kBA+EeX,uB","file":"FragmentSelectGroupList.js","sourcesContent":["import React from 'react';\r\n\r\nimport RowInputSelect from './RowInputSelect';\r\n\r\nconst FragmentSelectGroupList = React.createClass({\r\n  displayName : 'FragmentSelectGroupList',\r\n  propTypes : {\r\n    store : React.PropTypes.object,\r\n    groupCaption : React.PropTypes.string,\r\n    groupOptions : React.PropTypes.array,\r\n    listCaption : React.PropTypes.string\r\n  },\r\n\r\n  getInitialState(){\r\n    this.groupCaption = null;\r\n    this.listCaption = null;\r\n    return {\r\n       listOptions : []\r\n    }\r\n  },\r\n\r\n  componentWillReceiveProps(nextProps){\r\n    if (nextProps !== this.props){\r\n      if (nextProps.groupOptions !== this.props.groupOptions){\r\n          this.groupCaption = null;\r\n          this.listCaption = null;\r\n          this.setState({listOptions: []});\r\n      } else {\r\n        if (this.groupCaption){\r\n          const listOptions = this.props.store.getWatchListsByGroup(this.groupCaption);\r\n          if (listOptions !== this.state.listOptions)\r\n            this.listCaption = null;\r\n            this.setState({listOptions});\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  _handlerSelectGroup(item){\r\n    if (item && item.caption){\r\n      this.groupCaption = item.caption;\r\n      if (item.lists){\r\n        this.setState({listOptions : item.lists})\r\n      }  else {\r\n        this.setState({listOptions : []})\r\n      }\r\n    } else {\r\n      this.groupCaption = null;\r\n    }\r\n  },\r\n\r\n  _handlerSelectList(item){\r\n     this.listCaption = (item && item.caption) ? item.caption : null;\r\n  },\r\n\r\n  render(){\r\n    const {groupCaption, groupOptions, listCaption} = this.props\r\n        , {listOptions} = this.state;\r\n    return (\r\n      <div>\r\n         <RowInputSelect\r\n           caption={groupCaption}\r\n           options={groupOptions}\r\n           onSelect={this._handlerSelectGroup}\r\n         />\r\n         <RowInputSelect\r\n           caption={listCaption}\r\n           options={listOptions}\r\n           onSelect={this._handlerSelectList}\r\n         />\r\n      </div>\r\n    );\r\n  },\r\n\r\n  getValue(){\r\n    return {captionGroup: this.groupCaption, captionList: this.listCaption}\r\n  },\r\n  setValueNull(){\r\n    this.groupCaption = null;\r\n    this.listCaption = null;\r\n  }\r\n});\r\n\r\nexport default FragmentSelectGroupList\r\n"]}