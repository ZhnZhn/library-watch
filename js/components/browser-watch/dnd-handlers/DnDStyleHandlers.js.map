{"version":3,"file":"DnDStyleHandlers.js","names":["BORDER","BORDER_BOTTOM","BORDER_LEFT","DF_COLOR_PERMITTED","COLOR_NOT_PERMITTED","sourcePermissions","nodeDragTarget","borderBottomStyle","borderLeftPreEnterStyle","_getStyle","ev","currentTarget","style","_crBorderStyle","borderColor","_hasPermissionToAdd","sourceType","indexOf","_crBorderLeftEnterStyle","dragStartWithDnDStyle","event","permissions","getPropertyValue","exports","dropWithDnDStyle","styleTarget","styleSource","removeProperty","setProperty","dragEnterWithDnDStyle","dragLeaveWithDnDStyle"],"sources":["../../../../src/components/browser-watch/dnd-handlers/DnDStyleHandlers.js"],"sourcesContent":["const BORDER = 'border' // dragStart\r\n, BORDER_BOTTOM = 'border-bottom' // backup\r\n, BORDER_LEFT = 'border-left' // dragEnter\r\n, DF_COLOR_PERMITTED = 'green'\r\n, COLOR_NOT_PERMITTED = 'red';\r\n\r\nlet sourcePermissions\r\n, nodeDragTarget\r\n, borderBottomStyle\r\n, borderLeftPreEnterStyle;\r\n\r\nconst _getStyle = ev => ev.currentTarget.style;\r\nconst _crBorderStyle = (\r\n  borderColor\r\n) => `4px solid ${borderColor}`;\r\nconst _hasPermissionToAdd = (\r\n  sourceType\r\n) => sourcePermissions.indexOf(sourceType) !== -1;\r\n\r\nconst _crBorderLeftEnterStyle = (\r\n  sourceType,\r\n  borderColor\r\n) => _crBorderStyle(_hasPermissionToAdd(sourceType)\r\n  ? borderColor || DF_COLOR_PERMITTED\r\n  : COLOR_NOT_PERMITTED\r\n);\r\n\r\nexport const dragStartWithDnDStyle = (\r\n  event,\r\n  permissions\r\n) => {\r\n  nodeDragTarget = event.currentTarget\r\n  sourcePermissions = permissions\r\n  borderBottomStyle = _getStyle(event)\r\n    .getPropertyValue(BORDER_BOTTOM)\r\n};\r\n\r\nexport const dropWithDnDStyle = event => {\r\n  const styleTarget = nodeDragTarget.style\r\n  , styleSource = _getStyle(event);\r\n\r\n  styleSource.removeProperty(BORDER_LEFT)\r\n  styleTarget.removeProperty(BORDER)\r\n  styleTarget.setProperty(BORDER_BOTTOM, borderBottomStyle)\r\n};\r\n\r\nexport const dragEnterWithDnDStyle = (\r\n  event,\r\n  sourceType,\r\n  borderColor\r\n) => {\r\n  const style = _getStyle(event);\r\n\r\n  borderLeftPreEnterStyle = style.getPropertyValue(BORDER_LEFT)\r\n  style.setProperty(\r\n    BORDER_LEFT,\r\n    _crBorderLeftEnterStyle(sourceType, borderColor)\r\n  )\r\n};\r\n\r\nexport const dragLeaveWithDnDStyle = event => {\r\n  const style = _getStyle(event);\r\n\r\n  style.removeProperty(BORDER_LEFT)\r\n  style.setProperty(BORDER_LEFT, borderLeftPreEnterStyle)\r\n};\r\n"],"mappings":";;;;AAAA,MAAMA,MAAM,GAAG,QAAQ,CAAC;EAAA;EACtBC,aAAa,GAAG,eAAe,CAAC;EAAA;EAChCC,WAAW,GAAG,aAAa,CAAC;EAAA;EAC5BC,kBAAkB,GAAG,OAAO;EAC5BC,mBAAmB,GAAG,KAAK;AAE7B,IAAIC,iBAAiB,EACnBC,cAAc,EACdC,iBAAiB,EACjBC,uBAAuB;AAEzB,MAAMC,SAAS,GAAGC,EAAE,IAAIA,EAAE,CAACC,aAAa,CAACC,KAAK;AAC9C,MAAMC,cAAc,GAClBC,WAAW,IACR,aAAaA,WAAW,EAAE;AAC/B,MAAMC,mBAAmB,GACvBC,UAAU,IACPX,iBAAiB,CAACY,OAAO,CAACD,UAAU,CAAC,KAAK,CAAC,CAAC;AAEjD,MAAME,uBAAuB,GAAGA,CAC9BF,UAAU,EACVF,WAAW,KACRD,cAAc,CAACE,mBAAmB,CAACC,UAAU,CAAC,GAC/CF,WAAW,IAAIX,kBAAkB,GACjCC,mBACJ,CAAC;AAEM,MAAMe,qBAAqB,GAAGA,CACnCC,KAAK,EACLC,WAAW,KACR;EACHf,cAAc,GAAGc,KAAK,CAACT,aAAa;EACpCN,iBAAiB,GAAGgB,WAAW;EAC/Bd,iBAAiB,GAAGE,SAAS,CAACW,KAAK,CAAC,CACjCE,gBAAgB,CAACrB,aAAa,CAAC;AACpC,CAAC;AAACsB,OAAA,CAAAJ,qBAAA,GAAAA,qBAAA;AAEK,MAAMK,gBAAgB,GAAGJ,KAAK,IAAI;EACvC,MAAMK,WAAW,GAAGnB,cAAc,CAACM,KAAK;IACtCc,WAAW,GAAGjB,SAAS,CAACW,KAAK,CAAC;EAEhCM,WAAW,CAACC,cAAc,CAACzB,WAAW,CAAC;EACvCuB,WAAW,CAACE,cAAc,CAAC3B,MAAM,CAAC;EAClCyB,WAAW,CAACG,WAAW,CAAC3B,aAAa,EAAEM,iBAAiB,CAAC;AAC3D,CAAC;AAACgB,OAAA,CAAAC,gBAAA,GAAAA,gBAAA;AAEK,MAAMK,qBAAqB,GAAGA,CACnCT,KAAK,EACLJ,UAAU,EACVF,WAAW,KACR;EACH,MAAMF,KAAK,GAAGH,SAAS,CAACW,KAAK,CAAC;EAE9BZ,uBAAuB,GAAGI,KAAK,CAACU,gBAAgB,CAACpB,WAAW,CAAC;EAC7DU,KAAK,CAACgB,WAAW,CACf1B,WAAW,EACXgB,uBAAuB,CAACF,UAAU,EAAEF,WAAW,CACjD,CAAC;AACH,CAAC;AAACS,OAAA,CAAAM,qBAAA,GAAAA,qBAAA;AAEK,MAAMC,qBAAqB,GAAGV,KAAK,IAAI;EAC5C,MAAMR,KAAK,GAAGH,SAAS,CAACW,KAAK,CAAC;EAE9BR,KAAK,CAACe,cAAc,CAACzB,WAAW,CAAC;EACjCU,KAAK,CAACgB,WAAW,CAAC1B,WAAW,EAAEM,uBAAuB,CAAC;AACzD,CAAC;AAACe,OAAA,CAAAO,qBAAA,GAAAA,qBAAA","ignoreList":[]}