{"version":3,"file":"useClickOutside.js","names":["_uiApi","require","_removeClickListener","listener","ref","getRefValue","document","removeEventListener","current","useClickOutside","isShow","onClickOutside","_ref","useRef","_refIs","_hClickOutside","useCallback","event","_el","contains","target","stopPropagation","useEffect","addEventListener","_default","exports","default"],"sources":["../../../src/components/hooks/useClickOutside.js"],"sourcesContent":["import {\r\n  useRef,\r\n  useCallback,\r\n  useEffect,\r\n  getRefValue\r\n} from '../uiApi';\r\n\r\nconst _removeClickListener = (\r\n  listener,\r\n  ref\r\n) => {\r\n  if (getRefValue(ref)) {\r\n    document.removeEventListener('click', listener, true);\r\n    ref.current = null\r\n  }\r\n};\r\n\r\nconst useClickOutside = (\r\n  isShow,\r\n  onClickOutside\r\n) => {\r\n  const _ref = useRef(null)\r\n  , _refIs = useRef(null)\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hClickOutside = useCallback(event => {\r\n      const _el = getRefValue(_ref);\r\n      if ( _el && _el.contains\r\n        && !_el.contains(event.target)\r\n      ){\r\n        event.stopPropagation()\r\n        onClickOutside(event)\r\n      }\r\n  }, []);\r\n  // onClickOutside\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  useEffect(() => {\r\n    if (isShow && !getRefValue(_refIs)) {\r\n      document.addEventListener('click', _hClickOutside, true)\r\n      _refIs.current = true\r\n    } else if (!isShow) {\r\n      _removeClickListener(_hClickOutside, _refIs)\r\n    }\r\n  })\r\n\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  useEffect(() => {\r\n    return () => _removeClickListener(_hClickOutside, _refIs)\r\n  }, [])\r\n  // _hClickOutside\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  return _ref;\r\n};\r\n\r\n\r\nexport default useClickOutside\r\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAOA,MAAMC,oBAAoB,GAAGA,CAC3BC,QAAQ,EACRC,GAAG,KACA;EACH,IAAI,IAAAC,kBAAW,EAACD,GAAG,CAAC,EAAE;IACpBE,QAAQ,CAACC,mBAAmB,CAAC,OAAO,EAAEJ,QAAQ,EAAE,IAAI,CAAC;IACrDC,GAAG,CAACI,OAAO,GAAG,IAAI;EACpB;AACF,CAAC;AAED,MAAMC,eAAe,GAAGA,CACtBC,MAAM,EACNC,cAAc,KACX;EACH,MAAMC,IAAI,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;IACvBC,MAAM,GAAG,IAAAD,aAAM,EAAC,IAAI;IACtB;IACEE,cAAc,GAAG,IAAAC,kBAAW,EAACC,KAAK,IAAI;MACpC,MAAMC,GAAG,GAAG,IAAAb,kBAAW,EAACO,IAAI,CAAC;MAC7B,IAAKM,GAAG,IAAIA,GAAG,CAACC,QAAQ,IACnB,CAACD,GAAG,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,EAC/B;QACCH,KAAK,CAACI,eAAe,CAAC,CAAC;QACvBV,cAAc,CAACM,KAAK,CAAC;MACvB;IACJ,CAAC,EAAE,EAAE,CAAC;EACN;EACA;;EAEA,IAAAK,gBAAS,EAAC,MAAM;IACd,IAAIZ,MAAM,IAAI,CAAC,IAAAL,kBAAW,EAACS,MAAM,CAAC,EAAE;MAClCR,QAAQ,CAACiB,gBAAgB,CAAC,OAAO,EAAER,cAAc,EAAE,IAAI,CAAC;MACxDD,MAAM,CAACN,OAAO,GAAG,IAAI;IACvB,CAAC,MAAM,IAAI,CAACE,MAAM,EAAE;MAClBR,oBAAoB,CAACa,cAAc,EAAED,MAAM,CAAC;IAC9C;EACF,CAAC,CAAC;;EAEF;EACA,IAAAQ,gBAAS,EAAC,MAAM;IACd,OAAO,MAAMpB,oBAAoB,CAACa,cAAc,EAAED,MAAM,CAAC;EAC3D,CAAC,EAAE,EAAE,CAAC;EACN;EACA;;EAEA,OAAOF,IAAI;AACb,CAAC;AAAC,IAAAY,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAGajB,eAAe","ignoreList":[]}