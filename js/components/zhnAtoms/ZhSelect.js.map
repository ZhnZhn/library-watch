{"version":3,"sources":["../../../src/components/zhnAtoms/ZhSelect.jsx"],"names":["styles","rootDiv","position","display","backgroundColor","width","inputText","background","border","outline","height","paddingLeft","color","fontSize","fontWeight","rootOptionDiv","left","zIndex","borderBottomLeftRadius","borderBottomRightRadius","optionDiv","minHeight","maxHeight","overflow","spinnerCell","top","spinnerFailedCell","borderColor","cursor","arrowCell","textAlign","verticalAlign","paddingRight","marginLeft","arrow","borderStyle","borderWidth","inputHr","borderImage","margin","marginBottom","itemDiv","paddingTop","paddingBottom","itemOdd","itemEven","optionsFooter","fileredSpan","ZhSelect","createClass","getDefaultProps","options","optionName","optionNames","isUpdateOptions","getInitialState","domOptionsCache","indexActiveOption","props","_optionName","_optionNames","value","isShowOption","isValidDomOptionsCache","isLocalMode","componentWillReceiveProps","nextProps","_setStateToInit","shouldComponentUpdate","nextState","componentDidUpdate","state","domActiveOption","_getDomForActiveOption","_decorateOfDomActiveOption","_makeVisibleOfDomActiveOption","setState","refs","classList","add","_decorateActiveOption","_undecorateActiveOption","remove","_undecorateOfDomActiveOption","offsetTop","scrollTop","domOptions","_makeVisibleActiveOption","_filterOptionsToState","valueFor","toLowerCase","filter","option","i","caption","indexOf","_handlerInputChange","event","target","arr","length","push","_handlerInputKeyDown","keyCode","item","onSelect","preventDefault","offsetTop2","_handlerToggleOptions","_handlerClickOption","index","renderOptions","_domOptions","map","_styleDiv","Object","assign","bind","_styleOptions","_styleDivWidth","_numberFilteredItems","_numberAllItems","c","_renderAfterInput","isLoading","isLoadingFailed","_styleArrow","onLoadOption","render","_styleInputWidth","_styleHr","placeholder","_domAfterInput","_placeholder","domInputText","focusInput","focus","focusNotValidInput"],"mappings":"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","file":"ZhSelect.js","sourcesContent":["import React from 'react';\r\n\r\nconst styles = {\r\n  rootDiv: {\r\n    position: 'relative',\r\n    display: 'inline-block',\r\n    backgroundColor: '#E1E1CB',\r\n    width: '160px'\r\n\r\n  },\r\n  inputText: {\r\n    background: 'transparent none repeat scroll 0 0',\r\n    border: 'medium none',\r\n    outline: 'medium none',\r\n    height: '30px',\r\n    paddingLeft: '10px',\r\n    color: 'green',\r\n    width: '140px',\r\n    fontSize: '16px',\r\n    fontWeight: 'bold'\r\n  },\r\n  rootOptionDiv: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    backgroundColor: '#E1E1CB',\r\n    color: 'green',\r\n    width: '160px',\r\n    //height: '160px',\r\n    zIndex: '10',\r\n    borderBottomLeftRadius : '5px',\r\n    borderBottomRightRadius : '5px'\r\n  },\r\n  optionDiv: {\r\n    //height: '160px',\r\n    minHeight: '160px',\r\n    maxHeight: '200px',\r\n    overflow: 'auto'\r\n  },\r\n  spinnerCell : {\r\n    position: 'relative',\r\n    left: '8px',\r\n    top: '4px',\r\n    display: 'inline-block',\r\n    width: '16px',\r\n    height: '16px'\r\n  },\r\n  spinnerFailedCell : {\r\n    position: 'relative',\r\n    left: '8px',\r\n    top: '4px',\r\n    display: 'inline-block',\r\n    width: '16px',\r\n    height: '16px',\r\n    borderColor : '#F44336',\r\n    cursor : 'pointer'\r\n  },\r\n  arrowCell:{\r\n    cursor: 'pointer',\r\n    //display: table-cell\r\n    position: 'relative',\r\n    textAlign: 'center',\r\n    verticalAlign: 'middle',\r\n    //width: '25px',\r\n    width: '35px',\r\n    paddingRight: '5px',\r\n    marginLeft: '10px'\r\n\r\n  },\r\n  arrow : {\r\n   borderColor: '#999 transparent transparent',\r\n   borderStyle: 'solid',\r\n   borderWidth: '5px 5px 2.5px',\r\n   //borderWidth: '10px 10px 5px',\r\n   display: 'inline-block',\r\n   height: '0px',\r\n   width: '0px'\r\n },\r\n inputHr: {\r\n   borderWidth: 'medium medium 1px',\r\n   borderStyle: 'none none solid',\r\n   borderColor: '#1B75BB',\r\n   borderImage: 'none',\r\n   margin: 0,\r\n   marginLeft: '10px',\r\n   marginBottom: '5px',\r\n   width: '150px'\r\n\r\n },\r\n  itemDiv:{\r\n    cursor: 'pointer',\r\n    paddingTop: '4px',\r\n    paddingLeft: '5px',\r\n    paddingBottom: '4px'\r\n    //lineHeight: '14px'\r\n  },\r\n  itemOdd: {\r\n    backgroundColor: '#C3C3AC'\r\n  },\r\n  itemEven: {\r\n    backgroundColor: '#D5D5BC'\r\n  },\r\n  optionsFooter : {\r\n    backgroundColor: 'silver',\r\n    borderBottomLeftRadius : '5px',\r\n    borderBottomRightRadius : '5px'\r\n  },\r\n  fileredSpan : {\r\n    display: 'inline-block',\r\n    color: 'gray',\r\n    fontWeight : 'bold',\r\n    //height: '20px',\r\n    paddingLeft: '10px',\r\n    paddingTop: '4px',\r\n    paddingBottom : '4px'\r\n  }\r\n}\r\n\r\nconst ZhSelect = React.createClass({\r\n  getDefaultProps(){\r\n    return {\r\n      options : [],\r\n      optionName : '',\r\n      optionNames : '',\r\n      isUpdateOptions : false\r\n    }\r\n  },\r\n  getInitialState: function(){\r\n     this.domOptionsCache = null;\r\n     this.indexActiveOption = 0;\r\n     const {optionName, optionNames} = this.props\r\n         , _optionName = (optionName) ? ' ' + optionName : ''\r\n         , _optionNames = (optionNames) ? ' ' + optionNames :\r\n                    (optionName) ? _optionName : '';\r\n     return {\r\n       value: '',\r\n       isShowOption: false,\r\n       options: this.props.options,\r\n       optionName : _optionName,\r\n       optionNames : _optionNames,\r\n       isValidDomOptionsCache: false,\r\n       isLocalMode: false\r\n     }\r\n  },\r\n\r\n  componentWillReceiveProps: function(nextProps){\r\n    if (this.props !== nextProps){\r\n      if (this.props.options !== nextProps.options\r\n          || nextProps.isUpdateOptions){\r\n        //New options come from Parent - Clear domCache, Init State\r\n        this._setStateToInit(nextProps.options);\r\n      }\r\n    }\r\n  },\r\n\r\n  shouldComponentUpdate: function(nextProps, nextState){\r\n    if (this.props !== nextProps || nextProps.isUpdateOptions) {\r\n      nextState.isLocalMode = false;\r\n    } else {\r\n      nextState.isLocalMode = true;\r\n    }\r\n\r\n    return true;\r\n  },\r\n\r\n  componentDidUpdate: function(){\r\n     //Decorate Active Option\r\n     if (this.state.isShowOption){\r\n       let domActiveOption = this._getDomForActiveOption();\r\n       this._decorateOfDomActiveOption(domActiveOption);\r\n       this._makeVisibleOfDomActiveOption(domActiveOption);\r\n    }\r\n  },\r\n\r\n  _setStateToInit(options){\r\n    this.indexActiveOption = 0;\r\n    this.setState({\r\n      value : '',\r\n      isShowOption : false,\r\n      options : options,\r\n      isValidDomOptionsCache : false\r\n    });\r\n  },\r\n\r\n  _getDomForActiveOption: function(){\r\n    return this.refs[\"v\"+this.indexActiveOption];\r\n  },\r\n\r\n  _decorateOfDomActiveOption: function(domActiveOption){\r\n    if (domActiveOption){\r\n      domActiveOption.classList.add(\"option-row__active\");\r\n    }\r\n  },\r\n\r\n  _decorateActiveOption: function(){\r\n    let domActiveOption = this.refs[\"v\"+this.indexActiveOption];\r\n    domActiveOption.classList.add(\"option-row__active\");\r\n  },\r\n\r\n  _undecorateActiveOption: function(){\r\n    if (this.refs[\"v\" + this.indexActiveOption]){\r\n      this.refs[\"v\" + this.indexActiveOption].classList.remove(\"option-row__active\");\r\n    }\r\n  },\r\n\r\n  _undecorateOfDomActiveOption: function(domActiveOption){\r\n     if (domActiveOption){\r\n       domActiveOption.classList.remove(\"option-row__active\");\r\n    }\r\n  },\r\n\r\n  _makeVisibleOfDomActiveOption: function(domActiveOption){\r\n    if (domActiveOption){\r\n      const offsetTop = domActiveOption.offsetTop;\r\n      const scrollTop = this.domOptions.scrollTop;\r\n      if ( (offsetTop - scrollTop) > 70){\r\n         this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n      }\r\n      if ( (offsetTop - scrollTop) < 0){\r\n        this.domOptions.scrollTop= 0;\r\n      }\r\n    }\r\n  },\r\n\r\n  _makeVisibleActiveOption: function(){\r\n    let domActiveOption = this.refs[\"v\"+this.indexActiveOption];\r\n\r\n    let offsetTop = domActiveOption.offsetTop;\r\n    let scrollTop = this.domOptions.scrollTop;\r\n    if ( (offsetTop - scrollTop) > 70){\r\n        this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n    }\r\n  },\r\n\r\n  _filterOptionsToState: function(options, value){\r\n     const valueFor = value.toLowerCase();\r\n     return options.filter( (option, i) => {\r\n       return option.caption.toLowerCase().indexOf(valueFor) !== -1\r\n     })\r\n  },\r\n\r\n  _handlerInputChange: function(event){\r\n    const value = event.target.value;\r\n    let arr = [];\r\n    if (value.length !== this.state.value.length){\r\n      if ( value.length>this.state.value.length){\r\n        arr = this._filterOptionsToState(this.state.options, value);\r\n      } else if ( value.length<this.state.value.length) {\r\n        arr = this._filterOptionsToState(this.props.options, value);\r\n      }\r\n      if (arr.length === 0){\r\n        arr.push({caption: 'No results found', value: 'noresult'});\r\n      }\r\n      this._undecorateActiveOption();\r\n      this.indexActiveOption = 0;\r\n      this.setState({\r\n        value : value,\r\n        isShowOption : true,\r\n        isValidDomOptionsCache : false,\r\n        options : arr\r\n      })\r\n    }\r\n  },\r\n\r\n  _handlerInputKeyDown: function(event){\r\n    switch(event.keyCode){\r\n      // enter\r\n      case 13:\r\n         const item = this.state.options[this.indexActiveOption];\r\n\r\n         if (item && item.caption){\r\n           this.setState({\r\n             value : item.caption,\r\n             isShowOption : false,\r\n             isValidDomOptionsCache : true\r\n           });\r\n\r\n           if (item.value !== 'noresult'){\r\n             this.props.onSelect(item);\r\n           } else {\r\n             this.props.onSelect(null);\r\n           }\r\n         }\r\n      break;\r\n      //escape\r\n      case 27:\r\n        if (this.state.isShowOption){\r\n          this.setState({isShowOption : false});\r\n        } else {\r\n          this._undecorateActiveOption();\r\n          this._setStateToInit(this.props.options);\r\n          this.props.onSelect(null);\r\n        }\r\n      break;\r\n      //down\r\n      case 40:\r\n        if (!this.state.isShowOption){\r\n          this.setState({isShowOption : true});\r\n        } else {\r\n          event.preventDefault();\r\n\r\n          let domActiveOption = this._getDomForActiveOption();\r\n\r\n          if (domActiveOption){\r\n             this._undecorateOfDomActiveOption(domActiveOption);\r\n\r\n             this.indexActiveOption += 1;\r\n             if (this.indexActiveOption>=this.state.options.length){\r\n                this.indexActiveOption = 0;\r\n                this.domOptions.scrollTop = 0;\r\n             }\r\n\r\n             domActiveOption = this._getDomForActiveOption();\r\n             this._decorateOfDomActiveOption(domActiveOption)\r\n\r\n             const offsetTop = this.refs[\"v\"+this.indexActiveOption].offsetTop;\r\n             const scrollTop = this.domOptions.scrollTop;\r\n             if ( (offsetTop - scrollTop) > 70){\r\n                this.domOptions.scrollTop += (offsetTop - scrollTop - 70);\r\n             }\r\n          }\r\n        }\r\n      break;\r\n      //up\r\n      case 38:\r\n        if (this.state.isShowOption){\r\n          event.preventDefault();\r\n\r\n          let domActiveOption = this._getDomForActiveOption();\r\n          if (domActiveOption){\r\n            this._undecorateOfDomActiveOption(domActiveOption);\r\n\r\n            this.indexActiveOption -= 1;\r\n            if (this.indexActiveOption < 0){\r\n              this.indexActiveOption = this.state.options.length - 1;\r\n              const offsetTop2 = this.refs[\"v\"+this.indexActiveOption].offsetTop;\r\n              this.domOptions.scrollTop = offsetTop2;\r\n            }\r\n\r\n            domActiveOption = this._getDomForActiveOption();\r\n            this._decorateOfDomActiveOption(domActiveOption);\r\n\r\n            const offsetTop = domActiveOption.offsetTop;\r\n            const scrollTop = this.domOptions.scrollTop;\r\n            if ( (offsetTop - scrollTop) < 70){\r\n              this.domOptions.scrollTop -= ( 70 - (offsetTop - scrollTop) );\r\n            }\r\n          }\r\n        }\r\n      break;\r\n      default: /*console.log(event.keyCode);*/ return;\r\n    }\r\n  },\r\n\r\n  _handlerToggleOptions: function(){\r\n    this.setState({isShowOption: !this.state.isShowOption});\r\n  },\r\n\r\n  _handlerClickOption: function(item, index, event){\r\n    this.indexActiveOption = index;\r\n    this.setState({\r\n      value : item.caption,\r\n      isShowOption : false\r\n    });\r\n    this.props.onSelect(item);\r\n  },\r\n\r\n\r\n  renderOptions: function(){\r\n    const {isShowOption, options, isValidDomOptionsCache} = this.state;\r\n\r\n    let _domOptions;\r\n    if (options){\r\n      if (!isValidDomOptionsCache){\r\n         _domOptions = options.map((item, index)=>{\r\n           const _styleDiv = (index % 2 === 0) ? styles.itemOdd : styles.itemEven;\r\n           return (\r\n             <div\r\n                className=\"option-row\"\r\n                style={Object.assign({}, styles.itemDiv, _styleDiv)}\r\n                key={index}\r\n                ref={\"v\"+index}\r\n                onClick={this._handlerClickOption.bind(this, item, index)}\r\n              >\r\n                {item.caption}\r\n            </div>\r\n           )\r\n        });\r\n        this.domOptionsCache = _domOptions;\r\n      } else {\r\n        _domOptions = this.domOptionsCache;\r\n      }\r\n    }\r\n\r\n    const {width} = this.props\r\n        ,  _styleOptions = isShowOption ? {display: 'block'} : { display: 'none'}\r\n        , _styleDivWidth = (width) ? { width: width+'px'} : null\r\n        , _numberFilteredItems = (options[0] && (options[0].value !== 'noresult') ) ?\r\n                                  options.length : 0\r\n        , _numberAllItems = this.props.options ? this.props.options.length : 0;\r\n\r\n    return (\r\n        <div style={Object.assign({}, styles.rootOptionDiv, _styleOptions, _styleDivWidth)}>\r\n          <div\r\n             ref={c => this.domOptions = c}\r\n             key=\"1\"\r\n             style={Object.assign({}, styles.optionDiv, _styleOptions, _styleDivWidth)}\r\n           >\r\n            {_domOptions}\r\n          </div>\r\n          <div key=\"2\" style={styles.optionsFooter}>\r\n            <span style={styles.fileredSpan}>\r\n              Filtered {_numberFilteredItems} : {_numberAllItems}\r\n            </span>\r\n          </div>\r\n        </div>\r\n    )\r\n  },\r\n\r\n  _renderAfterInput(isLoading, isLoadingFailed, _styleArrow){\r\n    if (!isLoading && !isLoadingFailed){\r\n      return (\r\n        <span\r\n           style={styles.arrowCell}\r\n           onClick={this._handlerToggleOptions}>\r\n          <span style={Object.assign({}, styles.arrow, _styleArrow)}></span>\r\n        </span>\r\n      );\r\n    } else if (isLoading){\r\n      return (\r\n        <span\r\n          style={styles.spinnerCell}\r\n          data-loader=\"circle\"\r\n        >\r\n        </span>\r\n      )\r\n    } else if (isLoadingFailed) {\r\n      return (\r\n        <span\r\n          style={styles.spinnerFailedCell}\r\n          data-loader=\"circle-failed\"\r\n          onClick={this.props.onLoadOption}\r\n         >\r\n        </span>\r\n      )\r\n    }\r\n  },\r\n\r\n  render: function(){\r\n    const {width} = this.props\r\n        , {value, isLocalMode, isShowOption } = this.state;\r\n\r\n    const _styleArrow = isShowOption ? {borderColor: '#1B75BB transparent transparent'} : null;\r\n\r\n    let _styleDivWidth = null;\r\n    let _styleInputWidth = null;\r\n    let _styleHr = null;\r\n    if (width){\r\n      _styleDivWidth = { width: width + 'px' };\r\n      _styleInputWidth = { width: (width-30) + 'px'};\r\n      _styleHr = { width: (width-40) + 'px'};\r\n    }\r\n\r\n    const _domOptions = (isLocalMode || isShowOption) ? this.renderOptions() : null;\r\n\r\n    const  {isLoading, isLoadingFailed, placeholder} = this.props\r\n        ,  {optionName, optionNames} = this.state;\r\n\r\n    let _domAfterInput, _placeholder;\r\n    if (!isLoading && !isLoadingFailed){\r\n      _placeholder= (placeholder) ? placeholder : `Select${optionName}...`;\r\n      _domAfterInput = (\r\n        <span\r\n           style={styles.arrowCell}\r\n           onClick={this._handlerToggleOptions}>\r\n          <span style={Object.assign({}, styles.arrow, _styleArrow)}></span>\r\n        </span>\r\n      );\r\n    } else if (isLoading){\r\n      _placeholder=`Loading${optionNames}...`;\r\n      _domAfterInput = (\r\n        <span\r\n          style={styles.spinnerCell}\r\n          data-loader=\"circle\"\r\n        >\r\n        </span>\r\n      );\r\n    } else if (isLoadingFailed) {\r\n       _placeholder=`Loading${optionNames} Failed`;\r\n       _domAfterInput = (\r\n        <span\r\n          style={styles.spinnerFailedCell}\r\n          data-loader=\"circle-failed\"\r\n          onClick={this.props.onLoadOption}\r\n         >\r\n        </span>\r\n      )\r\n    }\r\n\r\n\r\n    return (\r\n      <div style={Object.assign({},styles.rootDiv, _styleDivWidth)}>\r\n        <input\r\n           ref={c => this.domInputText = c}\r\n           type=\"text\"\r\n           value={value}\r\n           style={Object.assign({},styles.inputText, _styleInputWidth)}\r\n           placeholder={_placeholder}           \r\n           onChange={this._handlerInputChange}\r\n           onKeyDown={this._handlerInputKeyDown}>\r\n        </input>\r\n        {_domAfterInput}\r\n        <hr style={Object.assign({},styles.inputHr, _styleHr)}></hr>\r\n        {_domOptions}\r\n\r\n      </div>\r\n    )\r\n  },\r\n\r\n  focusInput: function(){\r\n    this.domInputText.focus();\r\n  },\r\n\r\n  focusNotValidInput: function(){\r\n    this.domInputText.focus();\r\n  }\r\n\r\n});\r\n\r\nexport default ZhSelect;\r\n"]}