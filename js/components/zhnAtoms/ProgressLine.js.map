{"version":3,"sources":["../../../src/components/zhnAtoms/ProgressLine.jsx"],"names":["Transitions","WIDTH","OPACITY","ProgressLine","createClass","getDefaultProps","color","height","getInitialState","wasCompleted","idCompleted","wasOpacied","idOpacied","componentWillUnmount","clearTimeout","componentDidUpdate","setTimeout","forceUpdate","render","props","_style","backgroundColor","width","opacity","transition","completed"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,cAAc;AAClBC,SAAQ,sBADU;AAElBC,WAAU;AAFQ,CAApB;;AAKA,IAAMC,eAAe,gBAAMC,WAAN,CAAkB;AAAA;AACrCC,iBADqC,6BACpB;AACf,WAAO;AACLC,aAAQ,SADH;AAELC,cAAS;AAFJ,KAAP;AAID,GANoC;AAOrCC,iBAPqC,6BAOpB;AACf,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,WAAO,EAAP;AACD,GAboC;AAerCC,sBAfqC,kCAef;AACpB,QAAI,KAAKH,WAAT,EAAqB;AACnBI,mBAAa,KAAKJ,WAAlB;AACD;AACD,QAAI,KAAKE,SAAT,EAAmB;AACjBE,mBAAa,KAAKF,SAAlB;AACD;AACF,GAtBoC;AAwBrCG,oBAxBqC,gCAwBjB;AAAA;;AAClB,QAAI,KAAKN,YAAT,EAAsB;AACpB,WAAKC,WAAL,GAAmBM,WAAW,YAAI;AAChC,cAAKN,WAAL,GAAmB,IAAnB;AACA,cAAKO,WAAL;AACD,OAHkB,EAGhB,GAHgB,CAAnB;AAID,KALD,MAKO,IAAI,KAAKN,UAAT,EAAoB;AACzB,WAAKC,SAAL,GAAiBI,WAAW,YAAI;AAC9B,cAAKJ,SAAL,GAAiB,IAAjB;AACA,cAAKK,WAAL;AACD,OAHgB,EAGd,GAHc,CAAjB;AAID;AACF,GApCoC;AAsCrCC,QAtCqC,oBAsC7B;AAAA,iBACoB,KAAKC,KADzB;AAAA,QACEb,KADF,UACEA,KADF;AAAA,QACSC,MADT,UACSA,MADT;;AAEN,QAAIa,eAAJ;;AAEA,QAAI,KAAKT,UAAT,EAAqB;AACnBS,eAAS;AACLC,yBAAiBf,KADZ;AAELgB,eAAO,CAFF;AAGLC,iBAAU,CAHL;AAILhB,gBAAQA;AAJH,OAAT;AAMA,WAAKI,UAAL,GAAkB,KAAlB;AACD,KARD,MAQO,IAAI,KAAKF,YAAT,EAAuB;AAC5BW,eAAS;AACLC,yBAAiBf,KADZ;AAELgB,eAAO,MAFF;AAGLC,iBAAU,CAHL;AAILC,oBAAYxB,YAAYE,OAJnB;AAKLK,gBAAQA;AALH,OAAT;AAOA,WAAKE,YAAL,GAAoB,KAApB;AACA,WAAKE,UAAL,GAAkB,IAAlB;AACD,KAVM,MAUA;AAAA,UACCc,SADD,GACc,KAAKN,KADnB,CACCM,SADD;;AAEJ,UAAIA,YAAY,CAAhB,EAAmB;AACjBA,oBAAY,CAAZ;AACD,OAFD,MAEO,IAAIA,aAAa,GAAjB,EAAsB;AAC3BA,oBAAY,GAAZ;AACA,aAAKhB,YAAL,GAAoB,IAApB;AACD;;AAEDW,eAAS;AACPC,yBAAiBf,KADV;AAEPiB,iBAAS,CAFF;AAGPD,eAAOG,YAAY,GAHZ;AAIPD,oBAAYxB,YAAYC,KAJjB;AAKPM,gBAAQA;AALD,OAAT;AAOF;;AAED,WACE,uCAAK,WAAU,eAAf,EAA+B,OAAOa,MAAtC,GADF;AAID;AAlFoC,CAAlB,CAArB;;kBAqFejB,Y","file":"ProgressLine.js","sourcesContent":["import React from 'react';\r\n\r\nconst Transitions = {\r\n  WIDTH : 'width 500ms ease-out',\r\n  OPACITY : 'opacity 400ms linear'\r\n}\r\n\r\nconst ProgressLine = React.createClass({\r\n  getDefaultProps(){\r\n    return {\r\n      color : '#2F7ED8',\r\n      height : 3\r\n    }\r\n  },\r\n  getInitialState(){\r\n    this.wasCompleted = false;\r\n    this.idCompleted = null;\r\n    this.wasOpacied = false;\r\n    this.idOpacied = null;\r\n    return {}\r\n  },\r\n\r\n  componentWillUnmount(){\r\n    if (this.idCompleted){\r\n      clearTimeout(this.idCompleted)\r\n    }\r\n    if (this.idOpacied){\r\n      clearTimeout(this.idOpacied)\r\n    }\r\n  },\r\n\r\n  componentDidUpdate(){\r\n    if (this.wasCompleted){\r\n      this.idCompleted = setTimeout(()=>{\r\n        this.idCompleted = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    } else if (this.wasOpacied){\r\n      this.idOpacied = setTimeout(()=>{\r\n        this.idOpacied = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    }\r\n  },\r\n\r\n  render(){\r\n    const { color, height } = this.props;\r\n    let _style;\r\n\r\n    if (this.wasOpacied) {\r\n      _style = {\r\n          backgroundColor: color,\r\n          width: 0,\r\n          opacity : 1,\r\n          height: height\r\n      };\r\n      this.wasOpacied = false;\r\n    } else if (this.wasCompleted) {\r\n      _style = {\r\n          backgroundColor: color,\r\n          width: '100%',\r\n          opacity : 0,\r\n          transition: Transitions.OPACITY,\r\n          height: height\r\n      };\r\n      this.wasCompleted = false;\r\n      this.wasOpacied = true;\r\n    } else {\r\n       let {completed} = this.props;\r\n       if (completed < 0) {\r\n         completed = 0;\r\n       } else if (completed >= 100) {\r\n         completed = 100;\r\n         this.wasCompleted = true\r\n       }\r\n\r\n       _style = {\r\n         backgroundColor: color,\r\n         opacity: 1,\r\n         width: completed + '%',\r\n         transition: Transitions.WIDTH,\r\n         height: height\r\n       };\r\n    }\r\n\r\n    return (\r\n      <div className=\"progress-line\" style={_style}>\r\n      </div>\r\n    )\r\n  }\r\n})\r\n\r\nexport default ProgressLine\r\n"]}