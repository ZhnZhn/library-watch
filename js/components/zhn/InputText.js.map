{"version":3,"file":"InputText.js","names":["_uiApi","require","_has","_jsxRuntime","CL_FIELD","CL_INPUT","CL_BT_CLEAR","_isKeyClean","_ref","keyCode","_isKeyEnter","_ref2","BtClear","_ref3","isValue","onClick","jsx","type","className","tabIndex","children","FN_NOOP","InputText","_ref4","refEl","style","initValue","placeholder","maxLength","onEnter","_refInput","useRef","value","setValue","useState","_hChange","useCallback","event","target","_hKeyDown","_hClean","focusRefElement","useImperativeHandle","getValue","_inputEl","getRefValue","trim","focus","jsxs","ref","autoCorrect","autoCapitalize","spellCheck","onChange","onKeyDown","HAS_TOUCH_EVENTS","Boolean","_default","exports","default"],"sources":["../../../src/components/zhn/InputText.jsx"],"sourcesContent":["import {\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  useImperativeHandle,\r\n  getRefValue,\r\n  focusRefElement\r\n} from '../uiApi';\r\n\r\nimport { HAS_TOUCH_EVENTS } from '../has';\r\n\r\nconst CL_FIELD = 'm-field'\r\n, CL_INPUT = `${CL_FIELD}__input`\r\n, CL_BT_CLEAR = `${CL_FIELD}__bt-clear`;\r\n\r\nconst _isKeyClean = ({\r\n  keyCode\r\n}) => keyCode === 27 || keyCode === 46;\r\nconst _isKeyEnter = ({\r\n  keyCode\r\n}) => keyCode === 13;\r\n\r\nconst BtClear = ({\r\n  isValue,\r\n  onClick\r\n}) => (\r\n  <button\r\n    type=\"button\"\r\n    className={CL_BT_CLEAR}\r\n    tabIndex=\"-1\"\r\n    onClick={onClick}\r\n  >\r\n    {isValue ? 'x' : ''}\r\n  </button>\r\n);\r\n\r\nconst FN_NOOP = () => {};\r\n\r\nconst InputText = ({\r\n  refEl,\r\n  style,\r\n  initValue,\r\n  placeholder,\r\n  maxLength=50,\r\n  onEnter=FN_NOOP\r\n}) => {\r\n  const _refInput = useRef()\r\n  , [value,  setValue] = useState(() => initValue || '')\r\n  , _hChange = useCallback(event => {\r\n    setValue(event.target.value)\r\n  }, [])\r\n  , _hKeyDown = useCallback(event => {\r\n    if (_isKeyClean(event)){\r\n      setValue('')\r\n    } else if (_isKeyEnter(event)) {\r\n      onEnter(event.target.value)\r\n    }\r\n  }, [onEnter])\r\n  , _hClean = useCallback(() => {\r\n    setValue('')\r\n    focusRefElement(_refInput)\r\n  }, []);\r\n\r\n  useImperativeHandle(refEl, () => ({\r\n     getValue: () => {\r\n       const _inputEl = getRefValue(_refInput);\r\n       return _inputEl\r\n         ? _inputEl.value.trim()\r\n         : void 0;\r\n     },\r\n     setValue: (value) => setValue(value),\r\n     focus: () => {\r\n       focusRefElement(_refInput)\r\n     }\r\n  }), [])\r\n\r\n  return (\r\n    <div className={CL_FIELD}>\r\n      <input\r\n        ref={_refInput}\r\n        type=\"text\"\r\n        autoCorrect=\"off\"\r\n        autoCapitalize=\"off\"\r\n        spellCheck={false}\r\n        className={CL_INPUT}\r\n        style={style}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        maxLength={maxLength}\r\n        onChange={_hChange}\r\n        onKeyDown={_hKeyDown}\r\n      />\r\n      {\r\n        HAS_TOUCH_EVENTS && <BtClear\r\n          isValue={Boolean(value)}\r\n          onClick={_hClean}\r\n        />\r\n      }\r\n   </div>\r\n  );\r\n};\r\n\r\nexport default InputText\r\n"],"mappings":"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","ignoreList":[]}