{"version":3,"sources":["../../../../src/components/zhn-atoms/__tests__/DateAgo.test.js"],"names":["_fnGetWrapper","props","dateAgo","wrapper","t","true","is","state","children","length","spanDateAgo","childAt","deepEqual","text","style","STYLE","DATE_AGO","spanDate","display","NONE","preventDefaultSpy","zhnSpy","createValueSpy","stopPropagationSpy","simulate","preventDefault","stopPropagation","isCalledOnce"],"mappings":";;AAAA;;;;AAEA;;;;AACA;;AAGA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/B,SAAO,qBAAQ,8BAAC,iBAAD,EAAaA,KAAb,CAAR,CAAP;AACD,CAFD;;AAIA,mBAAK,8DAAL,EAAqE,aAAK;AACvE,MAAMC,UAAU,YAAhB;AAAA,MACMC,UAAUH,cAAc,EAAEE,gBAAF,EAAd,CADhB;;AAGAE,IAAEC,IAAF,CAAOF,QAAQG,EAAR,CAAW,MAAX,CAAP;AACAF,IAAEC,IAAF,CAAO,CAACF,QAAQI,KAAR,CAAc,YAAd,CAAR;AACAH,IAAEE,EAAF,CAAKH,QAAQK,QAAR,GAAmBC,MAAxB,EAAgC,CAAhC;;AAGA,MAAMC,cAAcP,QAAQQ,OAAR,CAAgB,CAAhB,CAApB;AACAP,IAAEQ,SAAF,CAAYF,YAAYG,IAAZ,EAAZ,EAAgCX,OAAhC;AACAE,IAAEQ,SAAF,CAAYF,YAAYT,KAAZ,GAAoBa,KAAhC,EAAuCC,kBAAMC,QAA7C;;AAEA,MAAMC,WAAWd,QAAQQ,OAAR,CAAgB,CAAhB,CAAjB;AACAP,IAAEE,EAAF,CAAKW,SAAShB,KAAT,GAAiBa,KAAjB,CAAuBI,OAA5B,EAAqCH,kBAAMI,IAAN,CAAWD,OAAhD;AACF,CAfD;;AAiBA,mBAAK,wFAAL,EAA+F,aAAK;AAClG,MAAME,oBAAoBC,iBAAOC,cAAP,EAA1B;AAAA,MACMC,qBAAqBF,iBAAOC,cAAP,EAD3B;AAAA,MAEMnB,UAAUH,eAFhB;AAAA,MAGMU,cAAcP,QAAQQ,OAAR,CAAgB,CAAhB,CAHpB;;AAKAD,cAAYc,QAAZ,CAAqB,OAArB,EAA8B;AAC5BC,oBAAgBL,iBADY;AAE5BM,qBAAiBH;AAFW,GAA9B;;AAKAnB,IAAEC,IAAF,CAAOF,QAAQI,KAAR,CAAc,YAAd,CAAP;AACAH,IAAEC,IAAF,CAAOe,kBAAkBO,YAAlB,EAAP;AACAvB,IAAEC,IAAF,CAAOkB,mBAAmBI,YAAnB,EAAP;AACD,CAdD","file":"DateAgo.test.js","sourcesContent":["import React from 'react';\r\n\r\nimport test from 'ava';\r\nimport { shallow } from 'enzyme';\r\n\r\n\r\nimport zhnSpy from '../../../../js/components/zhn-atoms/__tests__/zhnSpy';\r\nimport DateAgo from '../../../../js/components/zhn-atoms/DateAgo';\r\nimport STYLE from '../../../../js/components/zhn-atoms/DateAgo.Style';\r\n\r\nconst _fnGetWrapper = (props) => {\r\n  return shallow(<DateAgo {...props} />);\r\n}\r\n\r\ntest('render root span with props dateAgo and `display: none` date', t => {\r\n   const dateAgo = '3 mins ago'\r\n       , wrapper = _fnGetWrapper({ dateAgo })\r\n\r\n   t.true(wrapper.is('span'))\r\n   t.true(!wrapper.state('isShowDate'));\r\n   t.is(wrapper.children().length, 2)\r\n\r\n\r\n   const spanDateAgo = wrapper.childAt(0)\r\n   t.deepEqual(spanDateAgo.text(), dateAgo)\r\n   t.deepEqual(spanDateAgo.props().style, STYLE.DATE_AGO)\r\n\r\n   const spanDate = wrapper.childAt(1)\r\n   t.is(spanDate.props().style.display, STYLE.NONE.display)\r\n})\r\n\r\ntest('should on click on dateAgo preventDefault, stopPropagation and change state isShowDate', t => {\r\n  const preventDefaultSpy = zhnSpy.createValueSpy()\r\n      , stopPropagationSpy = zhnSpy.createValueSpy()\r\n      , wrapper = _fnGetWrapper()\r\n      , spanDateAgo = wrapper.childAt(0)\r\n\r\n  spanDateAgo.simulate('click', {\r\n    preventDefault: preventDefaultSpy,\r\n    stopPropagation: stopPropagationSpy\r\n  })\r\n\r\n  t.true(wrapper.state('isShowDate'))\r\n  t.true(preventDefaultSpy.isCalledOnce())\r\n  t.true(stopPropagationSpy.isCalledOnce())\r\n})\r\n"]}