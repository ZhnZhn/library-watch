{"version":3,"sources":["../../../src/components/zhn-atoms/ProgressLine.jsx"],"names":["CL","T","WIDTH","OPACITY","_crStyle","backgroundColor","opacity","width","transition","ProgressLine","wasCompleted","idCompleted","wasOpacied","idOpacied","clearTimeout","setTimeout","forceUpdate","color","props","_style","completed","Component","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,KAAK,eAAX;;AAEA,IAAMC,IAAI;AACRC,SAAO,sBADC;AAERC,WAAS;AAFD,CAAV;;AAKA,IAAMC,WAAW,SAAXA,QAAW,CAACC,eAAD,EAAkBC,OAAlB,EAA2BC,KAA3B,EAAkCC,UAAlC;AAAA,SAAkD;AAChEH,oCADgE,EAC/CE,YAD+C,EACxCD,gBADwC,EAC/BE;AAD+B,GAAlD;AAAA,CAAjB;;IAIMC,Y;;;;;;;;;;;;;;gNAKJC,Y,GAAe,K,QACfC,W,GAAc,I,QACdC,U,GAAa,K,QACbC,S,GAAY,I;;;;;2CAEU;AACpB,UAAI,KAAKF,WAAT,EAAqB;AACnBG,qBAAa,KAAKH,WAAlB;AACD;AACD,UAAI,KAAKE,SAAT,EAAmB;AACjBC,qBAAa,KAAKD,SAAlB;AACD;AACF;;;yCAEmB;AAAA;;AAClB,UAAI,KAAKH,YAAT,EAAsB;AACpB,aAAKC,WAAL,GAAmBI,WAAW,YAAI;AAChC,iBAAKJ,WAAL,GAAmB,IAAnB;AACA,iBAAKK,WAAL;AACD,SAHkB,EAGhB,GAHgB,CAAnB;AAID,OALD,MAKO,IAAI,KAAKJ,UAAT,EAAoB;AACzB,aAAKC,SAAL,GAAiBE,WAAW,YAAI;AAC9B,iBAAKF,SAAL,GAAiB,IAAjB;AACA,iBAAKG,WAAL;AACD,SAHgB,EAGd,GAHc,CAAjB;AAID;AACF;;;6BAEO;AAAA,UACEC,KADF,GACY,KAAKC,KADjB,CACED,KADF;;AAEN,UAAIE,eAAJ;;AAEA,UAAI,KAAKP,UAAT,EAAqB;AACnBO,iBAASf,SAASa,KAAT,EAAgB,CAAhB,EAAmB,CAAnB,CAAT;AACA,aAAKL,UAAL,GAAkB,KAAlB;AACD,OAHD,MAGO,IAAI,KAAKF,YAAT,EAAuB;AAC5BS,iBAASf,SAASa,KAAT,EAAgB,CAAhB,EAAmB,MAAnB,EAA2BhB,EAAEE,OAA7B,CAAT;AACA,aAAKO,YAAL,GAAoB,KAApB;AACA,aAAKE,UAAL,GAAkB,IAAlB;AACD,OAJM,MAIA;AAAA,YACEQ,SADF,GACgB,KAAKF,KADrB,CACEE,SADF;;AAEJ,YAAIA,YAAY,CAAhB,EAAmB;AACjBA,sBAAY,CAAZ;AACD,SAFD,MAEO,IAAIA,aAAa,GAAjB,EAAsB;AAC3BA,sBAAY,GAAZ;AACA,eAAKV,YAAL,GAAoB,IAApB;AACD;AACDS,iBAASf,SAASa,KAAT,EAAgB,CAAhB,EAAmBG,YAAU,GAA7B,EAAkCnB,EAAEC,KAApC,CAAT;AACF;;AAED,aACE,uCAAK,WAAWF,EAAhB,EAAoB,OAAOmB,MAA3B,GADF;AAGD;;;EA1DwBE,gB,UAClBC,Y,GAAe;AACpBL,SAAO;AADa,C;kBA4DTR,Y","file":"ProgressLine.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst CL = \"progress-line\";\r\n\r\nconst T = {\r\n  WIDTH: 'width 500ms ease-out',\r\n  OPACITY: 'opacity 400ms linear'\r\n};\r\n\r\nconst _crStyle = (backgroundColor, opacity, width, transition) => ({\r\n   backgroundColor, width, opacity, transition\r\n});\r\n\r\nclass ProgressLine extends Component {\r\n  static defaultProps = {\r\n    color: '#2f7ed8'\r\n  }\r\n\r\n  wasCompleted = false\r\n  idCompleted = null\r\n  wasOpacied = false\r\n  idOpacied = null\r\n\r\n  componentWillUnmount(){\r\n    if (this.idCompleted){\r\n      clearTimeout(this.idCompleted)\r\n    }\r\n    if (this.idOpacied){\r\n      clearTimeout(this.idOpacied)\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    if (this.wasCompleted){\r\n      this.idCompleted = setTimeout(()=>{\r\n        this.idCompleted = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    } else if (this.wasOpacied){\r\n      this.idOpacied = setTimeout(()=>{\r\n        this.idOpacied = null;\r\n        this.forceUpdate();\r\n      }, 800)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { color } = this.props;\r\n    let _style;\r\n\r\n    if (this.wasOpacied) {\r\n      _style = _crStyle(color, 1, 0)\r\n      this.wasOpacied = false;\r\n    } else if (this.wasCompleted) {\r\n      _style = _crStyle(color, 0, '100%', T.OPACITY)\r\n      this.wasCompleted = false;\r\n      this.wasOpacied = true;\r\n    } else {\r\n       let { completed } = this.props;\r\n       if (completed < 0) {\r\n         completed = 0;\r\n       } else if (completed >= 100) {\r\n         completed = 100;\r\n         this.wasCompleted = true\r\n       }\r\n       _style = _crStyle(color, 1, completed+'%', T.WIDTH)\r\n    }\r\n\r\n    return (\r\n      <div className={CL} style={_style} />\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProgressLine\r\n"]}