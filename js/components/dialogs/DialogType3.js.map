{"version":3,"sources":["../../../src/components/dialogs/DialogType3.jsx"],"names":["dateConfig","helperFns","crMenuMore","crButtons","toUTCSecond","_sortOptions","caption","value","_initFromDate","_initToDate","_onTestDate","DialogType3","Decor","dialog","props","_handleSelectSortBy","item","sortByItem","_handleClear","inputOne","setValue","inputTwo","setState","validationMessages","_handleLoad","_handleLoadWithValidation","_createValidationMessages","_createLoadOption","msg","datesFragment","getValidation","isValid","datesMsg","concat","length","repo","getValue","intitle","getValues","fromDate","toDate","_fromDate","_toDate","requestType","sort","fromdate","todate","_handleClose","_handleCloseWithValidation","_refInputOne","c","_refInputTwo","_refDatesFragment","stock","toolbarButtons","_createType2WithToolbar","hasDate","_menuMore","toggleDates","_clickDateWithToolbar","toggleLabels","_clickLabelWithToolbar","toggleToolBar","_toggleWithToolbar","_commandButtons","inst","state","_withInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","oneTitle","onePlaceholder","twoTitle","twoPlaceholder","isToolbar","isShowLabels","isShowDate","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport D from './DialogCell'\r\nimport Decor from './decorators/Decorators'\r\nimport helperFns from './helperFns/helperFns'\r\n\r\nconst {\r\n  dateConfig,\r\n  crMenuMore, crButtons,\r\n  toUTCSecond\r\n} = helperFns;\r\n\r\nconst _sortOptions = [\r\n  { caption: \"Activity, Recent Day\", value: \"activity\" },\r\n  { caption: \"Creation Date\", value: \"creation\"},\r\n  { caption: \"Score\", value: \"votes\" },\r\n  { caption: \"Relevance\", value: \"relevance\" }\r\n];\r\n\r\nconst {\r\n  _initFromDate,\r\n  _initToDate,\r\n  _onTestDate\r\n} = dateConfig;\r\n\r\n@Decor.dialog\r\nclass DialogType3 extends Component {\r\n  /*\r\n  static propTypes = {\r\n    caption: PropTypes.string,\r\n    requestType: PropTypes.string,\r\n    oneTitle: PropTypes.string,\r\n    onePlaceholder: PropTypes.string,\r\n    twoTitle: PropTypes.string,\r\n    twoPlaceholder: PropTypes.string,\r\n    isShow: PropTypes.bool,\r\n    onShow: PropTypes.func\r\n  }\r\n  */\r\n  constructor(props){\r\n    super(props)\r\n    this.stock = null\r\n    this.sortByItem = {}\r\n    this.toolbarButtons = this._createType2WithToolbar(props, {\r\n      hasDate: true\r\n    })\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleDates: this._clickDateWithToolbar,\r\n      toggleLabels: this._clickLabelWithToolbar,\r\n      toggleToolBar: this._toggleWithToolbar,\r\n    })\r\n    this._commandButtons = crButtons({ inst: this })\r\n    this.state = {\r\n      ...this._withInitialState()\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n _handleSelectSortBy = (item) => {\r\n   this.sortByItem = item\r\n }\r\n\r\n _handleClear = () => {\r\n    this.inputOne.setValue('')\r\n    this.inputTwo.setValue('')\r\n    this.setState({ validationMessages: [] })\r\n }\r\n\r\n _handleLoad = () => {\r\n    this._handleLoadWithValidation(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    )\r\n  }\r\n\r\n  _createValidationMessages = () => {\r\n      let msg = [];\r\n\r\n      const { isValid, datesMsg } = this.datesFragment.getValidation();\r\n      if (!isValid) { msg = msg.concat(datesMsg) }\r\n\r\n      msg.isValid = (msg.length === 0) ? true : false;\r\n      return msg;\r\n  }\r\n _createLoadOption = () => {\r\n   const repo = this.inputOne.getValue()\r\n       , intitle = this.inputTwo.getValue()\r\n       , { fromDate, toDate } = this.datesFragment.getValues()\r\n       , _fromDate = toUTCSecond(fromDate)\r\n       , _toDate = toUTCSecond(toDate)\r\n       , { requestType } = this.props\r\n       , { value } = this.sortByItem;\r\n\r\n   return {\r\n     repo, requestType, intitle,\r\n     sort : value,\r\n     fromdate : _fromDate,\r\n     todate : _toDate\r\n   };\r\n }\r\n\r\n _handleClose = () => {\r\n    this._handleCloseWithValidation(\r\n       this._createValidationMessages\r\n    )\r\n  }\r\n\r\n  _refInputOne = c => this.inputOne = c\r\n  _refInputTwo = c => this.inputTwo = c\r\n  _refDatesFragment = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n        caption, isShow, onShow,\r\n        oneTitle, onePlaceholder,\r\n        twoTitle, twoPlaceholder\r\n      } = this.props\r\n    , {\r\n      isToolbar,\r\n      isShowLabels,\r\n      isShowDate,\r\n      validationMessages\r\n    } = this.state;\r\n\r\n    return (\r\n       <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           commandButtons={this._commandButtons}\r\n           onShowChart={onShow}\r\n           onClose={this._handleClose}\r\n       >\r\n         <D.Toolbar\r\n            isShow={isToolbar}\r\n            buttons={this.toolbarButtons}\r\n         />\r\n        <D.RowInputText\r\n           ref={this._refInputOne}\r\n           isShowLabel={isShowLabels}\r\n           caption={oneTitle}\r\n           placeholder={onePlaceholder}\r\n           onEnter={this._handleLoad}\r\n        />\r\n        <D.RowInputText\r\n           ref={this._refInputTwo}\r\n           isShowLabel={isShowLabels}\r\n           caption={twoTitle}\r\n           placeholder={twoPlaceholder}\r\n        />\r\n        <D.RowInputSelect\r\n           isShowLabel={isShowLabels}\r\n           caption=\"Sort By\"\r\n           placeholder=\"Default: Activity\"\r\n           options={_sortOptions}\r\n           onSelect={this._handleSelectSortBy}\r\n        />\r\n        <D.ShowHide isShow={isShowDate}>\r\n          <D.Dates\r\n              ref={this._refDatesFragment}\r\n              isShowLabels={isShowLabels}\r\n              initFromDate={_initFromDate}\r\n              initToDate={_initToDate}\r\n              onTestDate={_onTestDate}\r\n          />\r\n        </D.ShowHide>\r\n        <D.ValidationMessages\r\n           validationMessages={validationMessages}\r\n        />\r\n      </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType3\r\n"],"file":"DialogType3.js"}