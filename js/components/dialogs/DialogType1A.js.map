{"version":3,"sources":["../../../src/components/dialogs/DialogType1A.jsx"],"names":["crMenuMore","helperFns","crButtons","MARKET_SHARES","caption","value","REGIONS","v2","_initFromDate","DateUtils","getFromDate","_initToDate","getToDate","_onTestDate","isValidDate","DialogType3","Decor","dialog","props","_hSelectItem","item","_item","_hSelectRegion","_region","_handleClear","setState","validationMessages","_handleLoad","_handleLoadWithValidation","_createValidationMessages","_createLoadOption","msg","datesFragment","getValidation","isValid","datesMsg","concat","length","requestType","region","_handleClose","_handleCloseWithValidation","_refDatesFragment","c","stock","toolbarButtons","_createType2WithToolbar","hasDate","_menuMore","toggleDates","_clickDateWithToolbar","toggleLabels","_clickLabelWithToolbar","toggleToolBar","_toggleWithToolbar","_commandButtons","inst","state","_withInitialState","shouldComponentUpdate","nextProps","nextState","isShow","render","onShow","isToolbar","isShowLabels","isShowDate","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport DateUtils from '../../utils/DateUtils'\r\n\r\nimport D from './DialogCell'\r\nimport Decor from './decorators/Decorators'\r\nimport helperFns from './helperFns/helperFns'\r\n\r\nconst { crMenuMore, crButtons } = helperFns;\r\n\r\nconst MARKET_SHARES = [\r\n  { caption: \"OS: Desktop, Mobile, Tablet, Console\", value: \"os\"},\r\n  { caption: \"Windows: Desktop\", value: \"win-desktop\"},\r\n  { caption: \"macOS: Desktop\", value: \"mac-desktop\"},\r\n  { caption: \"Android: Mobile, Tablet\", value: \"android-mobile\" },\r\n  { caption: \"IOS: Mobile, Tablet\", value: \"ios-mobile\" },\r\n  { caption: \"Browser: All Platforms\", value: \"browser\" }\r\n];\r\nconst REGIONS = [\r\n  { caption: \"Worldwide\", value: \"worlwide\", v2: \"ww\"  },\r\n  { caption: \"Africa\", value: \"africa\", v2: \"af\" },\r\n  { caption: \"Asia\", value: \"asia\", v2: \"as\" },\r\n  { caption: \"Antarctica\", value: \"antarctica\", v2: \"an\" },\r\n  { caption: \"Australia\", value: \"australia\", v2: \"au\" },\r\n  { caption: \"Europe\", value: \"europe\", v2: \"eu\" },\r\n  { caption: \"North America\", value: \"north-america\", v2: \"na\" },\r\n  { caption: \"South America\", value: \"south-america\", v2: \"sa\" },\r\n  { caption: \"Oceania\", value: \"oceania\", v2: \"oc\" }\r\n];\r\n\r\nconst _initFromDate = DateUtils.getFromDate(1)\r\n    , _initToDate = DateUtils.getToDate()\r\n    , _onTestDate = DateUtils.isValidDate;\r\n\r\n@Decor.dialog\r\nclass DialogType3 extends Component {\r\n  /*\r\n  static propTypes = {\r\n    caption: PropTypes.string,\r\n    requestType: PropTypes.string,\r\n    oneTitle: PropTypes.string,\r\n    onePlaceholder: PropTypes.string,\r\n    twoTitle: PropTypes.string,\r\n    twoPlaceholder: PropTypes.string,\r\n    isShow: PropTypes.bool,\r\n    onShow: PropTypes.func\r\n  }\r\n  */\r\n  constructor(props){\r\n    super(props)\r\n    this.stock = null\r\n    this._item = MARKET_SHARES[0];\r\n    this._region = REGIONS[0];\r\n    this.toolbarButtons = this._createType2WithToolbar(props, {\r\n      hasDate: false\r\n    })\r\n    this._menuMore = crMenuMore(this, {\r\n      toggleDates: this._clickDateWithToolbar,\r\n      toggleLabels: this._clickLabelWithToolbar,\r\n      toggleToolBar: this._toggleWithToolbar,\r\n    })\r\n    this._commandButtons = crButtons({ inst: this })\r\n    this.state = {\r\n      ...this._withInitialState()\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if (this.props !== nextProps){\r\n       if (this.props.isShow === nextProps.isShow){\r\n          return false;\r\n       }\r\n    }\r\n    return true;\r\n  }\r\n\r\n _hSelectItem = (item) => {\r\n   this._item = item\r\n }\r\n _hSelectRegion = item => {\r\n   this._region = item\r\n }\r\n\r\n _handleClear = () => {\r\n    this.setState({ validationMessages: [] })\r\n }\r\n\r\n _handleLoad = () => {\r\n    this._handleLoadWithValidation(\r\n      this._createValidationMessages(),\r\n      this._createLoadOption\r\n    )\r\n  }\r\n\r\n  _createValidationMessages = () => {\r\n      let msg = [];\r\n\r\n      const { isValid, datesMsg } = this.datesFragment.getValidation();\r\n      if (!isValid) { msg = msg.concat(datesMsg) }\r\n\r\n      msg.isValid = (msg.length === 0) ? true : false;\r\n      return msg;\r\n  }\r\n _createLoadOption = () => {\r\n   const { requestType } = this.props\r\n   , { value, caption } = this._item;\r\n   return {\r\n     requestType,\r\n     value,\r\n     caption: caption,\r\n     region: this._region\r\n   };\r\n }\r\n\r\n _handleClose = () => {\r\n    this._handleCloseWithValidation(\r\n       this._createValidationMessages\r\n    )\r\n  }\r\n\r\n  _refDatesFragment = c => this.datesFragment = c\r\n\r\n  render(){\r\n    const {\r\n        caption, isShow, onShow,\r\n      } = this.props\r\n    , {\r\n      isToolbar,\r\n      isShowLabels,\r\n      isShowDate,\r\n      validationMessages\r\n    } = this.state;\r\n\r\n    return (\r\n       <D.DraggableDialog\r\n           isShow={isShow}\r\n           caption={caption}\r\n           menuModel={this._menuMore}\r\n           commandButtons={this._commandButtons}\r\n           onShowChart={onShow}\r\n           onClose={this._handleClose}\r\n       >\r\n         <D.Toolbar\r\n            isShow={isToolbar}\r\n            buttons={this.toolbarButtons}\r\n         />\r\n        <D.RowInputSelect\r\n           isShowLabel={isShowLabels}\r\n           caption=\"Item\"\r\n           placeholder={MARKET_SHARES[0].caption}\r\n           options={MARKET_SHARES}\r\n           onSelect={this._hSelectItem}\r\n        />\r\n        <D.RowInputSelect\r\n           isShowLabel={isShowLabels}\r\n           caption=\"Region\"\r\n           placeholder={REGIONS[0].caption}\r\n           options={REGIONS}\r\n           onSelect={this._hSelectRegion}\r\n        />\r\n        <D.ShowHide isShow={isShowDate}>\r\n          <D.Dates\r\n              ref={this._refDatesFragment}\r\n              isShowLabels={isShowLabels}\r\n              initFromDate={_initFromDate}\r\n              initToDate={_initToDate}\r\n              onTestDate={_onTestDate}\r\n          />\r\n        </D.ShowHide>\r\n        <D.ValidationMessages\r\n           validationMessages={validationMessages}\r\n        />\r\n      </D.DraggableDialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogType3\r\n"],"file":"DialogType1A.js"}