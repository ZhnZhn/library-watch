{"version":3,"file":"DialogType1.js","names":["_uiApi","require","_memoFn","_useDialog","_interopRequireDefault","_useDialogButtons","_DialogCell","_Dialog","_jsxRuntime","_crValidationMessages","value","oneTitle","msg","push","isValid","length","DialogType1","memoIsShow","_ref","isShow","caption","onePlaceholder","requestType","onShow","onLoad","onClose","MENU_MODEL","TOOLBAR_BUTTONS","isToolbar","isShowLabels","useDialog","_refInputOne","useRef","validationMessages","COMMAND_BUTTONS","hClose","hLoad","useDialogButtons","setValidationMessages","clearValidationMessages","getRefValue","getValue","_validationMessages","repo","jsx","default","menuModel","toolbarButtons","commandButtons","children","RowInputText","refEl","isShowLabel","placeholder","onEnter","_default","exports"],"sources":["../../../src/components/dialogs/DialogType1.jsx"],"sourcesContent":["import {\r\n  useRef,\r\n  getRefValue\r\n} from '../uiApi';\r\n\r\nimport { memoIsShow } from '../hoc/memoFn';\r\n\r\nimport useDialog from './useDialog';\r\nimport useDialogButtons from './useDialogButtons';\r\nimport D from './DialogCell';\r\nimport Dialog from './Dialog';\r\n\r\nconst _crValidationMessages = (\r\n  value,\r\n  oneTitle\r\n) => {\r\n  const msg = [];\r\n  if (!value) {\r\n    msg.push(`${oneTitle} is required`)\r\n  }\r\n  msg.isValid = (msg.length === 0)\r\n  return msg;\r\n};\r\n\r\nconst DialogType1 = memoIsShow(({\r\n  isShow,\r\n  caption,\r\n  oneTitle,\r\n  onePlaceholder,\r\n  requestType,\r\n  onShow,\r\n  onLoad,\r\n  onClose\r\n}) => {\r\n  const [\r\n    MENU_MODEL,\r\n    TOOLBAR_BUTTONS,\r\n    isToolbar,\r\n    isShowLabels\r\n  ] = useDialog()\r\n  , _refInputOne = useRef()\r\n  , [\r\n    validationMessages,\r\n    COMMAND_BUTTONS,\r\n    hClose,\r\n    hLoad\r\n  ] = useDialogButtons((\r\n    setValidationMessages,\r\n    clearValidationMessages\r\n  ) => {\r\n    const value = getRefValue(_refInputOne).getValue()\r\n    , _validationMessages = _crValidationMessages(value, oneTitle)\r\n    if (_validationMessages.isValid){\r\n      onLoad({\r\n        repo: value,\r\n        requestType\r\n      });\r\n      clearValidationMessages()\r\n    } else {\r\n      setValidationMessages(_validationMessages)\r\n    }\r\n  }, onClose);\r\n\r\n  return (\r\n    <Dialog\r\n       isShow={isShow}\r\n       isToolbar={isToolbar}\r\n       caption={caption}\r\n       menuModel={MENU_MODEL}\r\n       toolbarButtons={TOOLBAR_BUTTONS}\r\n       commandButtons={COMMAND_BUTTONS}\r\n       validationMessages={validationMessages}\r\n       onShow={onShow}\r\n       onClose={hClose}\r\n    >\r\n      <D.RowInputText\r\n         refEl={_refInputOne}\r\n         isShowLabel={isShowLabels}\r\n         caption={oneTitle}\r\n         placeholder={onePlaceholder}\r\n         onEnter={hLoad}\r\n      />\r\n    </Dialog>\r\n   );\r\n });\r\n\r\nexport default DialogType1\r\n"],"mappings":";;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAKA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAAE,UAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,iBAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,WAAA,GAAAF,sBAAA,CAAAH,OAAA;AACA,IAAAM,OAAA,GAAAH,sBAAA,CAAAH,OAAA;AAA8B,IAAAO,WAAA,GAAAP,OAAA;AAE9B,MAAMQ,qBAAqB,GAAGA,CAC5BC,KAAK,EACLC,QAAQ,KACL;EACH,MAAMC,GAAG,GAAG,EAAE;EACd,IAAI,CAACF,KAAK,EAAE;IACVE,GAAG,CAACC,IAAI,CAAC,GAAGF,QAAQ,cAAc,CAAC;EACrC;EACAC,GAAG,CAACE,OAAO,GAAIF,GAAG,CAACG,MAAM,KAAK,CAAE;EAChC,OAAOH,GAAG;AACZ,CAAC;AAED,MAAMI,WAAW,GAAG,IAAAC,kBAAU,EAACC,IAAA,IASzB;EAAA,IAT0B;IAC9BC,MAAM;IACNC,OAAO;IACPT,QAAQ;IACRU,cAAc;IACdC,WAAW;IACXC,MAAM;IACNC,MAAM;IACNC;EACF,CAAC,GAAAP,IAAA;EACC,MAAM,CACJQ,UAAU,EACVC,eAAe,EACfC,SAAS,EACTC,YAAY,CACb,GAAG,IAAAC,kBAAS,EAAC,CAAC;IACbC,YAAY,GAAG,IAAAC,aAAM,EAAC,CAAC;IACvB,CACAC,kBAAkB,EAClBC,eAAe,EACfC,MAAM,EACNC,KAAK,CACN,GAAG,IAAAC,yBAAgB,EAAC,CACnBC,qBAAqB,EACrBC,uBAAuB,KACpB;MACH,MAAM7B,KAAK,GAAG,IAAA8B,kBAAW,EAACT,YAAY,CAAC,CAACU,QAAQ,CAAC,CAAC;QAChDC,mBAAmB,GAAGjC,qBAAqB,CAACC,KAAK,EAAEC,QAAQ,CAAC;MAC9D,IAAI+B,mBAAmB,CAAC5B,OAAO,EAAC;QAC9BU,MAAM,CAAC;UACLmB,IAAI,EAAEjC,KAAK;UACXY;QACF,CAAC,CAAC;QACFiB,uBAAuB,CAAC,CAAC;MAC3B,CAAC,MAAM;QACLD,qBAAqB,CAACI,mBAAmB,CAAC;MAC5C;IACF,CAAC,EAAEjB,OAAO,CAAC;EAEX,oBACE,IAAAjB,WAAA,CAAAoC,GAAA,EAACrC,OAAA,CAAAsC,OAAM;IACJ1B,MAAM,EAAEA,MAAO;IACfS,SAAS,EAAEA,SAAU;IACrBR,OAAO,EAAEA,OAAQ;IACjB0B,SAAS,EAAEpB,UAAW;IACtBqB,cAAc,EAAEpB,eAAgB;IAChCqB,cAAc,EAAEd,eAAgB;IAChCD,kBAAkB,EAAEA,kBAAmB;IACvCV,MAAM,EAAEA,MAAO;IACfE,OAAO,EAAEU,MAAO;IAAAc,QAAA,eAEjB,IAAAzC,WAAA,CAAAoC,GAAA,EAACtC,WAAA,CAAAuC,OAAC,CAACK,YAAY;MACZC,KAAK,EAAEpB,YAAa;MACpBqB,WAAW,EAAEvB,YAAa;MAC1BT,OAAO,EAAET,QAAS;MAClB0C,WAAW,EAAEhC,cAAe;MAC5BiC,OAAO,EAAElB;IAAM,CACjB;EAAC,CACI,CAAC;AAEZ,CAAC,CAAC;AAAC,IAAAmB,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAEW7B,WAAW","ignoreList":[]}