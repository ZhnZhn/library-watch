{"version":3,"sources":["../../../src/components/dialogs/DatesFragment.jsx"],"names":["ERROR_FORMAT","FROM_DATE","TO_DATE","ERROR_FROM_NEAR_TO","DatesFragment","_refFromDate","fromDate","c","_refToDate","toDate","props","initFromDate","initToDate","onTestDate","styles","rowDiv","labelSpan","getValue","setValue","msgOnNotValidFormat","datesMsg","isValid","push","trim","length","focusInput","Component","defaultProps","item"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AAFA;;;;AAIA;;;;AACA;;;;;;AAEA,IAAMA,eAAe,2BAArB;AAAA,IACMC,YAAY,WADlB;AAAA,IAEMC,UAAU,SAFhB;AAAA,IAGMC,qBAAqB,gCAH3B;;IAKMC,a;;;;;;;;;;;;;;kNAaJC,Y,GAAe;AAAA,aAAK,MAAKC,QAAL,GAAgBC,CAArB;AAAA,K,QACfC,U,GAAa;AAAA,aAAK,MAAKC,MAAL,GAAcF,CAAnB;AAAA,K;;AAbb;;;;;;;;;;;;6BAeQ;AAAA,mBAKF,KAAKG,KALH;AAAA,UAEJC,YAFI,UAEJA,YAFI;AAAA,UAGJC,UAHI,UAGJA,UAHI;AAAA,UAIJC,UAJI,UAIJA,UAJI;;AAMN,aACI;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,OAAOC,uBAAOC,MAAnB;AACE;AAAA;AAAA,cAAM,OAAOD,uBAAOE,SAApB;AAAA;AAAA,WADF;AAIE,wCAAC,mBAAD;AACG,iBAAK,KAAKX,YADb;AAEG,uBAAWM,YAFd;AAGG,sBAAUX,YAHb;AAIG,oBAAQa;AAJX;AAJF,SADF;AAYC;AAAA;AAAA,YAAK,OAAOC,uBAAOC,MAAnB;AACG;AAAA;AAAA,cAAM,OAAOD,uBAAOE,SAApB;AAAA;AAAA,WADH;AAIG,wCAAC,mBAAD;AACK,iBAAK,KAAKR,UADf;AAEK,uBAAWI,UAFhB;AAGK,sBAAUZ,YAHf;AAIK,oBAAQa;AAJb;AAJH;AAZD,OADJ;AA0BD;;;gCAEU;AACT,aAAO;AACLP,kBAAU,KAAKA,QAAL,CAAcW,QAAd,EADL;AAELR,gBAAQ,KAAKA,MAAL,CAAYQ,QAAZ;AAFH,OAAP;AAID;;;8BAESX,Q,EAAUG,M,EAAO;AACxB,WAAKH,QAAL,CAAcY,QAAd,CAAuBZ,QAAvB;AACA,WAAKG,MAAL,CAAYS,QAAZ,CAAqBT,MAArB;AACF;;;oCAEc;AACP,UAAEU,mBAAF,GAA0B,KAAKT,KAA/B,CAAES,mBAAF;AAAA,UACCC,QADD,GACY,EADZ;;AAEN,UAAI,CAAC,KAAKd,QAAL,CAAce,OAAd,EAAL,EAA8B;AAAED,iBAASE,IAAT,CAAcH,oBAAoBlB,SAApB,CAAd;AAA+C;AAC/E,UAAI,CAAC,KAAKQ,MAAL,CAAYY,OAAZ,EAAL,EAA8B;AAAED,iBAASE,IAAT,CAAcH,oBAAoBjB,OAApB,CAAd;AAA6C;;AAE7E,UAAI,KAAKI,QAAL,CAAcW,QAAd,GAAyBM,IAAzB,KAAkC,KAAKd,MAAL,CAAYQ,QAAZ,GAAuBM,IAAvB,EAAtC,EAAsE;AACpEH,iBAASE,IAAT,CAAcnB,kBAAd;AACD;;AAED,UAAIiB,SAASI,MAAT,GAAgB,CAApB,EAAsB;AACpB,eAAO,EAAEH,SAAS,KAAX,EAAkBD,kBAAlB,EAAP;AACD;AACD,aAAO,EAAEC,SAAU,IAAZ,EAAP;AACD;;;iCAEW;AACV,WAAKf,QAAL,CAAcmB,UAAd;AACD;;;yCAEmB;AAClB,UAAI,CAAC,KAAKnB,QAAL,CAAce,OAAd,EAAL,EAA6B;AAC1B,aAAKf,QAAL,CAAcmB,UAAd;AACA,eAAO,IAAP;AACF;AACD,UAAI,CAAC,KAAKhB,MAAL,CAAYY,OAAZ,EAAL,EAA2B;AACzB,aAAKZ,MAAL,CAAYgB,UAAZ;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD;;;EA5FyBC,gB,UASnBC,Y,GAAe;AACpBR,uBAAqB;AAAA,WAAWS,IAAX;AAAA;AADD,C;kBAsFTxB,a","file":"DatesFragment.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\n//import PropTypes from \"prop-types\";\r\n\r\nimport InputDate from '../zhnAtoms/InputDate'\r\nimport styles from '../styles/DialogStyles'\r\n\r\nconst ERROR_FORMAT = \"YYYY-MM-DD format must be\"\r\n    , FROM_DATE = \"From Date\"\r\n    , TO_DATE = \"To Date\"\r\n    , ERROR_FROM_NEAR_TO = \"From Date is near that To Date\";\r\n\r\nclass DatesFragment extends Component {\r\n  /*\r\n  static propTypes = {\r\n    initFromDate: PropTypes.string,\r\n    initToDate: PropTypes.string,\r\n    onTestDate: PropTypes.func,\r\n    msgOnNotValidFormat: PropTypes.func\r\n  }\r\n  */\r\n  static defaultProps = {\r\n    msgOnNotValidFormat: item => `${item} is not in valid format`\r\n  }\r\n\r\n  _refFromDate = c => this.fromDate = c\r\n  _refToDate = c => this.toDate = c\r\n\r\n  render(){\r\n    const {\r\n      initFromDate,\r\n      initToDate,\r\n      onTestDate\r\n    } = this.props;\r\n    return (\r\n        <div>\r\n          <div style={styles.rowDiv}>\r\n            <span style={styles.labelSpan}>\r\n               From Date:\r\n            </span>\r\n            <InputDate\r\n               ref={this._refFromDate}\r\n               initValue={initFromDate}\r\n               errorMsg={ERROR_FORMAT}\r\n               onTest={onTestDate}\r\n            />\r\n         </div>\r\n         <div style={styles.rowDiv}>\r\n            <span style={styles.labelSpan}>\r\n              To Date:\r\n            </span>\r\n            <InputDate\r\n                 ref={this._refToDate}\r\n                 initValue={initToDate}\r\n                 errorMsg={ERROR_FORMAT}\r\n                 onTest={onTestDate}\r\n            />\r\n         </div>\r\n       </div>\r\n    );\r\n  }\r\n\r\n  getValues(){\r\n    return {\r\n      fromDate: this.fromDate.getValue(),\r\n      toDate: this.toDate.getValue()\r\n    };\r\n  }\r\n\r\n  setValues(fromDate, toDate){\r\n     this.fromDate.setValue(fromDate)\r\n     this.toDate.setValue(toDate)\r\n  }\r\n\r\n  getValidation(){\r\n    const { msgOnNotValidFormat } = this.props\r\n        ,  datesMsg = [];\r\n    if (!this.fromDate.isValid()) { datesMsg.push(msgOnNotValidFormat(FROM_DATE)) }\r\n    if (!this.toDate.isValid())   { datesMsg.push(msgOnNotValidFormat(TO_DATE)) }\r\n\r\n    if (this.fromDate.getValue().trim() > this.toDate.getValue().trim() ) {\r\n      datesMsg.push(ERROR_FROM_NEAR_TO)\r\n    }\r\n\r\n    if (datesMsg.length>0){\r\n      return { isValid: false, datesMsg };\r\n    }\r\n    return { isValid : true };\r\n  }\r\n\r\n  focusInput(){\r\n    this.fromDate.focusInput()\r\n  }\r\n\r\n  focusNotValidInput(){\r\n    if (!this.fromDate.isValid()){\r\n       this.fromDate.focusInput()\r\n       return true;\r\n    }\r\n    if (!this.toDate.isValid()){\r\n      this.toDate.focusInput()\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default DatesFragment\r\n"]}