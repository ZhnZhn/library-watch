{"version":3,"file":"DraggableDialog.js","names":["_styleFn","require","_useKeyEscape","_interopRequireDefault","_useToggle","_useXYMovable","_useDialogFocus","_ModalSlider","_SvgMore","_SvgClose","_FlatButton","_Dialog","_jsxRuntime","CL_DRAGGABLE_DIALOG","CL_NOT_SELECTED","crClNotSelected","CL_MENU_MORE","S_DRAGGABLE_DIALOG","S_DIALOG_DIV","position","top","left","zIndex","S_CAPTION","S_CAPTION_DIV","cursor","S_BT_MORE","S_BT_MORE_SVG","stroke","fill","FN_NOOP","_isFn","fn","DraggableDialog","_ref","refEl","menuModel","isShow","caption","children","commandButtons","onShowChart","onClose","_refRootDiv","_refBtMore","useDialogFocus","_isMore","_toggleMore","useToggle","_hKeyDown","useKeyEscape","_className","crCn","CL_SHOW_POPUP","_styleShow","S_SHOW","S_HIDE","useXYMovable","jsxs","ref","role","tabIndex","className","style","onKeyDown","Fragment","jsx","default","model","btRef","svgStyle","onClick","S_SVG_CLOSE","S_COMMAND_DIV","timeout","rootStyle","S_BT_ROOT","title","_default","exports"],"sources":["../../../src/components/zhn-moleculs/DraggableDialog.jsx"],"sourcesContent":["import {\r\n  crCn,\r\n  crClNotSelected \r\n} from '../styleFn';\r\n\r\nimport useKeyEscape from '../hooks/useKeyEscape';\r\nimport useToggle from '../hooks/useToggle';\r\nimport useXYMovable from '../hooks/useXYMovable';\r\nimport useDialogFocus from './useDialogFocus';\r\n\r\nimport ModalSlider from '../zhn-modal-slider/ModalSlider';\r\nimport SvgMore from '../zhn/SvgMore';\r\nimport SvgClose from '../zhn/SvgClose';\r\nimport FlatButton from '../zhn-m/FlatButton';\r\n\r\nimport {\r\n  CL_SHOW_POPUP,\r\n  S_SHOW,\r\n  S_HIDE,\r\n  S_DIALOG_DIV,\r\n  S_CAPTION_DIV,\r\n  S_SVG_CLOSE,\r\n  S_COMMAND_DIV,\r\n  S_BT_ROOT\r\n} from './Dialog.Style';\r\n\r\nconst CL_DRAGGABLE_DIALOG = \"draggable-dialog\"\r\n, CL_NOT_SELECTED = crClNotSelected()\r\n, CL_MENU_MORE = 'popup-menu dialog__menu-more'\r\n\r\n, S_DRAGGABLE_DIALOG = {\r\n  ...S_DIALOG_DIV,\r\n  position: 'absolute',\r\n  top: 30,\r\n  left: 50,\r\n  zIndex: 10\r\n}\r\n, S_CAPTION = {\r\n  ...S_CAPTION_DIV,\r\n  cursor: 'move'\r\n}\r\n, S_BT_MORE = {\r\n  position: 'absolute',\r\n  top: 2,\r\n  left: 0\r\n}\r\n, S_BT_MORE_SVG = {\r\n  stroke: 'inherit',\r\n  fill: 'inherit'\r\n}\r\n\r\n, FN_NOOP = () => {}\r\n, _isFn = fn => typeof fn === 'function';\r\n\r\nconst DraggableDialog = ({\r\n  refEl,\r\n  menuModel,\r\n  isShow,\r\n  caption,\r\n  children,\r\n  commandButtons,\r\n  onShowChart,\r\n  onClose=FN_NOOP\r\n}) => {\r\n  const [\r\n    _refRootDiv,\r\n    _refBtMore\r\n  ] = useDialogFocus(refEl, isShow)\r\n  , [\r\n    _isMore,\r\n    _toggleMore\r\n  ] = useToggle()\r\n  , _hKeyDown = useKeyEscape(onClose)\r\n  , _className = crCn(\r\n      CL_DRAGGABLE_DIALOG,\r\n      [isShow, CL_SHOW_POPUP]\r\n  )\r\n  , _styleShow = isShow\r\n      ? S_SHOW\r\n      : S_HIDE;\r\n\r\n  useXYMovable(_refRootDiv)\r\n\r\n  return (\r\n    /*eslint-disable jsx-a11y/no-noninteractive-element-interactions*/\r\n    <div\r\n       ref={_refRootDiv}\r\n       role=\"dialog\"\r\n       tabIndex=\"-1\"\r\n       aria-label={caption}\r\n       aria-hidden={!isShow}\r\n       className={_className}\r\n       style={{\r\n       ...S_DRAGGABLE_DIALOG,\r\n       ..._styleShow\r\n       }}\r\n       onKeyDown={_hKeyDown}\r\n     >\r\n     {/*eslint-enable jsx-a11y/no-noninteractive-element-interactions*/}\r\n      <div style={S_CAPTION}>\r\n        { menuModel && <>\r\n           <ModalSlider\r\n             isShow={_isMore}\r\n             className={CL_MENU_MORE}\r\n             model={menuModel}\r\n             onClose={_toggleMore}\r\n           />\r\n           <SvgMore\r\n             btRef={_refBtMore}\r\n             style={S_BT_MORE}\r\n             svgStyle={S_BT_MORE_SVG}\r\n             onClick={_toggleMore}\r\n           />\r\n         </>\r\n        }\r\n        <span className={CL_NOT_SELECTED}>\r\n          {caption}\r\n        </span>\r\n        <SvgClose\r\n           style={S_SVG_CLOSE}\r\n           onClose={onClose}\r\n        />\r\n      </div>\r\n      <div>\r\n         {children}\r\n      </div>\r\n      <div style={S_COMMAND_DIV}>\r\n        {commandButtons}\r\n        {\r\n          _isFn(onShowChart) && <FlatButton\r\n            key=\"show\"\r\n            timeout={0}\r\n            rootStyle={S_BT_ROOT}\r\n            caption=\"Show\"\r\n            title=\"Show Pane Container\"\r\n            onClick={onShowChart}\r\n          />\r\n        }\r\n        <FlatButton\r\n          key=\"close\"\r\n          timeout={0}\r\n          rootStyle={S_BT_ROOT}\r\n          caption=\"Close\"\r\n          title=\"Close Draggable Dialog\"\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DraggableDialog\r\n"],"mappings":"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","ignoreList":[]}