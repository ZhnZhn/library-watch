{"version":3,"file":"useDialogFocus.js","names":["_uiApi","require","useDialogFocus","ref","isShow","refRoot","useRef","refBtMore","_refPrevFocused","_refIsShowPrev","focus","useCallback","current","document","activeElement","focusHtmlElement","getRefValue","focusPrev","useEffect","_isPrevShow","useImperativeHandle","_default","exports","default"],"sources":["../../../src/components/zhn-moleculs/useDialogFocus.js"],"sourcesContent":["import {\r\n  useRef,\r\n  useCallback,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  getRefValue,\r\n  focusHtmlElement\r\n} from '../uiApi';\r\n\r\nconst useDialogFocus = (ref, isShow) => {\r\n  const refRoot = useRef()\r\n  , refBtMore = useRef()\r\n  , _refPrevFocused = useRef()\r\n  , _refIsShowPrev = useRef()\r\n  , focus = useCallback(() => {\r\n      _refPrevFocused.current = document.activeElement\r\n      focusHtmlElement(getRefValue(refBtMore) || getRefValue(refRoot))\r\n  }, [])\r\n  , focusPrev = useCallback(()=>{\r\n      focusHtmlElement(getRefValue(_refPrevFocused))\r\n      _refPrevFocused.current = null\r\n  }, []);\r\n\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  useEffect(()=>{\r\n    const _isPrevShow = getRefValue(_refIsShowPrev);\r\n    if (isShow && !_isPrevShow) {\r\n      focus()\r\n    } else if (!isShow && _isPrevShow) {\r\n      focusPrev()\r\n    }\r\n    _refIsShowPrev.current = isShow\r\n  }, [isShow])\r\n  //focus, focusPrev\r\n  useImperativeHandle(ref, () => ({\r\n    focus,\r\n    focusPrev\r\n  }), [])\r\n  //focus, focusPrev\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n\r\n  return [refRoot, refBtMore];\r\n};\r\n\r\nexport default useDialogFocus\r\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AASA,MAAMC,cAAc,GAAGA,CAACC,GAAG,EAAEC,MAAM,KAAK;EACtC,MAAMC,OAAO,GAAG,IAAAC,aAAM,EAAC,CAAC;IACtBC,SAAS,GAAG,IAAAD,aAAM,EAAC,CAAC;IACpBE,eAAe,GAAG,IAAAF,aAAM,EAAC,CAAC;IAC1BG,cAAc,GAAG,IAAAH,aAAM,EAAC,CAAC;IACzBI,KAAK,GAAG,IAAAC,kBAAW,EAAC,MAAM;MACxBH,eAAe,CAACI,OAAO,GAAGC,QAAQ,CAACC,aAAa;MAChD,IAAAC,uBAAgB,EAAC,IAAAC,kBAAW,EAACT,SAAS,CAAC,IAAI,IAAAS,kBAAW,EAACX,OAAO,CAAC,CAAC;IACpE,CAAC,EAAE,EAAE,CAAC;IACJY,SAAS,GAAG,IAAAN,kBAAW,EAAC,MAAI;MAC1B,IAAAI,uBAAgB,EAAC,IAAAC,kBAAW,EAACR,eAAe,CAAC,CAAC;MAC9CA,eAAe,CAACI,OAAO,GAAG,IAAI;IAClC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,IAAAM,gBAAS,EAAC,MAAI;IACZ,MAAMC,WAAW,GAAG,IAAAH,kBAAW,EAACP,cAAc,CAAC;IAC/C,IAAIL,MAAM,IAAI,CAACe,WAAW,EAAE;MAC1BT,KAAK,CAAC,CAAC;IACT,CAAC,MAAM,IAAI,CAACN,MAAM,IAAIe,WAAW,EAAE;MACjCF,SAAS,CAAC,CAAC;IACb;IACAR,cAAc,CAACG,OAAO,GAAGR,MAAM;EACjC,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EACZ;EACA,IAAAgB,0BAAmB,EAACjB,GAAG,EAAE,OAAO;IAC9BO,KAAK;IACLO;EACF,CAAC,CAAC,EAAE,EAAE,CAAC;EACP;EACA;;EAEA,OAAO,CAACZ,OAAO,EAAEE,SAAS,CAAC;AAC7B,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEarB,cAAc","ignoreList":[]}