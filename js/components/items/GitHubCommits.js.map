{"version":3,"sources":["../../../src/components/items/GitHubCommits.jsx"],"names":["ITEM_DESCRIPTION","GitHubCommits","state","isShow","_hToggleOpen","setState","prevState","_hClickWatch","props","repo","requestType","onWatchItem","caption","descr","config","version","_renderCommits","commits","_timeago","Date","now","map","item","index","commit","html_url","message","committer","date","name","_dateTime","replace","_dateAgo","format","CL","ROW_ITEM","STYLE","PB_8","PR_8","render","onCloseItem","ROOT","BT_ITEM","CAPTION_OPEN","BTN_CIRCLE","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport timeago from 'timeago.js';\r\n\r\nimport A from '../zhn-atoms/A';\r\nimport Caption from './ItemCaption'\r\nimport CL from '../styles/CL'\r\nimport STYLE from './Item.Style'\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Repository Commits\";\r\n\r\nclass GitHubCommits extends Component {\r\n  state = {\r\n    isShow: true\r\n  }\r\n\r\n  _hToggleOpen = () => {\r\n    this.setState( prevState => ({\r\n      isShow: !prevState.isShow\r\n    }))\r\n  }\r\n\r\n  _hClickWatch = () => {\r\n    const { repo, requestType, onWatchItem } = this.props\r\n        , caption = `${repo}`\r\n        , descr = ITEM_DESCRIPTION\r\n    onWatchItem({\r\n       caption: caption,\r\n       config: { repo, requestType, version : '', caption, descr }\r\n    });\r\n  }\r\n\r\n  _renderCommits = (commits) => {\r\n     const _timeago = timeago(Date.now());\r\n     return commits.map((item, index) => {\r\n        const { commit={}, html_url } = item\r\n        , { message='', committer={} } = commit\r\n        , { date='', name='' } = committer\r\n        , _dateTime = date.replace('T', ' ').replace('Z', '')\r\n        , _dateAgo = _timeago.format(_dateTime)\r\n\r\n        return (\r\n           <div key={index} className={CL.ROW_ITEM}>\r\n              <a href={html_url}>\r\n              <div style={STYLE.PB_8}>\r\n                <span style={STYLE.PR_8}>\r\n                  {name}\r\n                </span>\r\n                <A.DateAgo\r\n                   dateAgo={_dateAgo}\r\n                   date={_dateTime}\r\n                />\r\n              </div>\r\n                <div>\r\n                  {message}\r\n                </div>\r\n              </a>\r\n           </div>\r\n        );\r\n     })\r\n  }\r\n\r\n  render(){\r\n    const {\r\n        repo, caption, commits,\r\n        onCloseItem\r\n       } = this.props\r\n    , { isShow } = this.state;\r\n\r\n     return (\r\n       <div style={STYLE.ROOT}>\r\n         <Caption onClose={onCloseItem}>\r\n           <button\r\n              className={CL.BT_ITEM}              \r\n              title={caption}\r\n              style={STYLE.CAPTION_OPEN}\r\n              onClick={this._hToggleOpen}\r\n           >\r\n             <span>\r\n               {repo}\r\n             </span>\r\n           </button>\r\n           <A.ButtonCircle\r\n              caption=\"W\"\r\n              title=\"Add to Watch\"\r\n              style={STYLE.BTN_CIRCLE}\r\n              onClick={this._hClickWatch}\r\n           />\r\n         </Caption>\r\n         <A.ShowHide isShow={isShow}>\r\n           {this._renderCommits(commits)}\r\n         </A.ShowHide>\r\n       </div>\r\n     );\r\n  }\r\n}\r\n\r\nexport default GitHubCommits\r\n"],"file":"GitHubCommits.js"}