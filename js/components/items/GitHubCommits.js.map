{"version":3,"sources":["../../../src/components/items/GitHubCommits.jsx"],"names":["ITEM_DESCRIPTION","GitHubCommits","state","isShow","_hToggleOpen","setState","prevState","_hClickWatch","props","repo","requestType","onWatchItem","caption","descr","config","version","_renderCommits","commits","_timeago","Date","now","map","item","index","commit","html_url","message","committer","date","name","_dateTime","replace","_dateAgo","format","className","STYLE","PB_8","PR_8","onCloseItem","ROOT","CAPTION_OPEN","BTN_CIRCLE","Component"],"mappings":"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","file":"GitHubCommits.js","sourcesContent":["import React, { Component } from 'react';\r\nimport timeago from 'timeago.js';\r\n\r\nimport A from '../zhn-atoms/A';\r\nimport Caption from './ItemCaption'\r\nimport STYLE from './Item.Style'\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Repository Commits\";\r\n\r\nclass GitHubCommits extends Component {\r\n  state = {\r\n    isShow: true\r\n  }\r\n\r\n  _hToggleOpen = () => {\r\n    this.setState( prevState => ({\r\n      isShow: !prevState.isShow\r\n    }))\r\n  }\r\n\r\n  _hClickWatch = () => {\r\n    const { repo, requestType, onWatchItem } = this.props\r\n        , caption = `${repo}`\r\n        , descr = ITEM_DESCRIPTION\r\n    onWatchItem({\r\n       caption: caption,\r\n       config: { repo, requestType, version : '', caption, descr }\r\n    });\r\n  }\r\n\r\n  _renderCommits = (commits) => {\r\n     const _timeago = timeago(Date.now());\r\n     return commits.map((item, index) => {\r\n        const { commit={}, html_url } = item\r\n            , { message='', committer={} } = commit\r\n            , { date='', name='' } = committer\r\n            , _dateTime = date.replace('T', ' ').replace('Z', '')\r\n            , _dateAgo = _timeago.format(_dateTime)\r\n            , className = (index % 2)\r\n                     ? 'row-even not-selected'\r\n                     : 'row-odd not-selected'\r\n        return (\r\n           <div key={index} className={className}>\r\n              <a href={html_url}>\r\n              <div style={STYLE.PB_8}>\r\n                <span style={STYLE.PR_8}>\r\n                  {name}\r\n                </span>\r\n                <A.DateAgo\r\n                   dateAgo={_dateAgo}\r\n                   date={_dateTime}\r\n                />\r\n              </div>\r\n                <div>\r\n                  {message}\r\n                </div>\r\n              </a>\r\n           </div>\r\n        );\r\n     })\r\n  }\r\n\r\n  render(){\r\n    const {\r\n        repo, caption, commits,\r\n        onCloseItem\r\n       } = this.props\r\n    , { isShow } = this.state;\r\n\r\n     return (\r\n       <div style={STYLE.ROOT}>\r\n         <Caption onClose={onCloseItem}>\r\n           <button\r\n              className=\"not-selected\"\r\n              title={caption}\r\n              style={STYLE.CAPTION_OPEN}\r\n              onClick={this._hToggleOpen}\r\n           >\r\n             <span>\r\n               {repo}\r\n             </span>\r\n           </button>\r\n           <A.ButtonCircle\r\n              caption=\"W\"\r\n              title=\"Add to Watch\"\r\n              style={STYLE.BTN_CIRCLE}\r\n              onClick={this._hClickWatch}\r\n           />\r\n         </Caption>\r\n         <A.ShowHide isShow={isShow}>\r\n           {this._renderCommits(commits)}\r\n         </A.ShowHide>\r\n       </div>\r\n     );\r\n  }\r\n}\r\n\r\nexport default GitHubCommits\r\n"]}