{"version":3,"sources":["../../../src/components/items/GitHubCommits.jsx"],"names":["ITEM_DESCRIPTION","styles","rootDiv","lineHeight","marginBottom","marginRight","position","captionSpanOpen","display","color","cursor","maxWidth","fontWeight","whiteSpace","textOverflow","overflow","float","SPAN_VERSION","paddingLeft","paddingRight","BTN_CIRCLE","marginLeft","GitHubCommits","state","isShow","_handlerToggleOpen","setState","_handlerClickWatch","props","repo","requestType","onWatchItem","caption","descr","config","version","_renderCommits","commits","_timeago","Date","now","map","item","index","commit","html_url","message","committer","date","name","_dateTime","replace","_dateAgo","format","className","paddingBottom","onCloseItem","_styleCaption","Component"],"mappings":"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","file":"GitHubCommits.js","sourcesContent":["import React, { Component } from 'react';\r\nimport timeago from 'timeago.js';\r\n\r\nimport Caption from './ItemCaption'\r\nimport ButtonCircle from '../zhn-atoms/ButtonCircle';\r\nimport ShowHide from '../zhn-atoms/ShowHide';\r\nimport DateAgo from '../zhn-atoms/DateAgo';\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Repository Commits\"\r\n\r\nconst styles = {\r\n  rootDiv : {\r\n    lineHeight : 1.5,\r\n    marginBottom: '10px',\r\n    marginRight: '25px',\r\n    //marginRight: '10px',\r\n    position : 'relative'\r\n  },\r\n  captionSpanOpen : {\r\n    display : 'inline-block',\r\n    color: 'rgba(164, 135, 212, 1)',\r\n    cursor: 'pointer',\r\n    maxWidth: '500px',\r\n    fontWeight : 'bold',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow : 'ellipsis',\r\n    overflow : 'hidden',\r\n    float : 'left'\r\n  },\r\n\r\n  SPAN_VERSION : {\r\n    color: '#80c040',\r\n    paddingLeft : '10px',\r\n    paddingRight : '10px'\r\n  },\r\n  BTN_CIRCLE : {\r\n    marginLeft: '10px'\r\n  }\r\n}\r\n\r\n\r\nclass GitHubCommits extends Component {\r\n  state = {\r\n    isShow: true\r\n  }\r\n\r\n  _handlerToggleOpen = () => {\r\n    this.setState({ isShow: !this.state.isShow })\r\n  }\r\n\r\n  _handlerClickWatch = () => {\r\n    const { repo, requestType, onWatchItem } = this.props\r\n        , caption = `${repo}`\r\n        , descr = ITEM_DESCRIPTION\r\n    onWatchItem({\r\n       caption : caption,\r\n       config : { repo, requestType, version : '', caption, descr }\r\n    });\r\n  }\r\n\r\n  _renderCommits = (commits) => {\r\n     const _timeago = timeago(Date.now());\r\n     return commits.map((item, index) => {\r\n        const { commit={}, html_url } = item\r\n            , { message='', committer={} } = commit\r\n            , { date='', name='' } = committer\r\n            , _dateTime = date.replace('T', ' ').replace('Z', '')\r\n            , _dateAgo = _timeago.format(_dateTime)\r\n            , className = (index % 2)\r\n                     ? 'row-even not-selected'\r\n                     : 'row-odd not-selected'\r\n        return (\r\n           <div key={index} className={className}>\r\n              <a href={html_url}>\r\n              <div style={{ paddingBottom: '8px' }}>\r\n                <span style={{ paddingRight: '8px' }}>\r\n                  {name}\r\n                </span>\r\n                <DateAgo\r\n                   dateAgo={_dateAgo}\r\n                   date={_dateTime}\r\n                />\r\n              </div>\r\n                <div>\r\n                  {message}\r\n                </div>\r\n              </a>\r\n           </div>\r\n        );\r\n     })\r\n  }\r\n\r\n  render(){\r\n    const {\r\n            repo, caption, commits,\r\n            onCloseItem\r\n           } = this.props\r\n        , _styleCaption = styles.captionSpanOpen\r\n        , { isShow } = this.state;\r\n\r\n     return (\r\n       <div style={styles.rootDiv}>\r\n         <Caption onClose={onCloseItem}>\r\n           <span\r\n              className=\"not-selected\"\r\n              title={caption}\r\n              style={_styleCaption}\r\n              onClick={this._handlerToggleOpen}\r\n           >\r\n             <span>\r\n               {repo}\r\n             </span>\r\n           </span>\r\n           <ButtonCircle\r\n              caption=\"W\"\r\n              title=\"Add to Watch\"\r\n              style={styles.BTN_CIRCLE}\r\n              onClick={this._handlerClickWatch}\r\n           />\r\n         </Caption>\r\n         <ShowHide isShow={isShow}>\r\n           {this._renderCommits(commits)}\r\n         </ShowHide>\r\n       </div>\r\n     );\r\n  }\r\n}\r\n\r\nexport default GitHubCommits\r\n"]}