{"version":3,"file":"TaggedQuestions.js","names":["_uiApi","require","_styleFn","_useToggle","_interopRequireDefault","_useMenuMore","_ShowHide","_SvgMore","_ItemCaption","_ModalSlider","_TaggedItemList","_crModelMore","_sortItemsBy","_Item","_jsxRuntime","S_BT_MORE","position","top","marginRight","S_ITEM_COUNT","color","padding","S_BT_REVERSE","fontWeight","cursor","S_NOT_FLOAT","float","DF_ITEMS","StackTaggedQuestions","props","repo","caption","onCloseItem","state","setState","useState","items","pnForSort","titleForSort","itemRemoved","isShow","_toggleIsShow","useToggle","_reverseItems","useCallback","prevState","reverse","_sortItemsByPropName","propName","title","sortItemsBy","_onRemoveItem","_MODEL_MORE","_isMenuMore","_toggleMenuMore","_showMenuMore","useMenuMore","crModelMore","setSortByProp","_itemsLength","length","_tokenItemsCount","_titleForSort","jsxs","style","S_ROOT","children","jsx","default","className","CL_MENU_MORE","model","onClose","onClick","CL_NOT_SELECTED","S_CAPTION_OPEN","onRemoveItem","_default","exports"],"sources":["../../../../src/components/items/stack/TaggedQuestions.jsx"],"sourcesContent":["import {\r\n  useState,\r\n  useCallback\r\n} from '../../uiApi';\r\n\r\nimport {\r\n  CL_NOT_SELECTED,\r\n  CL_MENU_MORE\r\n} from '../../styleFn';\r\n\r\nimport useToggle from '../../hooks/useToggle';\r\nimport useMenuMore from '../../hooks/useMenuMore';\r\n\r\nimport ShowHide from '../../zhn/ShowHide';\r\nimport SvgMore from '../../zhn/SvgMore';\r\nimport Caption from '../ItemCaption';\r\nimport ModalSlider from '../../zhn-modal-slider/ModalSlider';\r\nimport TaggedItemList from './TaggedItemList';\r\n\r\nimport crModelMore from './crModelMore';\r\nimport sortItemsBy from './sortItemsBy';\r\n\r\nimport {\r\n  S_ROOT,\r\n  S_CAPTION_OPEN\r\n} from '../Item.Style';\r\n\r\nconst S_BT_MORE = {\r\n  position: 'relative',\r\n  top: 3,\r\n  marginRight: 12\r\n}\r\n, S_ITEM_COUNT = {\r\n  color: '#a9a9a9',\r\n  padding: '0 12px'\r\n}\r\n, S_BT_REVERSE = {\r\n  color: '#a487d4',\r\n  fontWeight: 'bold',\r\n  cursor: 'pointer'\r\n}\r\n, S_NOT_FLOAT = { float: 'none' }\r\n, DF_ITEMS = [];\r\n\r\nconst StackTaggedQuestions = (props) => {\r\n  const {\r\n    repo,\r\n    caption,\r\n    onCloseItem\r\n  } = props\r\n  , [state, setState] = useState(() => ({\r\n     items: props.items || DF_ITEMS,\r\n     pnForSort: '',\r\n     titleForSort: '',\r\n     itemRemoved: 0\r\n  }))\r\n  , {\r\n      items,\r\n      titleForSort,\r\n      itemRemoved\r\n    } = state\r\n  , [isShow, _toggleIsShow] = useToggle(true)\r\n  , _reverseItems = useCallback(() => {\r\n    setState(prevState => ({\r\n      ...prevState,\r\n      items: [...prevState.items.reverse()]\r\n    }))\r\n  }, [])\r\n  , _sortItemsByPropName = useCallback((propName, title) => {\r\n    setState(prevState => ({\r\n      ...prevState,\r\n      pnForSort: propName,\r\n      titleForSort: title,\r\n      items: [...sortItemsBy(prevState.items, propName)]\r\n    }))\r\n  }, [])\r\n  , _onRemoveItem = useCallback(() => {\r\n    setState(prevState => ({\r\n      ...prevState,\r\n      itemRemoved: prevState.itemRemoved + 1\r\n    }))\r\n  }, [])\r\n  , [\r\n      _MODEL_MORE,\r\n      _isMenuMore,\r\n      _toggleMenuMore,\r\n      _showMenuMore\r\n    ] = useMenuMore(crModelMore, {\r\n      setSortByProp: _sortItemsByPropName,\r\n      reverse: _reverseItems\r\n  })\r\n  , _itemsLength = items.length\r\n  , _tokenItemsCount = itemRemoved\r\n      ? `${_itemsLength - itemRemoved}/${_itemsLength}`\r\n      : `${_itemsLength}`\r\n  , _titleForSort = `Sorted By ${titleForSort}`;\r\n\r\n  return (\r\n    <div style={S_ROOT}>\r\n      <ModalSlider\r\n        isShow={_isMenuMore}\r\n        className={CL_MENU_MORE}\r\n        model={_MODEL_MORE}\r\n        onClose={_toggleMenuMore}\r\n      />\r\n      <Caption onClose={onCloseItem}>\r\n        <SvgMore\r\n          style={S_BT_MORE}\r\n          onClick={_showMenuMore}\r\n        />\r\n        <button\r\n           className={CL_NOT_SELECTED}\r\n           title={caption}\r\n           style={{...S_CAPTION_OPEN, ...S_NOT_FLOAT}}\r\n           onClick={_toggleIsShow}\r\n        >\r\n          <span>\r\n            {repo}\r\n          </span>\r\n          <span style={S_ITEM_COUNT}>\r\n             {_tokenItemsCount}\r\n          </span>\r\n        </button>\r\n        <button\r\n          className={CL_NOT_SELECTED}\r\n          style={S_BT_REVERSE}\r\n          title=\"Reverse Items\"\r\n          onClick={_reverseItems}\r\n        >\r\n           {_titleForSort}\r\n        </button>\r\n      </Caption>\r\n      <ShowHide isShow={isShow}>\r\n        <TaggedItemList\r\n          items={items}\r\n          onRemoveItem={_onRemoveItem}\r\n        />\r\n      </ShowHide>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StackTaggedQuestions\r\n"],"mappings":"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","ignoreList":[]}