{"version":3,"sources":["../../../../src/components/items/stack/TaggedQuestions.jsx"],"names":["S","BT_MORE","marginRight","ITEM_COUNT","color","paddingLeft","paddingRight","BT_REVERSE","fontWeight","cursor","NOT_FLOAT","float","StackTaggedQuestions","props","_sortItemsByPropName","propName","title","setState","pnForSort","titleForSort","items","prevState","_reverseItems","reverse","_hToggleOpen","isShow","_hShowMore","isMore","_hToggleMore","_onRemoveItem","itemRemoved","_MODEL_MORE","setSortByProp","bind","state","repo","caption","onCloseItem","_items_count","length","_token_count","_titleForSort","STYLE","ROOT","CL","MENU_MORE","NOT_SELECTED","CAPTION_OPEN","Component","defaultProps"],"mappings":"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","file":"TaggedQuestions.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport A from '../../zhn-atoms/A'\r\nimport Caption from '../ItemCaption'\r\nimport ModalSlider from '../../zhn-modal-slider/ModalSlider'\r\nimport crModelMore from './crModelMore'\r\nimport sortItemsBy from './sortItemsBy'\r\nimport TaggedItemList from './TaggedItemList'\r\nimport STYLE from '../Item.Style'\r\nimport CL from '../../styles/CL'\r\n\r\nconst S = {\r\n  BT_MORE: {\r\n    marginRight: 12\r\n  },\r\n  ITEM_COUNT: {\r\n    color: '#a9a9a9',\r\n    paddingLeft: 12,\r\n    paddingRight: 12\r\n  },\r\n  BT_REVERSE: {\r\n    color: '#a487d4',\r\n    fontWeight: 'bold',\r\n    cursor: 'pointer'\r\n  },\r\n  NOT_FLOAT: {\r\n    float: 'none'\r\n  }\r\n};\r\n\r\nclass StackTaggedQuestions extends Component {\r\n\r\n  static defaultProps = {\r\n    items: []\r\n  }\r\n\r\n  constructor(props){\r\n    super(props)\r\n\r\n    this._MODEL_MORE = crModelMore({\r\n      setSortByProp: this._sortItemsByPropName.bind(this),\r\n      reverse: this._reverseItems.bind(this)\r\n    })\r\n\r\n    this.state = {\r\n      isShow: true,\r\n      isMore: false,\r\n      pnForSort: '',\r\n      titleForSort: '',\r\n      items: props.items,\r\n      itemRemoved: 0\r\n    }\r\n  }\r\n\r\n  _sortItemsByPropName = (propName, title) => {\r\n    this.setState(prevState => ({\r\n      pnForSort: propName,\r\n      titleForSort: title,\r\n      items: [...sortItemsBy(prevState.items, propName)]\r\n    }))\r\n  }\r\n  _reverseItems = () => {\r\n    this.setState(prevState => ({\r\n      items: [...prevState.items.reverse()]\r\n    }))\r\n  }\r\n\r\n  _hToggleOpen = () => {\r\n    this.setState(prevState => ({\r\n      isShow: !prevState.isShow\r\n    }))\r\n  }\r\n\r\n  _hShowMore = () => {\r\n    this.setState({ isMore: true })\r\n  }\r\n\r\n  _hToggleMore = () => {\r\n    this.setState(prevState => ({\r\n      isMore: !prevState.isMore\r\n    }))\r\n  }\r\n\r\n  _onRemoveItem = () => {\r\n    this.setState(prevState => ({\r\n      itemRemoved: prevState.itemRemoved + 1\r\n    }))\r\n  }\r\n\r\n\r\n  render(){\r\n    const {\r\n      repo, caption,\r\n      onCloseItem\r\n     } = this.props\r\n    , {\r\n        isShow, isMore,\r\n        items, titleForSort,\r\n        itemRemoved\r\n      } = this.state\r\n    , _items_count = items.length\r\n    , _token_count = itemRemoved\r\n        ? `${_items_count - itemRemoved}/${_items_count}`\r\n        : `${_items_count}`\r\n    , _titleForSort = `Sorted By ${titleForSort}`;\r\n\r\n     return (\r\n       <div style={STYLE.ROOT}>\r\n         <Caption onClose={onCloseItem}>\r\n           <ModalSlider\r\n             isShow={isMore}\r\n             className={CL.MENU_MORE}\r\n             model={this._MODEL_MORE}\r\n             onClose={this._hToggleMore}\r\n           />\r\n           <A.SvgMore\r\n             style={S.BT_MORE}\r\n             onClick={this._hShowMore}\r\n           />\r\n           <button\r\n              className={CL.NOT_SELECTED}\r\n              title={caption}\r\n              style={{...STYLE.CAPTION_OPEN, ...S.NOT_FLOAT}}\r\n              onClick={this._hToggleOpen}\r\n           >\r\n             <span>\r\n               {repo}\r\n             </span>\r\n             <span style={S.ITEM_COUNT}>\r\n                {_token_count}\r\n             </span>\r\n           </button>\r\n           <button\r\n             className={CL.NOT_SELECTED}\r\n             style={S.BT_REVERSE}\r\n             title=\"Reverse Items\"\r\n             onClick={this._reverseItems}\r\n           >\r\n              {_titleForSort}\r\n           </button>\r\n         </Caption>\r\n         <A.ShowHide isShow={isShow}>\r\n           <TaggedItemList\r\n             items={items}\r\n             onRemoveItem={this._onRemoveItem}\r\n           />\r\n         </A.ShowHide>\r\n       </div>\r\n     );\r\n  }\r\n}\r\n\r\nexport default StackTaggedQuestions\r\n"]}