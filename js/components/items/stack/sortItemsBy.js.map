{"version":3,"sources":["../../../../src/components/items/stack/sortItemsBy.js"],"names":["isNumber","is","DF_RESULT","_compareNotNumber","a","b","dfR","isB","isA","_getReputation","item","owner","reputation","_compareByReputation","bN","aN","_notNumberResult","_fCompareBy","propName","sortItemsBy","items","_compare","sort"],"mappings":";;;;;;AAAA;;;;;;IAEQA,Q,GAAaC,Y,CAAbD,Q;;;AAER,IAAME,YAAY,CAAlB;AACA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAACC,CAAD,EAAIC,CAAJ,EAAyB;AAAA,MAAlBC,GAAkB,uEAAdJ,SAAc;;AACjD,MAAMK,MAAMP,SAASK,CAAT,CAAZ;AAAA,MACEG,MAAMR,SAASI,CAAT,CADR;;AAGA,MAAI,CAACG,GAAD,IAAQ,CAACC,GAAb,EAAkB,OAAO,CAAP;AAClB,MAAID,OAAO,CAACC,GAAZ,EAAiB,OAAO,CAAP;AACjB,MAAI,CAACD,GAAD,IAAQC,GAAZ,EAAiB,OAAO,CAAC,CAAR;AACjB,SAAOF,GAAP;AACD,CARD;;AAUA,IAAMG,iBAAiB,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AAAA,aACVA,QAAQ,EADE;AAAA,wBACvBC,KADuB;AAAA,MACvBA,KADuB,8BACjB,EADiB;;AAE/B,SAAOA,MAAMC,UAAN,IAAoB,CAA3B;AACD,CAHD;AAIA,IAAMC,uBAAuB,SAAvBA,oBAAuB,CAACT,CAAD,EAAIC,CAAJ,EAAU;AACrC,MAAMS,KAAKL,eAAeJ,CAAf,CAAX;AAAA,MACEU,KAAKN,eAAeL,CAAf,CADP;AAAA,MAEEY,mBAAmBb,kBAAkBY,EAAlB,EAAsBD,EAAtB,CAFrB;AAGA,SAAOE,qBAAqBd,SAArB,GACHY,KAAKC,EADF,GAEHC,gBAFJ;AAGD,CAPD;;AAUA,IAAMC,cAAc,SAAdA,WAAc,CAACC,QAAD;AAAA,SAAc,UAACd,CAAD,EAAIC,CAAJ,EAAU;AAC1C,QAAMS,KAAKT,EAAEa,QAAF,CAAX;AAAA,QACEH,KAAKX,EAAEc,QAAF,CADP;AAAA,QAEEF,mBAAmBb,kBAAkBY,EAAlB,EAAsBD,EAAtB,CAFrB;AAGA;AACA,QAAIE,qBAAqBd,SAAzB,EAAoC;AAClC,aAAOc,gBAAP;AACD;AACD;AACA,QAAIF,OAAOC,EAAX,EAAe;AACb,aAAOF,qBAAqBT,CAArB,EAAwBC,CAAxB,CAAP;AACD;AACD,WAAOS,KAAKC,EAAZ;AACD,GAbmB;AAAA,CAApB;;AAeA,IAAMI,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAQF,QAAR,EAAqB;AACvC,MAAI,CAACA,QAAL,EAAe,OAAOE,KAAP;AACf,MAAMC,WAAWH,aAAa,YAAb,GACZL,oBADY,GAEZI,YAAYC,QAAZ,CAFL;AAGA,SAAOE,MAAME,IAAN,CAAWD,QAAX,CAAP;AACD,CAND;;kBAQeF,W","file":"sortItemsBy.js","sourcesContent":["import is from '../../../utils/is'\r\n\r\nconst { isNumber } = is;\r\n\r\nconst DF_RESULT = 2;\r\nconst _compareNotNumber = (a, b, dfR=DF_RESULT) => {\r\n  const isB = isNumber(b)\r\n  , isA = isNumber(a);\r\n\r\n  if (!isB && !isA) return 0;\r\n  if (isB && !isA) return 1;\r\n  if (!isB && isA) return -1;\r\n  return dfR;\r\n}\r\n\r\nconst _getReputation = (item) => {\r\n  const { owner={} } = item || {};\r\n  return owner.reputation || 0;\r\n}\r\nconst _compareByReputation = (a, b) => {\r\n  const bN = _getReputation(b)\r\n  , aN = _getReputation(a)\r\n  , _notNumberResult = _compareNotNumber(aN, bN);\r\n  return _notNumberResult === DF_RESULT\r\n    ? bN - aN\r\n    : _notNumberResult;\r\n};\r\n\r\n\r\nconst _fCompareBy = (propName) => (a, b) => {\r\n  const bN = b[propName]\r\n  , aN = a[propName]\r\n  , _notNumberResult = _compareNotNumber(aN, bN);\r\n  // guard for not numbers\r\n  if (_notNumberResult !== DF_RESULT) {\r\n    return _notNumberResult;\r\n  }\r\n  // secondary sort\r\n  if (bN === aN) {\r\n    return _compareByReputation(a, b);\r\n  }\r\n  return bN - aN;\r\n};\r\n\r\nconst sortItemsBy = (items, propName) => {\r\n  if (!propName) return items;\r\n  const _compare = propName === 'reputation'\r\n     ? _compareByReputation\r\n     : _fCompareBy(propName);\r\n  return items.sort(_compare);\r\n};\r\n\r\nexport default sortItemsBy\r\n"]}