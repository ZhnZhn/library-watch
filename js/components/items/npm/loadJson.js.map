{"version":3,"file":"loadJson.js","names":["ERR_RES","ERR_FORMAT","_crResponseError","name","_crFormatError","loadJson","_ref","uri","onLoad","fetch","then","res","status","json","Error","code","message","catch","err","console","log","errMsg","_default","exports","default"],"sources":["../../../../src/components/items/npm/loadJson.js"],"sourcesContent":["\r\nconst ERR_RES = \"response isn't OK\"\r\n, ERR_FORMAT = \"response isn't valid\"\r\n\r\n, _crResponseError = name => `${name} ${ERR_RES}`\r\n, _crFormatError = name => `${name} ${ERR_FORMAT}`;\r\n\r\nconst loadJson = ({\r\n  name,\r\n  uri,\r\n  onLoad\r\n}) => fetch(uri)\r\n  .then(res => {\r\n     const { status } = res;\r\n     if (status>199 && status<300) {\r\n       return res.json();\r\n     } else {\r\n       throw new Error(_crResponseError(name));\r\n     }\r\n  })\r\n  .then(json => {\r\n    if (json && !json.code) {\r\n      onLoad(json)\r\n    } else {\r\n      throw new Error(json.message || _crFormatError(name))\r\n    }\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n    onLoad({ errMsg: err.message })\r\n  });\r\n\r\nexport default loadJson\r\n"],"mappings":";;;;AACA,MAAMA,OAAO,GAAG,mBAAmB;EACjCC,UAAU,GAAG,sBAAsB;EAEnCC,gBAAgB,GAAGC,IAAI,IAAI,GAAGA,IAAI,IAAIH,OAAO,EAAE;EAC/CI,cAAc,GAAGD,IAAI,IAAI,GAAGA,IAAI,IAAIF,UAAU,EAAE;AAElD,MAAMI,QAAQ,GAAGC,IAAA;EAAA,IAAC;IAChBH,IAAI;IACJI,GAAG;IACHC;EACF,CAAC,GAAAF,IAAA;EAAA,OAAKG,KAAK,CAACF,GAAG,CAAC,CACbG,IAAI,CAACC,GAAG,IAAI;IACV,MAAM;MAAEC;IAAO,CAAC,GAAGD,GAAG;IACtB,IAAIC,MAAM,GAAC,GAAG,IAAIA,MAAM,GAAC,GAAG,EAAE;MAC5B,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;IACnB,CAAC,MAAM;MACL,MAAM,IAAIC,KAAK,CAACZ,gBAAgB,CAACC,IAAI,CAAC,CAAC;IACzC;EACH,CAAC,CAAC,CACDO,IAAI,CAACG,IAAI,IAAI;IACZ,IAAIA,IAAI,IAAI,CAACA,IAAI,CAACE,IAAI,EAAE;MACtBP,MAAM,CAACK,IAAI,CAAC;IACd,CAAC,MAAM;MACL,MAAM,IAAIC,KAAK,CAACD,IAAI,CAACG,OAAO,IAAIZ,cAAc,CAACD,IAAI,CAAC,CAAC;IACvD;EACF,CAAC,CAAC,CACDc,KAAK,CAACC,GAAG,IAAI;IACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,MAAM,CAAC;MAAEa,MAAM,EAAEH,GAAG,CAACF;IAAQ,CAAC,CAAC;EACjC,CAAC,CAAC;AAAA;AAAC,IAAAM,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEUnB,QAAQ","ignoreList":[]}