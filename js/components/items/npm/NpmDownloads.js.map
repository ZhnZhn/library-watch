{"version":3,"file":"NpmDownloads.js","names":["_uiApi","require","_useToggle","_interopRequireDefault","_useItemMenuMore","_ChartConfigFactories","_ShowHide","_LineChart","_ButtonPackage","_ButtonWatch","_ItemCaption","_NpmPackageInfo","_Item","_jsxRuntime","ITEM_DESCRIPTION","S_CAPTION","paddingLeft","S_CHART_WRAPPER","paddingTop","NpmDownloads","_ref","type","options","chartType","caption","packageName","requestType","sumDownloads","toDate","fromDate","labels","data","packageLink","onWatchItem","onMoveToTop","onCloseItem","isShow","toggleIsShow","useToggle","isButtons","toggleIsButtons","MenuMoreEl","BtMenuMoreEl","useItemMenuMore","_hClickWatch","useCallback","_caption","config","repo","descr","version","date","_lineChartConfig","fLineConfig","jsxs","style","S_ROOT","children","default","onClose","jsx","onClick","isFn","CHART_OPTIONS_LEGEND_TOP","_default","exports"],"sources":["../../../../src/components/items/npm/NpmDownloads.jsx"],"sourcesContent":["import {\r\n  isFn,\r\n  useCallback\r\n} from '../../uiApi';\r\n\r\nimport useToggle from '../../hooks/useToggle';\r\nimport useItemMenuMore from '../useItemMenuMore';\r\n\r\nimport { fLineConfig } from '../../charts/ChartConfigFactories';\r\n\r\nimport ShowHide from '../../zhn/ShowHide';\r\nimport LineChart from '../../charts/LineChart';\r\nimport ButtonPackage from './ButtonPackage';\r\nimport ButtonWatch from './ButtonWatch';\r\nimport Caption from '../ItemCaption';\r\nimport NpmPackageInfo from './NpmPackageInfo';\r\n\r\nimport {\r\n  S_ROOT,\r\n  CHART_OPTIONS_LEGEND_TOP\r\n} from '../Item.Style';\r\n\r\nconst ITEM_DESCRIPTION = \"Npm Recent Month Downloads\"\r\n, S_CAPTION = { paddingLeft: 4 }\r\n, S_CHART_WRAPPER = { paddingTop: 4 };\r\n\r\nconst NpmDownloads = ({\r\n  type,\r\n  options,\r\n  chartType,\r\n  caption,\r\n  packageName,\r\n  requestType,\r\n  sumDownloads=0,\r\n  toDate,\r\n  fromDate,\r\n  labels,\r\n  data,\r\n  packageLink,\r\n  onWatchItem,\r\n  onMoveToTop,\r\n  onCloseItem\r\n}) => {\r\n  const [\r\n    isShow,\r\n    toggleIsShow\r\n  ] = useToggle(true)\r\n  , [\r\n    isButtons,\r\n    toggleIsButtons\r\n  ] = useToggle(true)\r\n  , [\r\n    MenuMoreEl,\r\n    BtMenuMoreEl\r\n  ] = useItemMenuMore(\r\n      onMoveToTop,\r\n      toggleIsButtons\r\n  )\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hClickWatch = useCallback(() => {\r\n    const _caption = `${packageName} ${sumDownloads}`;\r\n    onWatchItem({\r\n       caption: _caption,\r\n       config: {\r\n          requestType,\r\n          repo: packageName,\r\n          descr: ITEM_DESCRIPTION,\r\n          version: sumDownloads,\r\n          caption: _caption,\r\n          date: toDate\r\n        }\r\n    });\r\n  }, [])\r\n  // requestType, packageName, sumDownloads, toDate, onWatchItem\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n  , _lineChartConfig = fLineConfig({ labels, data });\r\n\r\n  return (\r\n    <div style={S_ROOT}>\r\n      {MenuMoreEl}\r\n      <Caption\r\n         style={S_CAPTION}\r\n         onClose={onCloseItem}\r\n      >\r\n        {BtMenuMoreEl}\r\n        <ButtonPackage\r\n           caption={caption}\r\n           packageName={packageName}\r\n           sumDownloads={sumDownloads}\r\n           fromDate={fromDate}\r\n           toDate={toDate}\r\n           onClick={toggleIsShow}\r\n        />\r\n        { isFn(onWatchItem) && <ButtonWatch\r\n            onClick={_hClickWatch}\r\n        />}\r\n      </Caption>\r\n      <ShowHide\r\n         isShow={isShow}\r\n         style={S_CHART_WRAPPER}\r\n      >\r\n        <LineChart\r\n           type={type}\r\n           data={_lineChartConfig}\r\n           options={options || CHART_OPTIONS_LEGEND_TOP}\r\n        />\r\n        <NpmPackageInfo\r\n          isButtons={isButtons}\r\n          packageName={packageName}\r\n          packageLink={packageLink}\r\n        />\r\n      </ShowHide>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NpmDownloads\r\n"],"mappings":"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","ignoreList":[]}