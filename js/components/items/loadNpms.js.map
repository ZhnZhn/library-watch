{"version":3,"sources":["../../../src/components/items/loadNpms.js"],"names":["C","NPMS_URI","ERR_RES","ERR_FORMAT_DF","_crNpmsUri","packageName","loadNpms","onLoad","fetch","then","status","res","json","Error","code","message","catch","console","log","err"],"mappings":";;;;;;AACA,IAAMA,IAAI;AACRC,YAAU,iCADF;AAERC,WAAS,mBAFD;AAGRC,iBAAe;AAHP,CAAV;;AAMA,IAAMC,aAAa,SAAbA,UAAa;AAAA,cAAkBJ,EAAEC,QAApB,GAA+BI,WAA/B;AAAA,CAAnB;;AAEA,IAAMC,WAAW,SAAXA,QAAW;AAAA,MAAGD,WAAH,QAAGA,WAAH;AAAA,MAAgBE,MAAhB,QAAgBA,MAAhB;AAAA,SAA6BC,MAAMJ,WAAWC,WAAX,CAAN,EAC3CI,IAD2C,CACtC,eAAO;AAAA,QACFC,MADE,GACSC,GADT,CACFD,MADE;;AAEV,QAAIA,SAAO,GAAP,IAAcA,SAAO,GAAzB,EAA8B;AAC5B,aAAOC,IAAIC,IAAJ,EAAP;AACD,KAFD,MAEO;AACL,YAAM,IAAIC,KAAJ,CAAUb,EAAEE,OAAZ,CAAN;AACD;AACH,GAR2C,EAS3CO,IAT2C,CAStC,gBAAQ;AACZ,QAAIG,QAAQ,CAACA,KAAKE,IAAlB,EAAwB;AACtBP,aAAOK,IAAP;AACD,KAFD,MAEO;AACL,YAAM,IAAIC,KAAJ,CAAUD,KAAKG,OAAL,IAAgBf,EAAEG,aAA5B,CAAN;AACD;AACF,GAf2C,EAgB3Ca,KAhB2C,CAgBrC,eAAO;AACZC,YAAQC,GAAR,CAAYC,GAAZ;AACD,GAlB2C,CAA7B;AAAA,CAAjB;;kBAoBiBb,Q","file":"loadNpms.js","sourcesContent":["\r\nconst C = {\r\n  NPMS_URI: 'https://api.npms.io/v2/package/',\r\n  ERR_RES: \"Response isn't OK\",\r\n  ERR_FORMAT_DF: \"Response isn't valid\"\r\n};\r\n\r\nconst _crNpmsUri = packageName => `${C.NPMS_URI}${packageName}`;\r\n\r\nconst loadNpms = ({ packageName, onLoad }) => fetch(_crNpmsUri(packageName))\r\n  .then(res => {\r\n     const { status } = res;\r\n     if (status>199 && status<300) {\r\n       return res.json();\r\n     } else {\r\n       throw new Error(C.ERR_RES);\r\n     }\r\n  })\r\n  .then(json => {\r\n    if (json && !json.code) {\r\n      onLoad(json)\r\n    } else {\r\n      throw new Error(json.message || C.ERR_FORMAT_DF)\r\n    }\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n\r\n  export default loadNpms\r\n"]}