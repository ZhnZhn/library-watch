{"version":3,"sources":["../../../src/components/items/GitHubRecentTag.jsx"],"names":["ITEM_DESCRIPTION","styles","rootDiv","lineHeight","marginBottom","marginRight","position","captionSpanOpen","display","color","cursor","maxWidth","fontWeight","whiteSpace","textOverflow","overflow","float","SPAN_VERSION","paddingLeft","paddingRight","BTN_CIRCLE","marginLeft","Detail","props","json","commit","files","stats","html_url","author","message","committer","authorDate","date","authorName","name","committerDate","committerName","total","additions","deletions","_renderFiles","map","file","index","filename","className","replace","length","GitHubRecentTag","state","isShow","isDetail","_handlerClickWatch","repo","requestType","version","onWatchItem","tagDate","caption","descr","config","_handlerClickDetail","onClickDetail","then","_tagDate","setState","_handlerToggleOpen","onCloseItem","_styleCaption","Component"],"mappings":"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","file":"GitHubRecentTag.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport Caption from './ItemCaption'\r\nimport ButtonCircle from '../zhn-atoms/ButtonCircle';\r\nimport ShowHide from '../zhn-atoms/ShowHide';\r\nimport OpenClose2 from '../zhn-atoms/OpenClose2';\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Likely Recent Version Tag\";\r\n\r\nconst styles = {\r\n  rootDiv : {\r\n    lineHeight : 1.5,\r\n    marginBottom: '10px',\r\n    marginRight: '25px',\r\n    //marginRight: '10px',\r\n    position : 'relative'\r\n  },\r\n  captionSpanOpen : {\r\n    display : 'inline-block',\r\n    color: 'rgba(164, 135, 212, 1)',\r\n    cursor: 'pointer',\r\n    maxWidth: '500px',\r\n    fontWeight : 'bold',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow : 'ellipsis',\r\n    overflow : 'hidden',\r\n    float : 'left'\r\n  },\r\n\r\n  SPAN_VERSION : {\r\n    color: '#80c040',\r\n    paddingLeft : '10px',\r\n    paddingRight : '10px'\r\n  },\r\n  BTN_CIRCLE : {\r\n    marginLeft: '10px'\r\n  }\r\n}\r\n\r\nconst Detail = (props) => {\r\n  const { json } = props\r\n      , { commit, files, stats, html_url } = json\r\n      , { author, message, committer } = commit\r\n      , { date:authorDate, name:authorName } = author\r\n      , { date:committerDate, name:committerName } = committer\r\n      , { total, additions, deletions } = stats\r\n\r\n  const _renderFiles = (files=[]) => {\r\n     return files.map((file, index) => {\r\n       const className = (index % 2)\r\n                ? 'row__topic__even not-selected'\r\n                : 'row__topic__odd not-selected'\r\n          , {filename} = file\r\n        return (\r\n          <div key={index} className={className}>\r\n            {filename}\r\n          </div>\r\n        );\r\n     })\r\n  };\r\n\r\n  return (\r\n    <div className=\"library\">\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Message:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {message}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Author:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {authorName}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Date:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {authorDate.replace('T', ' ').replace('Z', '')}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Committer:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {committerName}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Date:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {committerDate.replace('T', ' ').replace('Z', '')}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Total:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {total}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Additions:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {additions}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Deletions:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {deletions}\r\n        </span>\r\n      </div>\r\n      <OpenClose2 caption={`Files (${files.length})`} isClose={true}>\r\n        {_renderFiles(files)}\r\n      </OpenClose2>\r\n      <a\r\n         href={html_url}\r\n         className=\"github-link\"\r\n      >\r\n         Link to description of commit\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass GitHubRecentTag extends Component {\r\n  state = {\r\n    isShow: true,\r\n    isDetail: false,\r\n    json: {}\r\n  }\r\n\r\n  _handlerClickWatch = () => {\r\n    const { repo, requestType, version, onWatchItem } = this.props\r\n        , { tagDate } = this.state\r\n        , caption = `${repo} ${version}`\r\n        , descr = ITEM_DESCRIPTION\r\n    onWatchItem({\r\n       caption : caption,\r\n       config : { repo, requestType, version, caption, descr, date: tagDate }\r\n    });\r\n  }\r\n\r\n  _handlerClickDetail = () => {\r\n    this.props.onClickDetail().then((json) => {\r\n      //console.log(json);\r\n      const { commit={} } = json\r\n          , { committer={} } = commit\r\n          , { date:tagDate } = committer\r\n          , _tagDate = tagDate.replace('T', ' ').replace('Z', '')\r\n      this.setState({ isDetail: true, isShow: true, json: json, tagDate : _tagDate });\r\n    });\r\n  }\r\n\r\n  _handlerToggleOpen = () => {\r\n    this.setState({ isShow : !this.state.isShow });\r\n  }\r\n\r\n  render(){\r\n    const { repo, version, caption, onCloseItem } = this.props\r\n        , _styleCaption = styles.captionSpanOpen\r\n        , { isShow, isDetail, json } = this.state;\r\n    return (\r\n      <div style={styles.rootDiv}>\r\n        <Caption onClose={onCloseItem}>\r\n          <span\r\n             className=\"not-selected\"\r\n             title={caption}\r\n             style={_styleCaption}\r\n             onClick={this._handlerToggleOpen}\r\n          >\r\n            <span>\r\n              {repo}\r\n            </span>\r\n            <span style={styles.SPAN_VERSION}>\r\n              {version}\r\n            </span>\r\n          </span>\r\n          <ButtonCircle\r\n             caption=\"W\"\r\n             title=\"Add to Watch\"\r\n             style={styles.BTN_CIRCLE}\r\n             onClick={this._handlerClickWatch}\r\n          />\r\n          <ButtonCircle\r\n             caption=\"D\"\r\n             title=\"Load Tag Details\"\r\n             style={styles.BTN_CIRCLE}\r\n             onClick={this._handlerClickDetail}\r\n          />\r\n        </Caption>\r\n        <ShowHide isShow={isShow}>\r\n          {isDetail && <Detail json={json} />}\r\n        </ShowHide>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GitHubRecentTag\r\n"]}