{"version":3,"file":"GitHubRecentTag.js","names":["_uiApi","require","_styleFn","_useToggle","_interopRequireDefault","_formatStrDate","_ButtonCircle","_ShowHide","_ItemCaption","_TagDetail","_Item","_jsxRuntime","ITEM_DESCRIPTION","_getTagDate","json","commit","committer","date","formatStrDate","GitHubRecentTag","_ref","repo","version","caption","requestType","onCloseItem","onClickDetail","onWatchItem","setJson","useState","isShow","toggleIsShow","setIsShow","useToggle","_hClickDetail","useCallback","then","catch","err","console","log","_hClickWatch","tagDate","config","descr","jsxs","style","S_ROOT","children","default","S_PT_8","onClose","className","CL_BT_ITEM","title","S_CAPTION_OPEN","onClick","jsx","S_SPAN_VERSION","S_BTN_CIRCLE","_default","exports"],"sources":["../../../src/components/items/GitHubRecentTag.jsx"],"sourcesContent":["import {\r\n  useState,\r\n  useCallback\r\n} from '../uiApi';\r\n\r\nimport { CL_BT_ITEM } from '../styleFn';\r\n\r\nimport useToggle from '../hooks/useToggle';\r\nimport formatStrDate from '../../utils/formatStrDate';\r\n\r\nimport ButtonCircle from '../zhn/ButtonCircle';\r\nimport ShowHide from '../zhn/ShowHide';\r\nimport Caption from './ItemCaption';\r\nimport TagDetail from './TagDetail';\r\n\r\nimport {\r\n  S_ROOT,\r\n  S_CAPTION_OPEN,\r\n  S_SPAN_VERSION,\r\n  S_BTN_CIRCLE,\r\n  S_PT_8\r\n} from './Item.Style';\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Likely Recent Version Tag\";\r\n\r\nconst _getTagDate = json => {\r\n  const { commit } = json || {}\r\n  , { committer } = commit || {}\r\n  , { date } = committer || {};\r\n  return formatStrDate(date);\r\n};\r\n\r\nconst GitHubRecentTag = ({\r\n  repo,\r\n  version,\r\n  caption,\r\n  requestType,\r\n  onCloseItem,\r\n  onClickDetail,\r\n  onWatchItem\r\n}) => {\r\n  const [\r\n    json,\r\n    setJson\r\n  ] = useState()\r\n  , [\r\n    isShow,\r\n    toggleIsShow,\r\n    setIsShow\r\n  ] = useToggle(true)\r\n  /*eslint-disable react-hooks/exhaustive-deps */\r\n  , _hClickDetail = useCallback(() => {\r\n     onClickDetail().then(json => {\r\n        setIsShow(true)\r\n        setJson(json)\r\n     })\r\n     .catch(err => console.log(err));\r\n  }, [onClickDetail])\r\n  // toggleIsShow\r\n  /*eslint-enable react-hooks/exhaustive-deps */\r\n  , _hClickWatch = useCallback(() => {\r\n    const tagDate = _getTagDate(json)\r\n    , caption = `${repo} ${version}`;\r\n    onWatchItem({\r\n       caption,\r\n       config: {\r\n         repo,\r\n         requestType,\r\n         version,\r\n         caption,\r\n         descr: ITEM_DESCRIPTION,\r\n         date: tagDate\r\n       }\r\n    });\r\n  //onWatchItem, repo, version, requestType\r\n  //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [json]);\r\n\r\n  return (\r\n    <div style={S_ROOT}>\r\n      <Caption style={S_PT_8} onClose={onCloseItem}>\r\n        <button\r\n           className={CL_BT_ITEM}\r\n           title={caption}\r\n           style={S_CAPTION_OPEN}\r\n           onClick={toggleIsShow}\r\n        >\r\n          <span>\r\n            {repo}\r\n          </span>\r\n          <span style={S_SPAN_VERSION}>\r\n            {version}\r\n          </span>\r\n        </button>\r\n        <ButtonCircle\r\n           caption=\"W\"\r\n           title=\"Add to Watch\"\r\n           style={S_BTN_CIRCLE}\r\n           onClick={_hClickWatch}\r\n        />\r\n        <ButtonCircle\r\n           caption=\"D\"\r\n           title=\"Load Tag Details\"\r\n           style={S_BTN_CIRCLE}\r\n           onClick={_hClickDetail}\r\n        />\r\n      </Caption>\r\n      <ShowHide isShow={isShow}>\r\n        <TagDetail json={json} />\r\n      </ShowHide>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GitHubRecentTag\r\n"],"mappings":"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","ignoreList":[]}