{"version":3,"sources":["../../../src/components/items/GitHubRecentTag.jsx"],"names":["ITEM_DESCRIPTION","styles","rootDiv","lineHeight","marginBottom","marginRight","position","headerDiv","backgroundColor","borderTopLeftRadius","borderTopRightRadius","paddingTop","paddingLeft","width","height","captionSpanOpen","display","color","cursor","maxWidth","fontWeight","whiteSpace","textOverflow","overflow","float","SPAN_VERSION","paddingRight","BTN_CIRCLE","marginLeft","Detail","props","json","commit","files","stats","html_url","author","message","committer","authorDate","date","authorName","name","committerDate","committerName","total","additions","deletions","_renderFiles","map","file","index","filename","className","replace","length","GitHubRecentTag","createClass","getInitialState","isShow","isDetail","_handlerClickWatch","repo","requestType","version","onWatchItem","tagDate","state","caption","descr","config","_handlerClickDetail","onClickDetail","then","_tagDate","setState","_handlerToggleOpen","_renderDetail","render","onCloseItem","_styleCaption"],"mappings":"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","file":"GitHubRecentTag.js","sourcesContent":["import React from 'react'\r\n\r\nimport ButtonCircle from '../zhnAtoms/ButtonCircle';\r\nimport SvgClose from '../zhnAtoms/SvgClose';\r\nimport ShowHide from '../zhnAtoms/ShowHide';\r\nimport OpenClose from '../zhnAtoms/OpenClose';\r\n\r\nconst ITEM_DESCRIPTION = \"GitHub Likely Recent Version Tag\";\r\n\r\nconst styles = {\r\n  rootDiv : {\r\n    lineHeight : 1.5,\r\n    marginBottom: '10px',\r\n    marginRight: '25px',\r\n    //marginRight: '10px',\r\n    position : 'relative'\r\n  },\r\n  headerDiv: {\r\n    backgroundColor: '#232F3B',\r\n    borderTopLeftRadius: '10px',\r\n    borderTopRightRadius: '10px',\r\n    paddingTop: '4px',\r\n    paddingLeft: '10px',\r\n    lineHeight: 1.5,\r\n    //height: '25px',\r\n    //width: '600px'\r\n    width : '100%',\r\n    height: '30px'\r\n  },\r\n  captionSpanOpen : {\r\n    display : 'inline-block',\r\n    color: 'rgba(164, 135, 212, 1)',\r\n    cursor: 'pointer',\r\n    maxWidth: '500px',\r\n    fontWeight : 'bold',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow : 'ellipsis',\r\n    overflow : 'hidden',\r\n    float : 'left'\r\n  },\r\n\r\n  SPAN_VERSION : {\r\n    color: '#80c040',\r\n    paddingLeft : '10px',\r\n    paddingRight : '10px'\r\n  },\r\n  BTN_CIRCLE : {\r\n    marginLeft: '10px'\r\n  }\r\n}\r\n\r\nconst Detail = (props) => {\r\n  const { json } = props\r\n      , { commit, files, stats, html_url } = json\r\n      , { author, message, committer } = commit\r\n      , { date:authorDate, name:authorName } = author\r\n      , { date:committerDate, name:committerName } = committer\r\n      , { total, additions, deletions } = stats\r\n\r\n  const _renderFiles = (files=[]) => {\r\n     return files.map((file, index) => {\r\n       const className = (index % 2)\r\n                ? 'row__topic__even not-selected'\r\n                : 'row__topic__odd not-selected'\r\n          , {filename} = file\r\n        return (\r\n          <div key={index} className={className}>\r\n            {filename}\r\n          </div>\r\n        );\r\n     })\r\n  };\r\n\r\n  return (\r\n    <div className=\"library\">\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Message:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {message}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Author:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {authorName}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Date:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {authorDate.replace('T', ' ').replace('Z', '')}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Committer:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {committerName}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Date:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {committerDate.replace('T', ' ').replace('Z', '')}\r\n        </span>\r\n      </div>\r\n      <div>\r\n        <span className=\"library__value-title\">\r\n          Total:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {total}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Additions:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {additions}\r\n        </span>\r\n        <span className=\"library__value-title\">\r\n          Deletions:\r\n        </span>\r\n        <span className=\"library__value\">\r\n          {deletions}\r\n        </span>\r\n      </div>\r\n      <OpenClose caption={`Files (${files.length})`} isClose={true}>\r\n        {_renderFiles(files)}\r\n      </OpenClose>\r\n      <a\r\n         href={html_url}\r\n         className=\"github-link\"\r\n      >\r\n         Link to description of commit\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst GitHubRecentTag = React.createClass({\r\n  getInitialState(){\r\n     return {\r\n       isShow : true,\r\n       isDetail : false,\r\n       json : {}\r\n     }\r\n  },\r\n\r\n  _handlerClickWatch(){\r\n    const { repo, requestType, version, onWatchItem } = this.props\r\n        , { tagDate } = this.state\r\n        , caption = `${repo} ${version}`\r\n        , descr = ITEM_DESCRIPTION\r\n    onWatchItem({\r\n       caption : caption,\r\n       config : { repo, requestType, version, caption, descr, date: tagDate }\r\n    });\r\n  },\r\n\r\n  _handlerClickDetail(){\r\n    this.props.onClickDetail().then((json) => {\r\n      //console.log(json);\r\n      const { commit={} } = json\r\n          , { committer={} } = commit\r\n          , { date:tagDate } = committer\r\n          , _tagDate = tagDate.replace('T', ' ').replace('Z', '')\r\n      this.setState({ isDetail: true, isShow: true, json: json, tagDate : _tagDate });\r\n    });\r\n  },\r\n\r\n  _handlerToggleOpen(){\r\n    this.setState({ isShow : !this.state.isShow });\r\n  },\r\n\r\n\r\n  _renderDetail(json){\r\n    return (\r\n      <Detail\r\n         json={json}\r\n      />\r\n    );\r\n  },\r\n\r\n  render(){\r\n    const { repo, version, caption, onCloseItem } = this.props\r\n        , _styleCaption = styles.captionSpanOpen\r\n        , { isShow, isDetail, json } = this.state;\r\n    return (\r\n      <div style={styles.rootDiv}>\r\n        <div style={styles.headerDiv}>\r\n          <span\r\n             className=\"not-selected\"\r\n             title={caption}\r\n             style={_styleCaption}\r\n             onClick={this._handlerToggleOpen}\r\n          >\r\n            <span>\r\n              {repo}\r\n            </span>\r\n            <span style={styles.SPAN_VERSION}>\r\n              {version}\r\n            </span>\r\n          </span>\r\n          <ButtonCircle\r\n             caption={'W'}\r\n             title=\"Add to Watch\"\r\n             style={styles.BTN_CIRCLE}\r\n             onClick={this._handlerClickWatch}\r\n          />\r\n          <ButtonCircle\r\n             caption={'D'}\r\n             title=\"Load Tag Details\"\r\n             style={styles.BTN_CIRCLE}\r\n             onClick={this._handlerClickDetail}\r\n          />\r\n          <SvgClose onClose={onCloseItem} />\r\n        </div>\r\n        <ShowHide isShow={isShow}>\r\n          {isDetail && this._renderDetail(json)}\r\n        </ShowHide>\r\n      </div>\r\n    );\r\n  }\r\n});\r\n\r\nexport default GitHubRecentTag\r\n"]}