{"version":3,"file":"FlatButton.js","names":["_uiApi","require","_styleFn","_useHotKey","_interopRequireDefault","_BtCaption","_jsxRuntime","CL_ARROW","CL_BT_FLAT","CL_BT_FLAT_CAPTION","S_PRIMARY_COLOR","color","FlatButton","_ref","refBt","isArrow","timeout","className","style","isPrimary","title","caption","hotKey","children","onClick","_refTimeStamp","useRef","_hClick","useCallback","evt","_timeStampPrev","getRefValue","timeStamp","setRefValue","_className","crCn","_style","_title","toLowerCase","useHotKey","jsxs","ref","type","jsx","default","_default","exports"],"sources":["../../../src/components/zhn-m/FlatButton.jsx"],"sourcesContent":["import {\r\n  useRef,\r\n  useCallback,\r\n  getRefValue,\r\n  setRefValue\r\n} from '../uiApi';\r\n\r\nimport { crCn } from '../styleFn';\r\nimport useHotKey from '../hotkeys/useHotKey';\r\nimport BtCaption from './BtCaption';\r\n\r\nconst CL_ARROW = \"arrow-down\"\r\n, CL_BT_FLAT = 'bt-flat'\r\n, CL_BT_FLAT_CAPTION = 'bt-flat__caption'\r\n, S_PRIMARY_COLOR = { color: '#607d8b' };\r\n\r\nconst FlatButton = ({\r\n  refBt,\r\n  isArrow,\r\n  timeout=3000,\r\n  className,\r\n  style,\r\n  isPrimary,\r\n  title='',\r\n  caption,\r\n  hotKey,\r\n  children,\r\n  onClick\r\n}) => {\r\n  const _refTimeStamp = useRef(null)\r\n  , _hClick = useCallback(evt => {\r\n    if (timeout === 0) {\r\n      onClick(evt)\r\n      return;\r\n    }\r\n    const _timeStampPrev = getRefValue(_refTimeStamp)\r\n    , { timeStamp } = evt;\r\n    if (_timeStampPrev == null\r\n        || timeStamp - _timeStampPrev > timeout) {\r\n      onClick(evt)\r\n      setRefValue(_refTimeStamp, timeStamp)\r\n    }\r\n  }, [timeout, onClick])\r\n  , _className = crCn(CL_BT_FLAT, className)\r\n  , _style = isPrimary\r\n       ? {...style, ...S_PRIMARY_COLOR}\r\n       : style\r\n  , _title = hotKey\r\n       ? `${title} [${hotKey.toLowerCase()}]`\r\n       : title;\r\n\r\n  useHotKey(hotKey, onClick)\r\n\r\n  return (\r\n    <button\r\n      ref={refBt}\r\n      type=\"button\"\r\n      className={_className}\r\n      style={_style}\r\n      title={_title}\r\n      onClick={_hClick}\r\n    >\r\n      <BtCaption\r\n        className={CL_BT_FLAT_CAPTION}\r\n        caption={caption}\r\n        hotKey={hotKey}\r\n      >\r\n        {isArrow && <span className={CL_ARROW} />}\r\n      </BtCaption>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default FlatButton\r\n"],"mappings":";;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAOA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,UAAA,GAAAD,sBAAA,CAAAH,OAAA;AAAoC,IAAAK,WAAA,GAAAL,OAAA;AAEpC,MAAMM,QAAQ,GAAG,YAAY;EAC3BC,UAAU,GAAG,SAAS;EACtBC,kBAAkB,GAAG,kBAAkB;EACvCC,eAAe,GAAG;IAAEC,KAAK,EAAE;EAAU,CAAC;AAExC,MAAMC,UAAU,GAAGC,IAAA,IAYb;EAAA,IAZc;IAClBC,KAAK;IACLC,OAAO;IACPC,OAAO,GAAC,IAAI;IACZC,SAAS;IACTC,KAAK;IACLC,SAAS;IACTC,KAAK,GAAC,EAAE;IACRC,OAAO;IACPC,MAAM;IACNC,QAAQ;IACRC;EACF,CAAC,GAAAX,IAAA;EACC,MAAMY,aAAa,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;IAChCC,OAAO,GAAG,IAAAC,kBAAW,EAACC,GAAG,IAAI;MAC7B,IAAIb,OAAO,KAAK,CAAC,EAAE;QACjBQ,OAAO,CAACK,GAAG,CAAC;QACZ;MACF;MACA,MAAMC,cAAc,GAAG,IAAAC,kBAAW,EAACN,aAAa,CAAC;QAC/C;UAAEO;QAAU,CAAC,GAAGH,GAAG;MACrB,IAAIC,cAAc,IAAI,IAAI,IACnBE,SAAS,GAAGF,cAAc,GAAGd,OAAO,EAAE;QAC3CQ,OAAO,CAACK,GAAG,CAAC;QACZ,IAAAI,kBAAW,EAACR,aAAa,EAAEO,SAAS,CAAC;MACvC;IACF,CAAC,EAAE,CAAChB,OAAO,EAAEQ,OAAO,CAAC,CAAC;IACpBU,UAAU,GAAG,IAAAC,aAAI,EAAC3B,UAAU,EAAES,SAAS,CAAC;IACxCmB,MAAM,GAAGjB,SAAS,GACb;MAAC,GAAGD,KAAK;MAAE,GAAGR;IAAe,CAAC,GAC9BQ,KAAK;IACVmB,MAAM,GAAGf,MAAM,GACV,GAAGF,KAAK,KAAKE,MAAM,CAACgB,WAAW,CAAC,CAAC,GAAG,GACpClB,KAAK;EAEZ,IAAAmB,kBAAS,EAACjB,MAAM,EAAEE,OAAO,CAAC;EAE1B,oBACE,IAAAlB,WAAA,CAAAkC,IAAA;IACEC,GAAG,EAAE3B,KAAM;IACX4B,IAAI,EAAC,QAAQ;IACbzB,SAAS,EAAEiB,UAAW;IACtBhB,KAAK,EAAEkB,MAAO;IACdhB,KAAK,EAAEiB,MAAO;IACdb,OAAO,EAAEG,OAAQ;IAAAJ,QAAA,gBAEjB,IAAAjB,WAAA,CAAAqC,GAAA,EAACtC,UAAA,CAAAuC,OAAS;MACR3B,SAAS,EAAER,kBAAmB;MAC9BY,OAAO,EAAEA,OAAQ;MACjBC,MAAM,EAAEA,MAAO;MAAAC,QAAA,EAEdR,OAAO,iBAAI,IAAAT,WAAA,CAAAqC,GAAA;QAAM1B,SAAS,EAAEV;MAAS,CAAE;IAAC,CAChC,CAAC,EACXgB,QAAQ;EAAA,CACH,CAAC;AAEb,CAAC;AAAC,IAAAsB,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEahC,UAAU","ignoreList":[]}