{"version":3,"file":"DragDropFn.js","names":["_Fn","require","dragDropItem","watchList","_ref","dragId","dropId","dragArr","split","dragGroup","findGroup","dragList","findList","dragIndex","findIndex","items","dragItem","dropArr","dropGroup","dropList","dropIndex","caption","checkIsInArraySameCaption","fDragDropItemExisted","filter","insertItemInArray","isDone","exports","dragDropList","_ref2","dragGroupCaption","dragListCaption","dropGroupCaption","dropListCaption","lists","fDragDropListExisted","dragDropGroup","_ref3","groups"],"sources":["../../../src/flux/watch-list/DragDropFn.js"],"sourcesContent":["import {\r\n  findGroup,\r\n  findList,\r\n  findIndex,\r\n  filter,\r\n  insertItemInArray,\r\n  checkIsInArraySameCaption,\r\n  fDragDropListExisted,\r\n  fDragDropItemExisted\r\n} from './Fn';\r\n\r\nexport const dragDropItem = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n  const dragArr = dragId.split(';')\r\n  , dragGroup = findGroup(watchList, dragArr[0])\r\n  , dragList = findList(dragGroup, dragArr[1])\r\n  , dragIndex = findIndex(dragList.items, dragArr[2])\r\n  , dragItem = dragList.items[dragIndex]\r\n\r\n  , dropArr = dropId.split(';')\r\n  , dropGroup = findGroup(watchList, dropArr[0])\r\n  , dropList = findList(dropGroup, dropArr[1])\r\n  , dropIndex = (dropArr[2])\r\n       ? findIndex(dropList.items, dropArr[2])\r\n       : 0;\r\n\r\n  if ( dragList.caption !== dropList.caption\r\n    && checkIsInArraySameCaption(dropList.items, dragArr[3]) )\r\n  {\r\n     return fDragDropItemExisted(dropArr[1], dragArr[2]);\r\n  }\r\n\r\n  dragList.items = filter(dragList.items, dragArr[2])\r\n  dropList.items = insertItemInArray(dragItem, dropIndex, dropList.items);\r\n\r\n  return { isDone: true };\r\n}\r\n\r\nexport const dragDropList = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n    const [\r\n      dragGroupCaption,\r\n      dragListCaption\r\n    ] = dragId.split(';')\r\n    , dragGroup = findGroup(watchList, dragGroupCaption)\r\n    , dragList = findList(dragGroup, dragListCaption)\r\n    , [\r\n       dropGroupCaption,\r\n       dropListCaption\r\n    ] = dropId.split(';')\r\n    , dropGroup = findGroup(watchList, dropGroupCaption)\r\n    , dropIndex = (dropListCaption)\r\n        ? findIndex(dropGroup.lists, dropListCaption)\r\n        : 0;\r\n\r\n    if (dragGroup.caption !== dropGroup.caption\r\n      && checkIsInArraySameCaption(dropGroup.lists, dragListCaption) )\r\n    {\r\n       return fDragDropListExisted(dropGroupCaption, dragListCaption);\r\n    }\r\n\r\n    dragGroup.lists = filter(dragGroup.lists, dragListCaption);\r\n    dropGroup.lists = insertItemInArray(dragList, dropIndex, dropGroup.lists);\r\n\r\n    return { isDone: true };\r\n}\r\n\r\nexport const dragDropGroup = (\r\n  watchList,\r\n  {dragId, dropId}\r\n) => {\r\n   const [dragGroupCaption] = dragId.split(';')\r\n   , dragGroup = findGroup(watchList, dragGroupCaption)\r\n   , [dropGroupCaption] = dropId.split(';')\r\n   , dropIndex = dropGroupCaption\r\n       ? findIndex(watchList.groups, dropGroupCaption)\r\n       : 0;\r\n\r\n   watchList.groups = filter(watchList.groups, dragGroupCaption);\r\n   watchList.groups = insertItemInArray(dragGroup, dropIndex, watchList.groups)\r\n\r\n   return { isDone: true };\r\n}\r\n"],"mappings":"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","ignoreList":[]}