{"version":3,"sources":["../../../src/flux/watch-list/WithLogicDragDrop.js"],"names":["WithLogicDragDrop","dragDropItem","watchList","dragId","dropId","dragArr","split","dragGroup","Fn","findGroup","dragList","findList","dragIndex","findIndex","items","dragItem","dropArr","dropGroup","dropList","dropIndex","caption","checkIsInArraySameCaption","fDragDropItemExisted","filter","insertItemInArray","isDone","dragDropList","dragGroupCaption","dragListCaption","dropGroupCaption","dropListCaption","lists","fDragDropListExisted","dragDropGroup","groups"],"mappings":"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","file":"WithLogicDragDrop.js","sourcesContent":["\r\nimport Fn from './Fn';\r\n\r\nconst WithLogicDragDrop = {\r\n\r\n  dragDropItem(watchList, {dragId, dropId}){\r\n    const dragArr = dragId.split(';')\r\n        , dragGroup = Fn.findGroup(watchList, dragArr[0])\r\n        , dragList = Fn.findList(dragGroup, dragArr[1])\r\n        , dragIndex = Fn.findIndex(dragList.items, dragArr[2])\r\n        , dragItem = dragList.items[dragIndex];\r\n\r\n    const dropArr = dropId.split(';')\r\n        , dropGroup = Fn.findGroup(watchList, dropArr[0])\r\n        , dropList = Fn.findList(dropGroup, dropArr[1])\r\n        , dropIndex = (dropArr[2])\r\n             ? Fn.findIndex(dropList.items, dropArr[2])\r\n             : 0;\r\n\r\n    if ( dragList.caption !== dropList.caption &&\r\n         Fn.checkIsInArraySameCaption(dropList.items, dragArr[3]) )\r\n    {\r\n        return Fn.fDragDropItemExisted(dropArr[1], dragArr[2]);\r\n    }\r\n\r\n    dragList.items = Fn.filter(dragList.items, dragArr[2])\r\n    dropList.items = Fn.insertItemInArray(dragItem, dropIndex, dropList.items);\r\n\r\n    return { isDone : true }\r\n  },\r\n\r\n  dragDropList(watchList, {dragId, dropId}){\r\n    const [ dragGroupCaption, dragListCaption ] = dragId.split(';')\r\n        , dragGroup = Fn.findGroup(watchList, dragGroupCaption)\r\n        , dragList = Fn.findList(dragGroup, dragListCaption);\r\n\r\n    const [ dropGroupCaption, dropListCaption ] = dropId.split(';')\r\n        , dropGroup = Fn.findGroup(watchList, dropGroupCaption)\r\n        , dropIndex = (dropListCaption)\r\n              ? Fn.findIndex(dropGroup.lists, dropListCaption)\r\n              : 0;\r\n\r\n    if ( dragGroup.caption !== dropGroup.caption &&\r\n         Fn.checkIsInArraySameCaption(dropGroup.lists, dragListCaption) )\r\n    {\r\n      return Fn.fDragDropListExisted(dropGroupCaption, dragListCaption)        \r\n    }\r\n\r\n    dragGroup.lists = Fn.filter(dragGroup.lists, dragListCaption);\r\n    dropGroup.lists = Fn.insertItemInArray(dragList, dropIndex, dropGroup.lists);\r\n\r\n    return { isDone : true };\r\n  },\r\n\r\n  dragDropGroup(watchList, {dragId, dropId}){\r\n     const [ dragGroupCaption ] = dragId.split(';')\r\n         , dragGroup = Fn.findGroup(watchList, dragGroupCaption)\r\n\r\n         , [ dropGroupCaption ] = dropId.split(';')\r\n         , dropIndex = (dropGroupCaption)\r\n               ? Fn.findIndex(watchList.groups, dropGroupCaption)\r\n               : 0;\r\n\r\n      watchList.groups = Fn.filter(watchList.groups, dragGroupCaption);\r\n      watchList.groups = Fn.insertItemInArray(dragGroup, dropIndex, watchList.groups)\r\n\r\n      return { isDone : true };\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicDragDrop\r\n"]}