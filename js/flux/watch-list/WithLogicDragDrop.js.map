{"version":3,"sources":["../../../src/flux/watch-list/WithLogicDragDrop.js"],"names":["WithLogicDragDrop","dragDropItem","watchList","dragId","dropId","dragArr","split","dragGroup","findGroup","dragList","findList","dragIndex","findIndex","items","dragItem","dropArr","dropGroup","dropList","dropIndex","caption","checkIsInArraySameCaption","fDragDropItemExisted","filter","insertItemInArray","isDone","dragDropList","dragGroupCaption","dragListCaption","dropGroupCaption","dropListCaption","lists","fDragDropListExisted","dragDropGroup","groups"],"mappings":"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","file":"WithLogicDragDrop.js","sourcesContent":["\r\nimport Fn from './Fn';\r\n\r\nconst WithLogicDragDrop = {\r\n\r\n  dragDropItem(watchList, {dragId, dropId}){\r\n    const dragArr = dragId.split(';')\r\n        , dragGroup = Fn.findGroup(watchList, dragArr[0])\r\n        , dragList = Fn.findList(dragGroup, dragArr[1])\r\n        , dragIndex = Fn.findIndex(dragList.items, dragArr[2])\r\n        , dragItem = dragList.items[dragIndex];\r\n\r\n    const dropArr = dropId.split(';')\r\n        , dropGroup = Fn.findGroup(watchList, dropArr[0])\r\n        , dropList = Fn.findList(dropGroup, dropArr[1])\r\n        , dropIndex = (dropArr[2])\r\n             ? Fn.findIndex(dropList.items, dropArr[2])\r\n             : 0;\r\n\r\n    if ( dragList.caption !== dropList.caption &&\r\n         Fn.checkIsInArraySameCaption(dropList.items, dragArr[3]) )\r\n    {\r\n        return Fn.fDragDropItemExisted(dropArr[1], dragArr[2]);\r\n    }\r\n\r\n    dragList.items = Fn.filter(dragList.items, dragArr[2])\r\n    dropList.items = Fn.insertItemInArray(dragItem, dropIndex, dropList.items);\r\n\r\n    return { isDone : true }\r\n  },\r\n\r\n  dragDropList(watchList, {dragId, dropId}){\r\n    const [ dragGroupCaption, dragListCaption ] = dragId.split(';')\r\n        , dragGroup = Fn.findGroup(watchList, dragGroupCaption)\r\n        , dragList = Fn.findList(dragGroup, dragListCaption);\r\n\r\n    const [ dropGroupCaption, dropListCaption ] = dropId.split(';')\r\n        , dropGroup = Fn.findGroup(watchList, dropGroupCaption)\r\n        , dropIndex = (dropListCaption)\r\n              ? Fn.findIndex(dropGroup.lists, dropListCaption)\r\n              : 0;\r\n\r\n    if ( dragGroup.caption !== dropGroup.caption &&\r\n         Fn.checkIsInArraySameCaption(dropGroup.lists, dragListCaption) )\r\n    {\r\n      return Fn.fDragDropListExisted(dropGroupCaption, dragListCaption)        \r\n    }\r\n\r\n    dragGroup.lists = Fn.filter(dragGroup.lists, dragListCaption);\r\n    dropGroup.lists = Fn.insertItemInArray(dragList, dropIndex, dropGroup.lists);\r\n\r\n    return { isDone : true };\r\n  },\r\n\r\n  dragDropGroup(watchList, {dragId, dropId}){\r\n     const [ dragGroupCaption ] = dragId.split(';')\r\n         , dragGroup = Fn.findGroup(watchList, dragGroupCaption)\r\n\r\n         , [ dropGroupCaption ] = dropId.split(';')\r\n         , dropIndex = (dropGroupCaption)\r\n               ? Fn.findIndex(watchList.groups, dropGroupCaption)\r\n               : 0;\r\n\r\n      watchList.groups = Fn.filter(watchList.groups, dragGroupCaption);\r\n      watchList.groups = Fn.insertItemInArray(dragGroup, dropIndex, watchList.groups)\r\n\r\n      return { isDone : true };\r\n  }\r\n\r\n};\r\n\r\nexport default WithLogicDragDrop\r\n"]}