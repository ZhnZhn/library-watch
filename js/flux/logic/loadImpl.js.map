{"version":3,"file":"loadImpl.js","names":["_isTypeFn","require","_delayFn","_fnFetch","_interopRequireDefault","_fnCatch","_RestApi","_fetchToChartComp","_ref","json","option","onCompleted","_fFetchUrl","uri","onCheckResponse","onFailed","_ref2","json1","delayFn","fnFetch","onFetch","onCatch","loadItem","api","RestApi","getApi","_uri","getRequestUrl","checkResponse","isStr","isArr","loadImpl","crKey","_default","exports","default"],"sources":["../../../src/flux/logic/loadImpl.js"],"sourcesContent":["import {\r\n  isArr,\r\n  isStr,\r\n} from '../../utils/isTypeFn';\r\nimport { delayFn } from '../../utils/delayFn';\r\n\r\nimport fnFetch from '../../network/fnFetch';\r\nimport onCatch from '../../network/fnCatch';\r\n\r\nimport RestApi from '../../api/RestApi';\r\n\r\nconst _fetchToChartComp = ({\r\n  json,\r\n  option,\r\n  onCompleted\r\n}) => {\r\n  onCompleted(option, json);\r\n};\r\n\r\nconst _fFetchUrl = (\r\n  uri,\r\n  onCheckResponse,\r\n  onFailed\r\n) => ({\r\n  json,\r\n  option,\r\n  onCompleted\r\n}) => {\r\n  option.json1 = json\r\n  delayFn(4000, () => fnFetch({\r\n    uri,\r\n    option,\r\n    onCheckResponse,\r\n    onFetch : _fetchToChartComp,\r\n    onCompleted,\r\n    onCatch,\r\n    onFailed\r\n  }))\r\n};\r\n\r\nconst loadItem = (\r\n  option,\r\n  onCompleted,\r\n  onFailed\r\n) => {\r\n  const api = RestApi.getApi(option)\r\n  , _uri = api.getRequestUrl(option)\r\n  , onCheckResponse = api.checkResponse\r\n  , [\r\n    uri,\r\n    onFetch\r\n  ] = isStr(_uri)\r\n    ? [_uri, _fetchToChartComp]\r\n    : isArr(_uri)\r\n       ? [_uri[0], _fFetchUrl(_uri[1], onCheckResponse, onFailed)]\r\n       : [];\r\n\r\n   fnFetch({\r\n     uri,\r\n     onFetch,\r\n     onCheckResponse,\r\n     option,\r\n     onCompleted,\r\n     onCatch,\r\n     onFailed\r\n   })\r\n\r\n};\r\n\r\nconst loadImpl = {\r\n  loadItem,\r\n  crKey: RestApi.crKey\r\n};\r\n\r\nexport default loadImpl\r\n"],"mappings":";;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAIA,IAAAC,QAAA,GAAAD,OAAA;AAEA,IAAAE,QAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,QAAA,GAAAD,sBAAA,CAAAH,OAAA;AAEA,IAAAK,QAAA,GAAAF,sBAAA,CAAAH,OAAA;AAEA,MAAMM,iBAAiB,GAAGC,IAAA,IAIpB;EAAA,IAJqB;IACzBC,IAAI;IACJC,MAAM;IACNC;EACF,CAAC,GAAAH,IAAA;EACCG,WAAW,CAACD,MAAM,EAAED,IAAI,CAAC;AAC3B,CAAC;AAED,MAAMG,UAAU,GAAGA,CACjBC,GAAG,EACHC,eAAe,EACfC,QAAQ,KACLC,KAAA,IAIC;EAAA,IAJA;IACJP,IAAI;IACJC,MAAM;IACNC;EACF,CAAC,GAAAK,KAAA;EACCN,MAAM,CAACO,KAAK,GAAGR,IAAI;EACnB,IAAAS,gBAAO,EAAC,IAAI,EAAE,MAAM,IAAAC,gBAAO,EAAC;IAC1BN,GAAG;IACHH,MAAM;IACNI,eAAe;IACfM,OAAO,EAAGb,iBAAiB;IAC3BI,WAAW;IACXU,OAAO,EAAPA,gBAAO;IACPN;EACF,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAMO,QAAQ,GAAGA,CACfZ,MAAM,EACNC,WAAW,EACXI,QAAQ,KACL;EACH,MAAMQ,GAAG,GAAGC,gBAAO,CAACC,MAAM,CAACf,MAAM,CAAC;IAChCgB,IAAI,GAAGH,GAAG,CAACI,aAAa,CAACjB,MAAM,CAAC;IAChCI,eAAe,GAAGS,GAAG,CAACK,aAAa;IACnC,CACAf,GAAG,EACHO,OAAO,CACR,GAAG,IAAAS,eAAK,EAACH,IAAI,CAAC,GACX,CAACA,IAAI,EAAEnB,iBAAiB,CAAC,GACzB,IAAAuB,eAAK,EAACJ,IAAI,CAAC,GACR,CAACA,IAAI,CAAC,CAAC,CAAC,EAAEd,UAAU,CAACc,IAAI,CAAC,CAAC,CAAC,EAAEZ,eAAe,EAAEC,QAAQ,CAAC,CAAC,GACzD,EAAE;EAER,IAAAI,gBAAO,EAAC;IACNN,GAAG;IACHO,OAAO;IACPN,eAAe;IACfJ,MAAM;IACNC,WAAW;IACXU,OAAO,EAAPA,gBAAO;IACPN;EACF,CAAC,CAAC;AAEL,CAAC;AAED,MAAMgB,QAAQ,GAAG;EACfT,QAAQ;EACRU,KAAK,EAAER,gBAAO,CAACQ;AACjB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEaJ,QAAQ","ignoreList":[]}