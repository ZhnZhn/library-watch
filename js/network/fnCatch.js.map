{"version":3,"file":"fnCatch.js","names":["_Msg","require","_hasToken","str","token","indexOf","_default","_ref","error","option","onFailed","errCaption","message","TypeError","setAlertMsgTo","ALERT_SERVICE_UNAVAILABLE","ALERT_NETWORK_ERROR","alertCaption","ALERT_RUNTIME_ERROR","caption","alertDescr","exports","default"],"sources":["../../src/network/fnCatch.js"],"sourcesContent":["import {\r\n  setAlertMsgTo,\r\n  ALERT_SERVICE_UNAVAILABLE,\r\n  ALERT_NETWORK_ERROR,\r\n  ALERT_RUNTIME_ERROR\r\n} from '../constants/Msg';\r\n\r\nconst _hasToken = (\r\n  str,\r\n  token\r\n) => (str || '').indexOf(token) !== -1;\r\n\r\nexport default ({\r\n  error,\r\n  option,\r\n  onFailed\r\n}) => {\r\n  const {\r\n    errCaption,\r\n    message\r\n  } = error || {};\r\n  if (error instanceof TypeError){\r\n    if (_hasToken(message, 'code 503')){\r\n       setAlertMsgTo(option, ALERT_SERVICE_UNAVAILABLE)\r\n    } else if (_hasToken(message, 'fetch')) {\r\n       setAlertMsgTo(option, ALERT_NETWORK_ERROR)\r\n    } else {\r\n       option.alertCaption = errCaption\r\n         || ALERT_RUNTIME_ERROR.caption\r\n       option.alertDescr = message;\r\n    }\r\n  } else {\r\n     option.alertCaption = errCaption\r\n        || ALERT_RUNTIME_ERROR.caption;\r\n     option.alertDescr = message;\r\n  }\r\n\r\n  onFailed(option);\r\n}\r\n"],"mappings":";;;;AAAA,IAAAA,IAAA,GAAAC,OAAA;AAOA,MAAMC,SAAS,GAAGA,CAChBC,GAAG,EACHC,KAAK,KACF,CAACD,GAAG,IAAI,EAAE,EAAEE,OAAO,CAACD,KAAK,CAAC,KAAK,CAAC,CAAC;AAAC,IAAAE,QAAA,GAExBC,IAAA,IAIT;EAAA,IAJU;IACdC,KAAK;IACLC,MAAM;IACNC;EACF,CAAC,GAAAH,IAAA;EACC,MAAM;IACJI,UAAU;IACVC;EACF,CAAC,GAAGJ,KAAK,IAAI,CAAC,CAAC;EACf,IAAIA,KAAK,YAAYK,SAAS,EAAC;IAC7B,IAAIX,SAAS,CAACU,OAAO,EAAE,UAAU,CAAC,EAAC;MAChC,IAAAE,kBAAa,EAACL,MAAM,EAAEM,8BAAyB,CAAC;IACnD,CAAC,MAAM,IAAIb,SAAS,CAACU,OAAO,EAAE,OAAO,CAAC,EAAE;MACrC,IAAAE,kBAAa,EAACL,MAAM,EAAEO,wBAAmB,CAAC;IAC7C,CAAC,MAAM;MACJP,MAAM,CAACQ,YAAY,GAAGN,UAAU,IAC3BO,wBAAmB,CAACC,OAAO;MAChCV,MAAM,CAACW,UAAU,GAAGR,OAAO;IAC9B;EACF,CAAC,MAAM;IACJH,MAAM,CAACQ,YAAY,GAAGN,UAAU,IAC1BO,wBAAmB,CAACC,OAAO;IACjCV,MAAM,CAACW,UAAU,GAAGR,OAAO;EAC9B;EAEAF,QAAQ,CAACD,MAAM,CAAC;AAClB,CAAC;AAAAY,OAAA,CAAAC,OAAA,GAAAhB,QAAA","ignoreList":[]}