{"version":3,"file":"localStorageFn.js","names":["KEY_PREFIX","LS","window","localStorage","_toLs","JSON","stringify","_fromLs","parse","_crErr","msg","message","ERR_LS_IS_ABSENT","ERR_USE_LS_NOT_ALLOWED","hasLocalStorage","exports","_isAllowUseLs","_crStorageKey","storageKey","readFromLs","err","writeToLs","value"],"sources":["../../src/utils/localStorageFn.js"],"sourcesContent":["const KEY_PREFIX = 'LW'\r\n, LS = window.localStorage\r\n, _toLs = JSON.stringify\r\n, _fromLs = JSON.parse\r\n, _crErr = msg => ({ message: msg })\r\n, ERR_LS_IS_ABSENT = _crErr(\"LocalStorage is absent\")\r\n, ERR_USE_LS_NOT_ALLOWED = _crErr(\"Use LocalStorage is not allowed\");\r\n\r\nexport const hasLocalStorage = !!(LS)\r\n\r\nlet _isAllowUseLs = true;\r\nconst _crStorageKey = (\r\n  storageKey\r\n) => `${KEY_PREFIX}_${storageKey}`;\r\n\r\nexport const readFromLs = (\r\n  storageKey\r\n) => {\r\n  if (hasLocalStorage) {\r\n    try {\r\n      return [_fromLs(LS[_crStorageKey(storageKey)])];\r\n    } catch(err) {\r\n      return [void 0, err];\r\n    }\r\n  } else {\r\n    return [void 0, {...ERR_LS_IS_ABSENT}];\r\n  }\r\n}\r\n\r\nexport const writeToLs = (\r\n  storageKey,\r\n  value\r\n) => {\r\n  if (!_isAllowUseLs) {\r\n    return {...ERR_USE_LS_NOT_ALLOWED};\r\n  }\r\n  if (hasLocalStorage) {\r\n    try {\r\n      LS[_crStorageKey(storageKey)] = _toLs(value)\r\n    } catch(err) {\r\n      return err;\r\n    }\r\n  } else {\r\n    return {...ERR_LS_IS_ABSENT};\r\n  }\r\n}\r\n"],"mappings":";;;;AAAA,MAAMA,UAAU,GAAG,IAAI;EACrBC,EAAE,GAAGC,MAAM,CAACC,YAAY;EACxBC,KAAK,GAAGC,IAAI,CAACC,SAAS;EACtBC,OAAO,GAAGF,IAAI,CAACG,KAAK;EACpBC,MAAM,GAAGC,GAAG,KAAK;IAAEC,OAAO,EAAED;EAAI,CAAC,CAAC;EAClCE,gBAAgB,GAAGH,MAAM,CAAC,wBAAwB,CAAC;EACnDI,sBAAsB,GAAGJ,MAAM,CAAC,iCAAiC,CAAC;AAE7D,MAAMK,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG,CAAC,CAAEb,EAAG;AAErC,IAAIe,aAAa,GAAG,IAAI;AACxB,MAAMC,aAAa,GACjBC,UAAU,IACP,GAAGlB,UAAU,IAAIkB,UAAU,EAAE;AAE3B,MAAMC,UAAU,GACrBD,UAAU,IACP;EACH,IAAIJ,eAAe,EAAE;IACnB,IAAI;MACF,OAAO,CAACP,OAAO,CAACN,EAAE,CAACgB,aAAa,CAACC,UAAU,CAAC,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC,OAAME,GAAG,EAAE;MACX,OAAO,CAAC,KAAK,CAAC,EAAEA,GAAG,CAAC;IACtB;EACF,CAAC,MAAM;IACL,OAAO,CAAC,KAAK,CAAC,EAAE;MAAC,GAAGR;IAAgB,CAAC,CAAC;EACxC;AACF,CAAC;AAAAG,OAAA,CAAAI,UAAA,GAAAA,UAAA;AAEM,MAAME,SAAS,GAAGA,CACvBH,UAAU,EACVI,KAAK,KACF;EACH,IAAI,CAACN,aAAa,EAAE;IAClB,OAAO;MAAC,GAAGH;IAAsB,CAAC;EACpC;EACA,IAAIC,eAAe,EAAE;IACnB,IAAI;MACFb,EAAE,CAACgB,aAAa,CAACC,UAAU,CAAC,CAAC,GAAGd,KAAK,CAACkB,KAAK,CAAC;IAC9C,CAAC,CAAC,OAAMF,GAAG,EAAE;MACX,OAAOA,GAAG;IACZ;EACF,CAAC,MAAM;IACL,OAAO;MAAC,GAAGR;IAAgB,CAAC;EAC9B;AACF,CAAC;AAAAG,OAAA,CAAAM,SAAA,GAAAA,SAAA","ignoreList":[]}