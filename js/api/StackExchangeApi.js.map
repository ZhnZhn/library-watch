{"version":3,"sources":["../../src/api/StackExchangeApi.js"],"names":["BASE","_rRequestTypeToUrl","SE_QUESTIONS","repo","sort","fromdate","todate","SE_SEARCH_QUESTIONS","intitle","StackExchangeApi","getRequestUrl","option","fnFactory","requestType","getOnCheckResponse","checkResponse","crKey","json","error_message","error_name","errCaption","StringUtil","setFirstToUpperCase","replace","message"],"mappings":";;;;;;;AACA;;AAEA,IAAMA,IAAI,GAAG,mCAAb,C,CAEA;AACA;;AAEA,IAAMC,kBAAkB,GAAG;AACzBC,EAAAA,YAAY,EAAG,4BAA6C;AAAA,QAA1CC,IAA0C,QAA1CA,IAA0C;AAAA,yBAApCC,IAAoC;AAAA,QAApCA,IAAoC,0BAA/B,MAA+B;AAAA,QAAvBC,QAAuB,QAAvBA,QAAuB;AAAA,QAAbC,MAAa,QAAbA,MAAa;AAC1D,WAAUN,IAAV,0DAAmEK,QAAnE,gBAAsFC,MAAtF,cAAqGF,IAArG,gBAAoHD,IAApH;AACD,GAHwB;AAIzBI,EAAAA,mBAAmB,EAAG,oCAAkE;AAAA,2BAA/DJ,IAA+D;AAAA,QAA/DA,IAA+D,2BAA1D,KAA0D;AAAA,8BAAnDK,OAAmD;AAAA,QAAnDA,OAAmD,8BAA3C,EAA2C;AAAA,2BAAvCJ,IAAuC;AAAA,QAAvCA,IAAuC,2BAAlC,UAAkC;AAAA,QAAtBC,QAAsB,SAAtBA,QAAsB;AAAA,QAAZC,MAAY,SAAZA,MAAY;;AACtF,QAAI,CAACH,IAAD,IAAS,CAACK,OAAd,EAAuB;AAAEL,MAAAA,IAAI,GAAG,KAAP;AAAe;;AACxC,WAAUH,IAAV,uDAAgEK,QAAhE,gBAAmFC,MAAnF,cAAkGF,IAAlG,gBAAiHD,IAAjH,iBAAiIK,OAAjI;AACD;AAPwB,CAA3B;AAUA,IAAMC,gBAAgB,GAAG;AACtBC,EAAAA,aADsB,yBACRC,MADQ,EACD;AACnB,QAAMC,SAAS,GAAGX,kBAAkB,CAACU,MAAM,CAACE,WAAR,CAApC;AACA,WAAOD,SAAS,CAACD,MAAD,CAAhB;AACD,GAJqB;AAKtBG,EAAAA,kBALsB,gCAKF;AAClB,WAAO,KAAKC,aAAZ;AACD,GAPqB;AAQtBC,EAAAA,KARsB,wBAQM;AAAA,QAApBb,IAAoB,SAApBA,IAAoB;AAAA,QAAdU,WAAc,SAAdA,WAAc;AAC1B,WAAUV,IAAV,SAAkBU,WAAlB;AACD,GAVqB;AAYtBE,EAAAA,aAZsB,yBAYRE,IAZQ,EAYCN,MAZD,EAYQ;AAAA,QAAhBM,IAAgB;AAAhBA,MAAAA,IAAgB,GAAX,EAAW;AAAA;;AAAA,gBACaA,IADb;AAAA,QACpBC,aADoB,SACpBA,aADoB;AAAA,iCACLC,UADK;AAAA,QACLA,UADK,iCACM,EADN;;AAE5B,QAAID,aAAJ,EAAkB;AAChB,YAAM;AACHE,QAAAA,UAAU,EAAGC,uBAAWC,mBAAX,CAA+BH,UAAU,CAACI,OAAX,CAAmB,GAAnB,EAAwB,GAAxB,CAA/B,CADV;AAEHC,QAAAA,OAAO,EAAGH,uBAAWC,mBAAX,CAA+BJ,aAA/B;AAFP,OAAN;AAID;;AACA,WAAO,IAAP;AACF;AArBqB,CAAzB;eAwBeT,gB","sourcesContent":["\r\nimport StringUtil from '../utils/StringUtil';\r\n\r\nconst BASE = \"https://api.stackexchange.com/2.2\";\r\n\r\n// /questions/{ids}/linked Get the questions that link to the questions identified by a set of ids.\r\n// /questions/{ids}/related Get the questions that are related to the questions identified by a set of ids.\r\n\r\nconst _rRequestTypeToUrl = {\r\n  SE_QUESTIONS : ({ repo, sort='week', fromdate, todate }) => {\r\n    return `${BASE}/questions?page=1&pagesize=50&order=desc&fromdate=${fromdate}&todate=${todate}&sort=${sort}&tagged=${repo}&site=stackoverflow`;\r\n  },\r\n  SE_SEARCH_QUESTIONS : ({ repo='css', intitle='', sort='activity', fromdate, todate}) => {\r\n    if (!repo && !intitle) { repo = 'css'; }\r\n    return `${BASE}/search?page=1&pagesize=50&order=desc&fromdate=${fromdate}&todate=${todate}&sort=${sort}&tagged=${repo}&intitle=${intitle}&site=stackoverflow`;\r\n  }\r\n}\r\n\r\nconst StackExchangeApi = {\r\n   getRequestUrl(option){\r\n     const fnFactory = _rRequestTypeToUrl[option.requestType];\r\n     return fnFactory(option);\r\n   },\r\n   getOnCheckResponse(){\r\n     return this.checkResponse\r\n   },\r\n   crKey({ repo, requestType }){\r\n     return `${repo}_${requestType}`;\r\n   },\r\n\r\n   checkResponse(json={}, option){\r\n     const { error_message, error_name='' } = json\r\n     if (error_message){\r\n       throw {\r\n          errCaption : StringUtil.setFirstToUpperCase(error_name.replace('_', ' ')),\r\n          message : StringUtil.setFirstToUpperCase(error_message)\r\n        }\r\n     }\r\n      return true;\r\n   }\r\n};\r\n\r\nexport default StackExchangeApi\r\n"],"file":"StackExchangeApi.js"}