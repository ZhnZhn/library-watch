{"version":3,"sources":["../../src/api/StatCounterApi.js"],"names":["C","URL","WIN_DESKTOP","MAC_DESKTOP","ANDROID_MOBILE","IOS_MOBILE","HM_URL","csv","link","_isArr","Array","isArray","_crLinks","option","value","region","_urlItem","caption","v2","StatCounterApi","getRequestUrl","fetchType","sourceLink","crKey","vRegion","getOnCheckResponse","checkResponse","json","data"],"mappings":";;;;AACA,IAAMA,CAAC,GAAG;AACRC,EAAAA,GAAG,EAAE,6BADG;AAERC,EAAAA,WAAW,EAAE,0CAFL;AAGRC,EAAAA,WAAW,EAAE,wCAHL;AAIRC,EAAAA,cAAc,EAAE,gDAJR;AAKRC,EAAAA,UAAU,EAAE;AALJ,CAAV;AAQA,IAAMC,MAAM,GAAG;AACb,QAAM;AACJ;AACAC,IAAAA,GAAG,EAAKP,CAAC,CAACC,GAAP,uSAFC;AAGJO,IAAAA,IAAI,EAAKR,CAAC,CAACC,GAAP,qBAHA,CAIJ;;AAJI,GADO;AAQb,iBAAe;AACb;AACAM,IAAAA,GAAG,OAAKP,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACE,WAAf,8MAFU;AAGbM,IAAAA,IAAI,OAAKR,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACE,WAHN,CAIf;;AAJe,GARF;AAcb,iBAAe;AACb;AACAK,IAAAA,GAAG,OAAKP,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACG,WAAf,0MAFU;AAGbK,IAAAA,IAAI,OAAKR,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACG,WAHN,CAIb;;AAJa,GAdF;AAoBb,oBAAkB;AAChB;AACAI,IAAAA,GAAG,OAAKP,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACI,cAAf,sPAFa;AAGhBI,IAAAA,IAAI,OAAKR,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACI,cAHH,CAIhB;;AAJgB,GApBL;AA0Bb,gBAAc;AACZ;AACA;AACAG,IAAAA,GAAG,OAAKP,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACK,UAAf,8OAHS;AAIZG,IAAAA,IAAI,OAAKR,CAAC,CAACC,GAAP,GAAaD,CAAC,CAACK,UAJP,CAKZ;;AALY,GA1BD;AAiCb,aAAW;AACT;AACAE,IAAAA,GAAG,EAAKP,CAAC,CAACC,GAAP,wRAFM;AAGTO,IAAAA,IAAI,EAAKR,CAAC,CAACC,GAAP;AAHK;AAjCE,CAAf;AAwCA,IAAMQ,MAAM,GAAGC,KAAK,CAACC,OAArB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,MAAD,EAAY;AAAA,MACnBC,KADmB,GACED,MADF,CACnBC,KADmB;AAAA,uBACED,MADF,CACZE,MADY;AAAA,MACZA,MADY,+BACL,EADK;AAAA,MAEzBC,QAFyB,GAEdV,MAAM,CAACQ,KAAD,CAFQ;AAG3B,SAAO;AACLP,IAAAA,GAAG,EAAKS,QAAQ,CAACT,GAAd,gBAA4BQ,MAAM,CAACE,OAAnC,uBAA4DF,MAAM,CAACG,EADjE;AAELV,IAAAA,IAAI,OAAKQ,QAAQ,CAACR,IAAd,GAAqBO,MAAM,CAACD;AAF3B,GAAP;AAID,CAPD;;AASA,IAAMK,cAAc,GAAG;AACrBC,EAAAA,aAAa,EAAE,uBAACP,MAAD,EAAY;AAAA,oBACJD,QAAQ,CAACC,MAAD,CADJ;AAAA,QACjBN,GADiB,aACjBA,GADiB;AAAA,QACZC,IADY,aACZA,IADY;;AAEzBK,IAAAA,MAAM,CAACQ,SAAP,GAAmB,YAAnB;AACAR,IAAAA,MAAM,CAACS,UAAP,GAAoBd,IAApB;AACA,WAAOD,GAAP;AACD,GANoB;AASrBgB,EAAAA,KAAK,EAAE,eAACV,MAAD,EAAY;AAAA,QACTC,KADS,GACSD,MADT,CACTC,KADS;AAAA,QACFC,MADE,GACSF,MADT,CACFE,MADE;AAAA,eAESA,MAAM,IAAI,EAFnB;AAAA,0BAEbD,KAFa;AAAA,QAENU,OAFM,2BAEE,EAFF;;AAGjB,WAAUA,OAAV,SAAqBV,KAArB;AACD,GAboB;AAerBW,EAAAA,kBAAkB,EAAE,8BAAM;AACxB,WAAON,cAAc,CAACO,aAAtB;AACD,GAjBoB;AAmBrBA,EAAAA,aAAa,EAAE,uBAACC,IAAD,EAAOd,MAAP,EAAkB;AAC/B,WAAOc,IAAI,IAAIlB,MAAM,CAACkB,IAAI,CAACC,IAAN,CAArB;AACD;AArBoB,CAAvB;eAwBeT,c","sourcesContent":["\r\nconst C = {\r\n  URL: 'https://gs.statcounter.com/',\r\n  WIN_DESKTOP: 'os-version-market-share/windows/desktop/',\r\n  MAC_DESKTOP: 'os-version-market-share/macos/desktop/',\r\n  ANDROID_MOBILE: 'os-version-market-share/android/mobile-tablet/',\r\n  IOS_MOBILE: 'os-version-market-share/ios/mobile-tablet/',\r\n};\r\n\r\nconst HM_URL = {\r\n  \"os\": {\r\n    //csv: `${C.URL}chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&region_hidden=ww&granularity=monthly&statType=Operating%20System&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&granularity=monthly&statType=Operating%20System&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}os-market-share/`\r\n    //'https://gs.statcounter.com/chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=os_combined&region_hidden=ww&granularity=monthly&statType=Operating%20System&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1',\r\n  },\r\n\r\n  \"win-desktop\": {\r\n    //csv: `${C.URL}${C.WIN_DESKTOP}chart.php?device=Desktop&device_hidden=desktop&statType_hidden=windows_version&region_hidden=ww&granularity=monthly&statType=Windows%10Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}${C.WIN_DESKTOP}chart.php?device=Desktop&device_hidden=desktop&statType_hidden=windows_version&granularity=monthly&statType=Windows%10Version&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}${C.WIN_DESKTOP}`\r\n  //'https://gs.statcounter.com/os-version-market-share/windows/desktop/chart.php?device=Desktop&device_hidden=desktop&statType_hidden=windows_version&region_hidden=ww&granularity=monthly&statType=Windows%10Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1'\r\n  },\r\n  \"mac-desktop\": {\r\n    //csv: `${C.URL}${C.MAC_DESKTOP}chart.php?device=Desktop&device_hidden=desktop&statType_hidden=macos_version&region_hidden=ww&granularity=monthly&statType=macOS%20Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}${C.MAC_DESKTOP}chart.php?device=Desktop&device_hidden=desktop&statType_hidden=macos_version&granularity=monthly&statType=macOS%20Version&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}${C.MAC_DESKTOP}`\r\n    //'https://gs.statcounter.com/os-version-market-share/macos/desktop/chart.php?device=Desktop&device_hidden=desktop&statType_hidden=macos_version&region_hidden=ww&granularity=monthly&statType=macOS%20Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1',\r\n  },\r\n  \"android-mobile\": {\r\n    //csv: `${C.URL}${C.ANDROID_MOBILE}chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=android_version&region_hidden=ww&granularity=monthly&statType=Android%20Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}${C.ANDROID_MOBILE}chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=android_version&granularity=monthly&statType=Android%20Version&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}${C.ANDROID_MOBILE}`\r\n    //'https://gs.statcounter.com/os-version-market-share/android/mobile-tablet/chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=android_version&region_hidden=ww&granularity=monthly&statType=Android%20Version&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1',\r\n  },\r\n  \"ios-mobile\": {\r\n    //csv: `${C.URL}${C.IOS_MOBILE}chart.php?device=Mobile%-49%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=ios_version&region_hidden=US&granularity=monthly&statType=iOS%20Version&region=ww&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    //csv: `${C.URL}${C.IOS_MOBILE}chart.php?device=Mobile%-49%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=ios_version&granularity=monthly&statType=iOS%20Version&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}${C.IOS_MOBILE}chart.php?device=Mobile%20%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=ios_version&granularity=monthly&statType=iOS%20Version&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}${C.IOS_MOBILE}`\r\n    //'https://gs.statcounter.com/os-version-market-share/ios/mobile-tablet/chart.php?device=Mobile%-49%26%20Tablet&device_hidden=mobile%2Btablet&multi-device=true&statType_hidden=ios_version&region_hidden=US&granularity=monthly&statType=iOS%20Version&region=ww&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1'\r\n  },\r\n  \"browser\": {\r\n    //csv: `${C.URL}chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=browser&region_hidden=ww&granularity=monthly&statType=Browser&region=Worldwide&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    csv: `${C.URL}chart.php?device=Desktop%20%26%20Mobile%20%26%20Tablet%20%26%20Console&device_hidden=desktop%2Bmobile%2Btablet%2Bconsole&multi-device=true&statType_hidden=browser&granularity=monthly&statType=Browser&fromInt=201807&toInt=201907&fromMonthYear=2018-07&toMonthYear=2019-07&csv=1`,\r\n    link: `${C.URL}browser-market-share/all/`\r\n  }\r\n};\r\n\r\nconst _isArr = Array.isArray;\r\n\r\nconst _crLinks = (option) => {\r\n  const { value, region={} } = option\r\n  , _urlItem = HM_URL[value]\r\n  return {\r\n    csv: `${_urlItem.csv}&region=${region.caption}&region_hidden=${region.v2}`,\r\n    link: `${_urlItem.link}${region.value}`\r\n  };\r\n}\r\n\r\nconst StatCounterApi = {\r\n  getRequestUrl: (option) => {\r\n    const { csv, link } =_crLinks(option)\r\n    option.fetchType = 'csv-stream'\r\n    option.sourceLink = link\r\n    return csv;\r\n  },\r\n\r\n\r\n  crKey: (option) => {\r\n    const { value, region } = option\r\n    , { value: vRegion='' } = region || {};\r\n    return `${vRegion}-${value}`;\r\n  },\r\n\r\n  getOnCheckResponse: () => {\r\n    return StatCounterApi.checkResponse;\r\n  },\r\n\r\n  checkResponse: (json, option) => {\r\n    return json && _isArr(json.data);\r\n  }\r\n};\r\n\r\nexport default StatCounterApi\r\n"],"file":"StatCounterApi.js"}